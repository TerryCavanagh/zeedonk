this.createjs=this.createjs||{};(function(){var d=createjs.SoundJS=createjs.SoundJS||{};d.version="0.6.0";d.buildDate="Thu, 11 Dec 2014 23:32:09 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(d,h){function r(){this.constructor=d}return r.prototype=h.prototype,d.prototype=new r};this.createjs=this.createjs||{};
createjs.promote=function(d,h){var r=d.prototype,u=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(u){r[(h+="_")+"constructor"]=u.constructor;for(var M in u)r.hasOwnProperty(M)&&"function"==typeof u[M]&&(r[h+M]=u[M])}return d};this.createjs=this.createjs||{};createjs.indexOf=function(d,h){for(var r=0,u=d.length;u>r;r++)if(h===d[r])return r;return-1};this.createjs=this.createjs||{};
(function(){createjs.proxy=function(d,h){var r=Array.prototype.slice.call(arguments,2);return function(){return d.apply(h,Array.prototype.slice.call(arguments,0).concat(r))}}})();this.createjs=this.createjs||{};(function(){var d=Object.defineProperty?!0:!1,h={};try{Object.defineProperty(h,"bar",{get:function(){return this._bar},set:function(d){this._bar=d}})}catch(r){d=!1}createjs.definePropertySupported=d})();this.createjs=this.createjs||{};
(function(){function d(){throw"BrowserDetect cannot be instantiated";}var h=d.agent=window.navigator.userAgent;d.isWindowPhone=-1<h.indexOf("IEMobile")||-1<h.indexOf("Windows Phone");d.isFirefox=-1<h.indexOf("Firefox");d.isOpera=null!=window.opera;d.isChrome=-1<h.indexOf("Chrome");d.isIOS=(-1<h.indexOf("iPod")||-1<h.indexOf("iPhone")||-1<h.indexOf("iPad"))&&!d.isWindowPhone;d.isAndroid=-1<h.indexOf("Android")&&!d.isWindowPhone;d.isBlackberry=-1<h.indexOf("Blackberry");createjs.BrowserDetect=d})();
this.createjs=this.createjs||{};
(function(){function d(){this._captureListeners=this._listeners=null}var h=d.prototype;d.initialize=function(d){d.addEventListener=h.addEventListener;d.on=h.on;d.removeEventListener=d.off=h.removeEventListener;d.removeAllEventListeners=h.removeAllEventListeners;d.hasEventListener=h.hasEventListener;d.dispatchEvent=h.dispatchEvent;d._dispatchEvent=h._dispatchEvent;d.willTrigger=h.willTrigger};h.addEventListener=function(d,u,h){var z;z=h?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var q=z[d];return q&&this.removeEventListener(d,u,h),q=z[d],q?q.push(u):z[d]=[u],u};h.on=function(d,u,h,z,q,l){return u.handleEvent&&(h=h||u,u=u.handleEvent),h=h||this,this.addEventListener(d,function(d){u.call(h,d,q);z&&d.remove()},l)};h.removeEventListener=function(d,u,h){if(h=h?this._captureListeners:this._listeners){var z=h[d];if(z)for(var q=0,l=z.length;l>q;q++)if(z[q]==u){1==l?delete h[d]:z.splice(q,1);break}}};h.off=h.removeEventListener;h.removeAllEventListeners=function(d){d?
(this._listeners&&delete this._listeners[d],this._captureListeners&&delete this._captureListeners[d]):this._listeners=this._captureListeners=null};h.dispatchEvent=function(d){if("string"==typeof d){var u=this._listeners;if(!u||!u[d])return!1;d=new createjs.Event(d)}else d.target&&d.clone&&(d=d.clone());try{d.target=this}catch(h){}if(d.bubbles&&this.parent){for(var z=this,u=[z];z.parent;)u.push(z=z.parent);for(var q=u.length,z=q-1;0<=z&&!d.propagationStopped;z--)u[z]._dispatchEvent(d,1+(0==z));for(z=
1;q>z&&!d.propagationStopped;z++)u[z]._dispatchEvent(d,3)}else this._dispatchEvent(d,2);return d.defaultPrevented};h.hasEventListener=function(d){var u=this._listeners,h=this._captureListeners;return!!(u&&u[d]||h&&h[d])};h.willTrigger=function(d){for(var u=this;u;){if(u.hasEventListener(d))return!0;u=u.parent}return!1};h.toString=function(){return"[EventDispatcher]"};h._dispatchEvent=function(d,u){var h,z=1==u?this._captureListeners:this._listeners;if(d&&z&&(z=z[d.type])&&(h=z.length)){try{d.currentTarget=
this}catch(q){}try{d.eventPhase=u}catch(l){}d.removed=!1;for(var z=z.slice(),R=0;h>R&&!d.immediatePropagationStopped;R++){var xa=z[R];xa.handleEvent?xa.handleEvent(d):xa(d);d.removed&&(this.off(d.type,xa,1==u),d.removed=!1)}}};createjs.EventDispatcher=d})();this.createjs=this.createjs||{};
(function(){function d(d,u,h){this.type=d;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!u;this.cancelable=!!h;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var h=d.prototype;h.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};h.stopPropagation=function(){this.propagationStopped=!0};h.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};h.remove=function(){this.removed=!0};h.clone=function(){return new d(this.type,this.bubbles,this.cancelable)};h.set=function(d){for(var u in d)this[u]=d[u];return this};h.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=d})();this.createjs=this.createjs||{};
(function(){function d(d,r,u){this.Event_constructor("error");this.title=d;this.message=r;this.data=u}createjs.extend(d,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(d,"Event")})();this.createjs=this.createjs||{};
(function(){function d(d,r){this.Event_constructor("progress");this.loaded=d;this.total=null==r?1:r;this.progress=0==r?0:this.loaded/this.total}createjs.extend(d,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(d,"Event")})(window);this.createjs=this.createjs||{};
(function(){function d(){this.id=this.type=this.src=null;this.maintainOrder=!1;this.data=this.callback=null;this.method=createjs.LoadItem.GET;this.headers=this.values=null;this.withCredentials=!1;this.mimeType=null;this.crossOrigin="Anonymous";this.loadTimeout=8E3}var h=d.prototype={};d.create=function(r){if("string"==typeof r){var u=new d;return u.src=r,u}if(r instanceof d||r instanceof Object)return r;throw Error("Type not recognized.");};h.set=function(d){for(var u in d)this[u]=d[u];return this};
createjs.LoadItem=d})();
(function(){var d={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(h){var r={absolute:!1,relative:!1};if(null==h)return r;var u=h.indexOf("?");-1<u&&(h=h.substr(0,u));var M;return d.ABSOLUTE_PATT.test(h)?r.absolute=!0:d.RELATIVE_PATT.test(h)&&(r.relative=!0),(M=h.match(d.EXTENSION_PATT))&&(r.extension=M[1].toLowerCase()),r},formatQueryString:function(d,r){if(null==d)throw Error("You must specify data.");var u=[],M;for(M in d)u.push(M+
"="+escape(d[M]));return r&&(u=u.concat(r)),u.join("&")},buildPath:function(d,r){if(null==r)return d;var u=[],M=d.indexOf("?");if(-1!=M)var z=d.slice(M+1),u=u.concat(z.split("&"));return-1!=M?d.slice(0,M)+"?"+this._formatQueryString(r,u):d+"?"+this._formatQueryString(r,u)},isCrossDomain:function(d){var r=document.createElement("a");r.href=d.src;d=document.createElement("a");d.href=location.href;return""!=r.hostname&&(r.port!=d.port||r.protocol!=d.protocol||r.hostname!=d.hostname)},isLocal:function(d){var r=
document.createElement("a");return r.href=d.src,""==r.hostname&&"file:"==r.protocol},isBinary:function(d){switch(d){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(d){return d instanceof HTMLImageElement},isAudioTag:function(d){return window.HTMLAudioElement?d instanceof HTMLAudioElement:!1},isVideoTag:function(d){return window.HTMLVideoElement?d instanceof HTMLVideoElement:void 0},isText:function(d){switch(d){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:return!0;
default:return!1}},getTypeByExtension:function(d){if(null==d)return createjs.AbstractLoader.TEXT;switch(d.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.AbstractLoader.IMAGE;case "ogg":case "mp3":case "webm":return createjs.AbstractLoader.SOUND;case "mp4":case "webm":case "ts":return createjs.AbstractLoader.VIDEO;case "json":return createjs.AbstractLoader.JSON;case "xml":return createjs.AbstractLoader.XML;case "css":return createjs.AbstractLoader.CSS;
case "js":return createjs.AbstractLoader.JAVASCRIPT;case "svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=d})();this.createjs=this.createjs||{};
(function(){function d(d,u,h){this.EventDispatcher_constructor();this.canceled=this.loaded=!1;this.progress=0;this.type=h;this.resultFormatter=null;this._item=d?createjs.LoadItem.create(d):null;this._preferXHR=u;this._tag=this._tagSrcAttribute=this._loadedItems=this._rawResult=this._result=null}var h=createjs.extend(d,createjs.EventDispatcher);d.POST="POST";d.GET="GET";d.BINARY="binary";d.CSS="css";d.IMAGE="image";d.JAVASCRIPT="javascript";d.JSON="json";d.JSONP="jsonp";d.MANIFEST="manifest";d.SOUND=
"sound";d.VIDEO="video";d.SPRITESHEET="spritesheet";d.SVG="svg";d.TEXT="text";d.XML="xml";h.getItem=function(){return this._item};h.getResult=function(d){return d?this._rawResult:this._result};h.getTag=function(){return this._tag};h.setTag=function(d){this._tag=d};h.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",
this,this);var d=new createjs.Event("initialize");d.loader=this._request;this.dispatchEvent(d);this._request.load()};h.cancel=function(){this.canceled=!0;this.destroy()};h.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._loadItems=this._result=this._rawResult=this._item=this._request=null;this.removeAllEventListeners()};h.getLoadedItems=function(){return this._loadedItems};h._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):
new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};h._createTag=function(){return null};h._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};h._sendProgress=function(d){if(!this._isCanceled()){var u=null;"number"==typeof d?(this.progress=d,u=new createjs.ProgressEvent(this.progress)):(u=d,this.progress=d.loaded/d.total,u.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));this.hasEventListener("progress")&&
this.dispatchEvent(u)}};h._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var d=new createjs.Event("complete");d.rawResult=this._rawResult;null!=this._result&&(d.result=this._result);this.dispatchEvent(d)}};h._sendError=function(d){!this._isCanceled()&&this.hasEventListener("error")&&(null==d&&(d=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(d))};h._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};h.resultFormatter=null;h.handleEvent=function(d){switch(d.type){case "complete":this._rawResult=
d.target._response;d=this.resultFormatter&&this.resultFormatter(this);var u=this;d instanceof Function?d(function(d){u._result=d;u._sendComplete()}):(this._result=d||this._rawResult,this._sendComplete());break;case "progress":this._sendProgress(d);break;case "error":this._sendError(d);break;case "loadstart":this._sendLoadStart();break;case "abort":case "timeout":this._isCanceled()||this.dispatchEvent(d.type)}};h.buildPath=function(d,u){return createjs.RequestUtils.buildPath(d,u)};h.toString=function(){return"[PreloadJS AbstractLoader]"};
createjs.AbstractLoader=createjs.promote(d,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function d(d,u,h){this.AbstractLoader_constructor(d,u,h);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src"}var h=createjs.extend(d,createjs.AbstractLoader);h.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};h._createTag=function(){};h._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),
this._tagSrcAttribute)};h._formatResult=function(d){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(d.getTag().src=d.getResult(!0)),d.getTag()};createjs.AbstractMediaLoader=createjs.promote(d,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){var d=function(d){this._item=d},h=createjs.extend(d,createjs.EventDispatcher);h.load=function(){};h.destroy=function(){};h.cancel=function(){};createjs.AbstractRequest=createjs.promote(d,"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function d(d,u,h){this.AbstractRequest_constructor(d);this._tag=u;this._tagSrcAttribute=h;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1;this._startTagVisibility=null}var h=createjs.extend(d,createjs.AbstractRequest);h.load=function(){null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0);this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,
this);var d=new createjs.Event("initialize");d.loader=this._tag;this.dispatchEvent(d);this._hideTag();this._tag[this._tagSrcAttribute]=this._item.src};h.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};h._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var d=this._tag;"loaded"!=d.readyState&&"complete"!=d.readyState||this._handleTagComplete()};h._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||
this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};h._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag)};h._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};h._showTag=function(){this._tag.style.visibility=this._startTagVisibility};h._handleStalled=function(){};createjs.TagRequest=createjs.promote(d,"AbstractRequest")})();
this.createjs=this.createjs||{};
(function(){function d(d,u,h){this.AbstractRequest_constructor(d);this._tag=u;this._tagSrcAttribute=h;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var h=createjs.extend(d,createjs.TagRequest);h.load=function(){this._tag.onstalled=createjs.proxy(this._handleStalled,this);this._tag.onprogress=createjs.proxy(this._handleProgress,this);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1);this.TagRequest_load()};h._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);
var d=this._tag;"loaded"!=d.readyState&&"complete"!=d.readyState||this._handleTagComplete()};h._handleStalled=function(){};h._handleProgress=function(d){!d||0<d.loaded&&0==d.total||(d=new createjs.ProgressEvent(d.loaded,d.total),this.dispatchEvent(d))};h._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;this._tag.onprogress=null;this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(d,"TagRequest")})();
this.createjs=this.createjs||{};
(function(){function d(d){this.AbstractRequest_constructor(d);this._loadTimeout=this._request=null;this._xhrLevel=1;this._rawResponse=this._response=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=
createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);!this._createXHR(d)}var h=createjs.extend(d,createjs.AbstractRequest);d.ACTIVEX_VERSIONS="Msxml2.XMLHTTP.6.0 Msxml2.XMLHTTP.5.0 Msxml2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");h.getResult=function(d){return d&&this._rawResponse?this._rawResponse:this._response};h.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};h.load=function(){if(null==
this._request)return void this._handleError();this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1);this._request.addEventListener("progress",this._handleProgressProxy,!1);this._request.addEventListener("abort",this._handleAbortProxy,!1);this._request.addEventListener("error",this._handleErrorProxy,!1);this._request.addEventListener("timeout",this._handleTimeoutProxy,!1);this._request.addEventListener("load",this._handleLoadProxy,!1);this._request.addEventListener("readystatechange",
this._handleReadyStateChangeProxy,!1);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(d){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,d))}};h.setResponseType=function(d){this._request.responseType=
d};h.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};h.getResponseHeader=function(d){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(d):null};h._handleProgress=function(d){!d||0<d.loaded&&0==d.total||(d=new createjs.ProgressEvent(d.loaded,d.total),this.dispatchEvent(d))};h._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};
h._handleAbort=function(d){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,d))};h._handleError=function(d){this._clean();this.dispatchEvent(new createjs.ErrorEvent(d.message))};h._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};h._handleLoad=function(){if(!this.loaded){this.loaded=!0;var d=this._checkError();if(d)return void this._handleError(d);this._response=this._getResponse();this._clean();this.dispatchEvent(new createjs.Event("complete"))}};
h._handleTimeout=function(d){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,d))};h._checkError=function(){var d=parseInt(this._request.status);switch(d){case 404:case 0:return Error(d)}return null};h._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(d){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(u){}return null};
h._createXHR=function(d){var u=createjs.RequestUtils.isCrossDomain(d),h={},z=null;if(window.XMLHttpRequest)z=new XMLHttpRequest,u&&void 0===z.withCredentials&&window.XDomainRequest&&(z=new XDomainRequest);else{for(var q=0,l=s.ACTIVEX_VERSIONS.length;l>q;q++){s.ACTIVEX_VERSIONS[q];try{z=new ActiveXObject(axVersions);break}catch(R){}}if(null==z)return!1}d.mimeType&&z.overrideMimeType&&z.overrideMimeType(d.mimeType);this._xhrLevel="string"==typeof z.responseType?2:1;q=null;if(q=d.method==createjs.AbstractLoader.GET?
createjs.RequestUtils.buildPath(d.src,d.values):d.src,z.open(d.method||createjs.AbstractLoader.GET,q,!0),u&&z instanceof XMLHttpRequest&&1==this._xhrLevel&&(h.Origin=location.origin),d.values&&d.method==createjs.AbstractLoader.POST&&(h["Content-Type"]="application/x-www-form-urlencoded"),u||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest"),d.headers)for(var xa in d.headers)h[xa]=d.headers[xa];for(xa in h)z.setRequestHeader(xa,h[xa]);return z instanceof XMLHttpRequest&&void 0!==d.withCredentials&&
(z.withCredentials=d.withCredentials),this._request=z,!0};h._clean=function(){clearTimeout(this._loadTimeout);this._request.removeEventListener("loadstart",this._handleLoadStartProxy);this._request.removeEventListener("progress",this._handleProgressProxy);this._request.removeEventListener("abort",this._handleAbortProxy);this._request.removeEventListener("error",this._handleErrorProxy);this._request.removeEventListener("timeout",this._handleTimeoutProxy);this._request.removeEventListener("load",this._handleLoadProxy);
this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)};h.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(d,"AbstractRequest")})();this.createjs=this.createjs||{};
(function(){function d(d,u){this.AbstractMediaLoader_constructor(d,u,createjs.AbstractLoader.SOUND);createjs.RequestUtils.isAudioTag(d)?this._tag=d:createjs.RequestUtils.isAudioTag(d.src)?this._tag=d:createjs.RequestUtils.isAudioTag(d.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(d)?d:d.src);null!=this._tag&&(this._preferXHR=!1)}var h=createjs.extend(d,createjs.AbstractMediaLoader);d.canLoadItem=function(d){return d.type==createjs.AbstractLoader.SOUND};h._createTag=function(d){var u=document.createElement("audio");
return u.autoplay=!1,u.preload="none",u.src=d,u};createjs.SoundLoader=createjs.promote(d,"AbstractMediaLoader")})();this.createjs=this.createjs||{};
(function(){function d(){throw"Sound cannot be instantiated";}function h(d,h){this.init(d,h)}d.INTERRUPT_ANY="any";d.INTERRUPT_EARLY="early";d.INTERRUPT_LATE="late";d.INTERRUPT_NONE="none";d.PLAY_INITED="playInited";d.PLAY_SUCCEEDED="playSucceeded";d.PLAY_INTERRUPTED="playInterrupted";d.PLAY_FINISHED="playFinished";d.PLAY_FAILED="playFailed";d.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");d.EXTENSION_MAP={m4a:"mp4"};d.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;
d.defaultInterruptBehavior=d.INTERRUPT_NONE;d.alternateExtensions=[];d.activePlugin=null;d._pluginsRegistered=!1;d._lastID=0;d._masterVolume=1;d._masterMute=!1;d._instances=[];d._idHash={};d._preloadHash={};d.addEventListener=null;d.removeEventListener=null;d.removeAllEventListeners=null;d.dispatchEvent=null;d.hasEventListener=null;d._listeners=null;createjs.EventDispatcher.initialize(d);d.getPreloadHandlers=function(){return{callback:createjs.proxy(d.initLoad,d),types:["sound"],extensions:d.SUPPORTED_EXTENSIONS}};
d._handleLoadComplete=function(u){var h=u.target.getItem().src;if(d._preloadHash[h])for(var r=0,q=d._preloadHash[h].length;q>r;r++){var l=d._preloadHash[h][r];if(d._preloadHash[h][r]=!0,d.hasEventListener("fileload"))u=new createjs.Event("fileload"),u.src=l.src,u.id=l.id,u.data=l.data,u.sprite=l.sprite,d.dispatchEvent(u)}};d._handleLoadError=function(u){var h=u.target.getItem().src;if(d._preloadHash[h])for(var r=0,q=d._preloadHash[h].length;q>r;r++){var l=d._preloadHash[h][r];if(d._preloadHash[h][r]=
!1,d.hasEventListener("fileerror"))u=new createjs.Event("fileerror"),u.src=l.src,u.id=l.id,u.data=l.data,u.sprite=l.sprite,d.dispatchEvent(u)}};d._registerPlugin=function(u){return u.isSupported()?(d.activePlugin=new u,!0):!1};d.registerPlugins=function(u){d._pluginsRegistered=!0;for(var h=0,r=u.length;r>h;h++)if(d._registerPlugin(u[h]))return!0;return!1};d.initializeDefaultPlugins=function(){return null!=d.activePlugin?!0:d._pluginsRegistered?!1:d.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?
!0:!1};d.isReady=function(){return null!=d.activePlugin};d.getCapabilities=function(){return null==d.activePlugin?null:d.activePlugin._capabilities};d.getCapability=function(u){return null==d.activePlugin?null:d.activePlugin._capabilities[u]};d.initLoad=function(u){return d._registerSound(u)};d._registerSound=function(u){if(!d.initializeDefaultPlugins())return!1;var r=d._parsePath(u.src);if(null==r)return!1;u.src=r.src;u.type="sound";var r=u.data,z=d.activePlugin.defaultNumChannels||null;if(null!=
r&&(isNaN(r.channels)?isNaN(r)||(z=parseInt(r)):z=parseInt(r.channels),r.audioSprite))for(var q,l=r.audioSprite.length;l--;)q=r.audioSprite[l],d._idHash[q.id]={src:u.src,startTime:parseInt(q.startTime),duration:parseInt(q.duration)};null!=u.id&&(d._idHash[u.id]={src:u.src});q=d.activePlugin.register(u,z);return h.create(u.src,z),null!=r&&isNaN(r)?u.data.channels=z||h.maxPerChannel():u.data=z||h.maxPerChannel(),q.type&&(u.type=q.type),q};d.registerSound=function(u,h,r,q){r={src:u,id:h,data:r};u instanceof
Object&&(q=h,r=u);r=createjs.LoadItem.create(r);null!=q&&(r.src=q+u);u=d._registerSound(r);if(!u)return!1;if(d._preloadHash[r.src]||(d._preloadHash[r.src]=[]),d._preloadHash[r.src].push(r),1==d._preloadHash[r.src].length)u.on("complete",createjs.proxy(this._handleLoadComplete,this)),u.on("error",createjs.proxy(this._handleLoadError,this)),d.activePlugin.preload(u);else if(1==d._preloadHash[r.src][0])return!0;return r};d.registerSounds=function(d,h){var r=[];d.path&&(h?h+=d.path:h=d.path);for(var q=
0,l=d.length;l>q;q++)r[q]=createjs.Sound.registerSound(d[q].src,d[q].id,d[q].data,h);return r};d.registerManifest=function(d,h){try{console.log("createjs.Sound.registerManifest is deprecated, please use createjs.Sound.registerSounds.")}catch(r){}return this.registerSounds(d,h)};d.removeSound=function(u,r){if(null==d.activePlugin)return!1;u instanceof Object&&(u=u.src);u=d._getSrcById(u).src;null!=r&&(u=r+u);var z=d._parsePath(u);if(null==z)return!1;u=z.src;for(var q in d._idHash)d._idHash[q].src==
u&&delete d._idHash[q];return h.removeSrc(u),delete d._preloadHash[u],d.activePlugin.removeSound(u),!0};d.removeSounds=function(d,h){var r=[];d.path&&(h?h+=d.path:h=d.path);for(var q=0,l=d.length;l>q;q++)r[q]=createjs.Sound.removeSound(d[q].src,h);return r};d.removeManifest=function(u,h){try{console.log("createjs.Sound.removeManifest is deprecated, please use createjs.Sound.removeSounds.")}catch(r){}return d.removeSounds(u,h)};d.removeAllSounds=function(){d._idHash={};d._preloadHash={};h.removeAll();
d.activePlugin&&d.activePlugin.removeAllSounds()};d.loadComplete=function(u){if(!d.isReady())return!1;var h=d._parsePath(u);return u=h?d._getSrcById(h.src).src:d._getSrcById(u).src,1==d._preloadHash[u][0]};d._parsePath=function(u){"string"!=typeof u&&(u=u.toString());var h=u.match(d.FILE_PATTERN);if(null==h)return!1;for(var r=h[4],q=h[5],l=d.getCapabilities(),R=0;!l[q];)if(q=d.alternateExtensions[R++],R>d.alternateExtensions.length)return null;u=u.replace("."+h[5],"."+q);return{name:r,src:u,extension:q}};
d.play=function(u,h,r,q,l,R,xa,ea,ob){h instanceof Object&&(r=h.delay,q=h.offset,l=h.loop,R=h.volume,xa=h.pan,ea=h.startTime,ob=h.duration,h=h.interrupt);u=d.createInstance(u,ea,ob);return d._playInstance(u,h,r,q,l,R,xa)||u._playFailed(),u};d.createInstance=function(u,r,z){if(!d.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(u,r,z);u=d._getSrcById(u);var q=d._parsePath(u.src),l=null;return null!=q&&null!=q.src?(h.create(q.src),null==r&&(r=u.startTime),l=d.activePlugin.create(q.src,
r,z||u.duration)):l=new createjs.DefaultSoundInstance(u,r,z),l.uniqueId=d._lastID++,l};d.setVolume=function(h){if(null==Number(h))return!1;if(h=Math.max(0,Math.min(1,h)),d._masterVolume=h,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(h))for(var r=this._instances,z=0,q=r.length;q>z;z++)r[z].setMasterVolume(h)};d.getVolume=function(){return d._masterVolume};d.setMute=function(d){if(null==d)return!1;if(this._masterMute=d,!this.activePlugin||!this.activePlugin.setMute||
!this.activePlugin.setMute(d))for(var h=this._instances,r=0,q=h.length;q>r;r++)h[r].setMasterMute(d);return!0};d.getMute=function(){return this._masterMute};d.stop=function(){for(var d=this._instances,h=d.length;h--;)d[h].stop()};d._playInstance=function(h,r,z,q,l,R,xa){if(r instanceof Object&&(z=r.delay,q=r.offset,l=r.loop,R=r.volume,xa=r.pan,r=r.interrupt),r=r||d.defaultInterruptBehavior,null==z&&(z=0),null==q&&(q=h.getPosition()),null==l&&(l=h.loop),null==R&&(R=h.volume),null==xa&&(xa=h.pan),0==
z){if(!d._beginPlaying(h,r,q,l,R,xa))return!1}else z=setTimeout(function(){d._beginPlaying(h,r,q,l,R,xa)},z),h.delayTimeoutId=z;return this._instances.push(h),!0};d._beginPlaying=function(d,r,z,q,l,R){return h.add(d,r)?d._beginPlaying(z,q,l,R)?!0:(d=createjs.indexOf(this._instances,d),-1<d&&this._instances.splice(d,1),!1):!1};d._getSrcById=function(h){return d._idHash[h]||{src:h}};d._playFinished=function(d){h.remove(d);d=createjs.indexOf(this._instances,d);-1<d&&this._instances.splice(d,1)};createjs.Sound=
d;h.channels={};h.create=function(d,r){return null==h.get(d)?(h.channels[d]=new h(d,r),!0):!1};h.removeSrc=function(d){var r=h.get(d);return null==r?!1:(r._removeAll(),delete h.channels[d],!0)};h.removeAll=function(){for(var d in h.channels)h.channels[d]._removeAll();h.channels={}};h.add=function(d,r){var z=h.get(d.src);return null==z?!1:z._add(d,r)};h.remove=function(d){var r=h.get(d.src);return null==r?!1:(r._remove(d),!0)};h.maxPerChannel=function(){return r.maxDefault};h.get=function(d){return h.channels[d]};
var r=h.prototype;r.constructor=h;r.src=null;r.max=null;r.maxDefault=100;r.length=0;r.init=function(d,h){this.src=d;this.max=h||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};r._get=function(d){return this._instances[d]};r._add=function(d,h){return this._getSlot(h,d)?(this._instances.push(d),this.length++,!0):!1};r._remove=function(d){d=createjs.indexOf(this._instances,d);return-1==d?!1:(this._instances.splice(d,1),this.length--,!0)};r._removeAll=function(){for(var d=
this.length-1;0<=d;d--)this._instances[d].stop()};r._getSlot=function(h){var r,z;if(h!=d.INTERRUPT_NONE&&(z=this._get(0),null==z))return!0;for(var q=0,l=this.max;l>q;q++){if(r=this._get(q),null==r)return!0;if(r.playState==d.PLAY_FINISHED||r.playState==d.PLAY_INTERRUPTED||r.playState==d.PLAY_FAILED){z=r;break}h!=d.INTERRUPT_NONE&&(h==d.INTERRUPT_EARLY&&r.getPosition()<z.getPosition()||h==d.INTERRUPT_LATE&&r.getPosition()>z.getPosition())&&(z=r)}return null!=z?(z._interrupt(),this._remove(z),!0):!1};
r.toString=function(){return"[Sound SoundChannel]"}})();this.createjs=this.createjs||{};
(function(){var d=function(d,h,M,z){this.EventDispatcher_constructor();this.src=d;this.uniqueId=-1;this.delayTimeoutId=this.playState=null;this._startTime=Math.max(0,h||0);this._volume=1;createjs.definePropertySupported&&Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume});this._pan=0;createjs.definePropertySupported&&Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan});this._duration=Math.max(0,M||0);createjs.definePropertySupported&&Object.defineProperty(this,
"duration",{get:this.getDuration,set:this.setDuration});this._playbackResource=null;createjs.definePropertySupported&&Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource});!1!==z&&!0!==z&&this.setPlaybackResource(z);this._position=0;createjs.definePropertySupported&&Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition});this._loop=0;createjs.definePropertySupported&&Object.defineProperty(this,"loop",{get:this.getLoop,
set:this.setLoop});this._muted=!1;createjs.definePropertySupported&&Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted});this._paused=!1;createjs.definePropertySupported&&Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},h=createjs.extend(d,createjs.EventDispatcher);h.play=function(d,h,M,z,q,l){return this.playState==createjs.Sound.PLAY_SUCCEEDED?(d instanceof Object&&(M=d.offset,z=d.loop,q=d.volume,l=d.pan),null!=M&&this.setPosition(M),null!=z&&this.setLoop(z),
null!=q&&this.setVolume(q),null!=l&&this.setPan(l),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,d,h,M,z,q,l),this)};h.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this.setPaused(!0),!0)};h.resume=function(){return this._paused?(this.setPaused(!1),!0):!1};h.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this};h.destroy=function(){this._cleanUp();
this.playbackResource=this.src=null;this.removeAllEventListeners()};h.toString=function(){return"[AbstractSoundInstance]"};h.getPaused=function(){return this._paused};h.setPaused=function(d){return!0!==d&&!1!==d||this._paused==d||1==d&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=d,d?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)};h.setVolume=function(d){return d==this._volume?this:(this._volume=Math.max(0,Math.min(1,d)),this._muted||this._updateVolume(),
this)};h.getVolume=function(){return this._volume};h.setMute=function(d){this.setMuted(d)};h.getMute=function(){return this._muted};h.setMuted=function(d){return!0===d||!1===d?(this._muted=d,this._updateVolume(),this):void 0};h.getMuted=function(){return this._muted};h.setPan=function(d){return d==this._pan?this:(this._pan=Math.max(-1,Math.min(1,d)),this._updatePan(),this)};h.getPan=function(){return this._pan};h.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?
this._position:this._calculateCurrentPosition()};h.setPosition=function(d){return this._position=Math.max(0,d),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this};h.getDuration=function(){return this._duration};h.setDuration=function(d){return d==this._duration?this:(this._duration=Math.max(0,d||0),this._updateDuration(),this)};h.setPlaybackResource=function(d){return this._playbackResource=d,0==this._duration&&this._setDurationFromSource(),this};h.getPlaybackResource=function(){return this._playbackResource};
h.getLoop=function(){return this._loop};h.setLoop=function(d){null!=this._playbackResource&&(0!=this._loop&&0==d&&this._removeLooping(d),0==this._loop&&0!=d&&this._addLooping(d));this._loop=d};h._sendEvent=function(d){d=new createjs.Event(d);this.dispatchEvent(d)};h._cleanUp=function(){clearTimeout(this.delayTimeoutId);this._handleCleanUp();this._paused=!1;createjs.Sound._playFinished(this)};h._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._sendEvent("interrupted")};
h._beginPlaying=function(d,h,M,z){return this.setPosition(d),this.setLoop(h),this.setVolume(M),this.setPan(z),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)};h._playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;this._sendEvent("failed")};h._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,
this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))};h._handleSoundReady=function(){};h._updateVolume=function(){};h._updatePan=function(){};h._updateDuration=function(){};h._setDurationFromSource=function(){};h._calculateCurrentPosition=function(){};h._updatePosition=function(){};h._removeLooping=function(){};h._addLooping=function(){};h._pause=function(){};h._resume=function(){};h._handleStop=function(){};
h._handleCleanUp=function(){};h._handleLoop=function(){};createjs.AbstractSoundInstance=createjs.promote(d,"EventDispatcher");createjs.DefaultSoundInstance=createjs.AbstractSoundInstance})();this.createjs=this.createjs||{};
(function(){var d=function(){this._capabilities=null;this._loaders={};this._audioSources={};this._soundInstances={};this._loaderClass;this._soundInstanceClass},h=d.prototype;d._capabilities=null;d.isSupported=function(){return!0};h.register=function(d){if(this._audioSources[d.src]=!0,this._soundInstances[d.src]=[],this._loaders[d.src])return this._loaders[d.src];var h=new this._loaderClass(d);return h.on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[d.src]=h,h};h.preload=
function(d){d.on("error",createjs.proxy(this._handlePreloadError,this));d.load()};h.isPreloadStarted=function(d){return null!=this._audioSources[d]};h.isPreloadComplete=function(d){return!(null==this._audioSources[d]||1==this._audioSources[d])};h.removeSound=function(d){if(this._soundInstances[d]){for(var h=this._soundInstances[d].length;h--;)this._soundInstances[d][h].destroy();delete this._soundInstances[d];delete this._audioSources[d];this._loaders[d]&&this._loaders[d].destroy();delete this._loaders[d]}};
h.removeAllSounds=function(){for(var d in this._audioSources)this.removeSound(d)};h.create=function(d,h,M){this.isPreloadStarted(d)||this.preload(this.register(d));h=new this._soundInstanceClass(d,h,M,this._audioSources[d]);return this._soundInstances[d].push(h),h};h.setVolume=function(d){return this._volume=d,this._updateVolume(),!0};h.getVolume=function(){return this._volume};h.setMute=function(){return this._updateVolume(),!0};h.toString=function(){return"[AbstractPlugin]"};h._handlePreloadComplete=
function(d){var h=d.target.getItem().src;this._audioSources[h]=d.result;d=0;for(var M=this._soundInstances[h].length;M>d;d++)this._soundInstances[h][d].setPlaybackResource(this._audioSources[h])};h._handlePreloadError=function(){};h._updateVolume=function(){};createjs.AbstractPlugin=d})();this.createjs=this.createjs||{};
(function(){function d(d){this.AbstractLoader_constructor(d,!0,createjs.AbstractLoader.SOUND)}var h=createjs.extend(d,createjs.AbstractLoader);d.context=null;h.toString=function(){return"[WebAudioLoader]"};h._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1);this._request.setResponseType("arraybuffer")};h._sendComplete=function(){d.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._handleError,this))};h._handleAudioDecoded=
function(d){this._result=d;this.AbstractLoader__sendComplete()};createjs.WebAudioLoader=createjs.promote(d,"AbstractLoader")})();this.createjs=this.createjs||{};
(function(){function d(d,h,z,q){this.AbstractSoundInstance_constructor(d,h,z,q);this.gainNode=r.context.createGain();this.panNode=r.context.createPanner();this.panNode.panningModel=r._panningModel;this.panNode.connect(this.gainNode);this._sourceNodeNext=this._soundCompleteTimeout=this.sourceNode=null;this._playbackStartTime=0;this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var h=createjs.extend(d,createjs.AbstractSoundInstance),r=d;r.context=null;r.destinationNode=null;r._panningModel=
"equalpower";h.destroy=function(){this.AbstractSoundInstance_destroy();this.panNode.disconnect(0);this.panNode=null;this.gainNode.disconnect(0);this.gainNode=null};h.toString=function(){return"[WebAudioSoundInstance]"};h._updatePan=function(){this.panNode.setPosition(this._pan,0,-0.5)};h._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)};h._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,
0))};h._setDurationFromSource=function(){this._duration=1E3*this.playbackResource.duration};h._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0};h._cleanUpAudioNode=function(d){return d&&(d.stop(0),d.disconnect(0),
d=null),d};h._handleSoundReady=function(){this.gainNode.connect(r.destinationNode);var d=0.001*this._duration,h=0.001*this._position;this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-d,h);this._playbackStartTime=this.sourceNode.startTime-h;this._soundCompleteTimeout=setTimeout(this._endedHandler,1E3*(d-h));0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))};h._createAndPlayAudioNode=function(d,h){var z=r.context.createBufferSource();z.buffer=
this.playbackResource;z.connect(this.panNode);var q=0.001*this._duration;return z.startTime=d+q,z.start(z.startTime,h+0.001*this._startTime,q-h),z};h._pause=function(){this._position=1E3*(r.context.currentTime-this._playbackStartTime);this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout)};h._resume=function(){this._handleSoundReady()};
h._updateVolume=function(){var d=this._muted?0:this._volume;d!=this.gainNode.gain.value&&(this.gainNode.gain.value=d)};h._calculateCurrentPosition=function(){return 1E3*(r.context.currentTime-this._playbackStartTime)};h._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout);this._paused||this._handleSoundReady()};h._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode);
this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)};h._updateDuration=function(){this._pause();this._resume()};createjs.WebAudioSoundInstance=createjs.promote(d,"AbstractSoundInstance")})();this.createjs=this.createjs||{};
(function(){function d(){this.AbstractPlugin_constructor();this._panningModel=r._panningModel;this._volume=1;this.context=r.context;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode);createjs.WebAudioSoundInstance.destinationNode=this.gainNode;this._capabilities=r._capabilities;this._loaderClass=createjs.WebAudioLoader;this._soundInstanceClass=
createjs.WebAudioSoundInstance;this._addPropsToClasses()}var h=createjs.extend(d,createjs.AbstractPlugin),r=d;r._capabilities=null;r._panningModel="equalpower";r.context=null;r.isSupported=function(){var d=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||d||this._isFileXHRSupported()?(r._generateCapabilities(),null==r.context?!1:!0):!1};r.playEmptySound=function(){var d=r.context.createBufferSource();d.buffer=r.context.createBuffer(1,
1,22050);d.connect(r.context.destination);d.start(0,0,0)};r._isFileXHRSupported=function(){var d=!0,h=new XMLHttpRequest;try{h.open("GET","WebAudioPluginTest.fail",!1)}catch(r){return d=!1}h.onerror=function(){d=!1};h.onload=function(){d=404==this.status||200==this.status||0==this.status&&""!=this.response};try{h.send()}catch(q){d=!1}return d};r._generateCapabilities=function(){if(null==r._capabilities){var d=document.createElement("audio");if(null==d.canPlayType)return null;if(null==r.context)if(window.AudioContext)r.context=
new AudioContext;else{if(!window.webkitAudioContext)return null;r.context=new webkitAudioContext}r._compatibilitySetUp();r.playEmptySound();r._capabilities={panning:!0,volume:!0,tracks:-1};for(var h=createjs.Sound.SUPPORTED_EXTENSIONS,z=createjs.Sound.EXTENSION_MAP,q=0,l=h.length;l>q;q++){var R=h[q],xa=z[R]||R;r._capabilities[R]="no"!=d.canPlayType("audio/"+R)&&""!=d.canPlayType("audio/"+R)||"no"!=d.canPlayType("audio/"+xa)&&""!=d.canPlayType("audio/"+xa)}2>r.context.destination.numberOfChannels&&
(r._capabilities.panning=!1)}};r._compatibilitySetUp=function(){if(r._panningModel="equalpower",!r.context.createGain){r.context.createGain=r.context.createGainNode;var d=r.context.createBufferSource();d.__proto__.start=d.__proto__.noteGrainOn;d.__proto__.stop=d.__proto__.noteOff;r._panningModel=0}};h.toString=function(){return"[WebAudioPlugin]"};h._addPropsToClasses=function(){var d=this._soundInstanceClass;d.context=this.context;d.destinationNode=this.gainNode;d._panningModel=this._panningModel;
this._loaderClass.context=this.context};h._updateVolume=function(){var d=createjs.Sound._masterMute?0:this._volume;d!=this.gainNode.gain.value&&(this.gainNode.gain.value=d)};createjs.WebAudioPlugin=createjs.promote(d,"AbstractPlugin")})();this.createjs=this.createjs||{};
(function(){function d(d){this.src=d;this.available=this.length=0;this.tags=[];this.duration=0}var h=d.prototype;h.constructor=d;d.tags={};d.get=function(h){var u=d.tags[h];return null==u&&(u=d.tags[h]=new d(h)),u};d.remove=function(h){var u=d.tags[h];return null==u?!1:(u.removeAll(),delete d.tags[h],!0)};d.getInstance=function(h){h=d.tags[h];return null==h?null:h.get()};d.setInstance=function(h,u){var M=d.tags[h];return null==M?null:M.set(u)};d.getDuration=function(h){h=d.tags[h];return null==h?
0:h.getDuration()};h.add=function(d){this.tags.push(d);this.length++;this.available++};h.removeAll=function(){for(var d;this.length--;)d=this.tags[this.length],d.parentNode&&d.parentNode.removeChild(d),delete this.tags[this.length];this.src=null;this.tags.length=0};h.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var d=this.tags.pop();return null==d.parentNode&&document.body.appendChild(d),d};h.set=function(d){-1==createjs.indexOf(this.tags,d)&&this.tags.push(d);
this.available=this.tags.length};h.getDuration=function(){return this.duration||(this.duration=1E3*this.tags[this.tags.length-1].duration),this.duration};h.toString=function(){return"[HTMLAudioTagPool]"};createjs.HTMLAudioTagPool=d})();this.createjs=this.createjs||{};
(function(){function d(d,h,M,z){this.AbstractSoundInstance_constructor(d,h,M,z);this._delayTimeoutId=this._audioSpriteStopTime=null;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleTagReady,this);this._stalledHandler=createjs.proxy(this.playFailed,this);this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this._loopHandler=createjs.proxy(this._handleSoundComplete,this);M?this._audioSpriteStopTime=0.001*(h+M):this._duration=
createjs.HTMLAudioTagPool.getDuration(this.src)}var h=createjs.extend(d,createjs.AbstractSoundInstance);h.setMasterVolume=function(){this._updateVolume()};h.setMasterMute=function(){this._updateVolume()};h.toString=function(){return"[HTMLAudioSoundInstance]"};h._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))};h._addLooping=function(){null==this._playbackResource||
this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)};h._handleCleanUp=function(){var d=this._playbackResource;if(null!=d){d.pause();d.loop=!1;d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1);d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1);
d.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1);d.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{d.currentTime=this._startTime}catch(h){}createjs.HTMLAudioTagPool.setInstance(this.src,d);this._playbackResource=null}};h._beginPlaying=function(d,h,M,z){return this._playbackResource=createjs.HTMLAudioTagPool.getInstance(this.src),this.AbstractSoundInstance__beginPlaying(d,h,M,z)};h._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var d=
this._playbackResource;return d.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),d.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),d.preload="auto",void d.load()}this._updateVolume();this._playbackResource.currentTime=0.001*(this._startTime+this._position);this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,
this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0));this._playbackResource.play()};h._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1);this._handleSoundReady()};h._pause=function(){this._playbackResource.pause()};
h._resume=function(){this._playbackResource.play()};h._updateVolume=function(){if(null!=this._playbackResource){var d=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;d!=this._playbackResource.volume&&(this._playbackResource.volume=d)}};h._calculateCurrentPosition=function(){return 1E3*this._playbackResource.currentTime-this._startTime};h._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=0.001*(this._position+this._startTime)}catch(d){this._handleSetPositionSeek(null)}};h._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1))};h._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=0.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))};h._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1))};h._updateDuration=function(){this._audioSpriteStopTime=0.001*(startTime+duration);this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))};createjs.HTMLAudioSoundInstance=createjs.promote(d,"AbstractSoundInstance")})();this.createjs=this.createjs||{};
(function(){function d(){this.AbstractPlugin_constructor();this.defaultNumChannels=2;this._capabilities=r._capabilities;this._loaderClass=createjs.SoundLoader;this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var h=createjs.extend(d,createjs.AbstractPlugin),r=d;r.MAX_INSTANCES=30;r._AUDIO_READY="canplaythrough";r._AUDIO_ENDED="ended";r._AUDIO_SEEKED="seeked";r._AUDIO_STALLED="stalled";r._TIME_UPDATE="timeupdate";r._capabilities=null;r.enableIOS=!1;r.isSupported=function(){return r._generateCapabilities(),
null==r._capabilities?!1:!0};r._generateCapabilities=function(){if(null==r._capabilities){var d=document.createElement("audio");if(null==d.canPlayType)return null;r._capabilities={panning:!0,volume:!0,tracks:-1};for(var h=createjs.Sound.SUPPORTED_EXTENSIONS,z=createjs.Sound.EXTENSION_MAP,q=0,l=h.length;l>q;q++){var R=h[q],xa=z[R]||R;r._capabilities[R]="no"!=d.canPlayType("audio/"+R)&&""!=d.canPlayType("audio/"+R)||"no"!=d.canPlayType("audio/"+xa)&&""!=d.canPlayType("audio/"+xa)}}};h.register=function(d,
h){for(var r=createjs.HTMLAudioTagPool.get(d.src),q=null,l=0;h>l;l++)q=this._createTag(d.src),r.add(q);r=this.AbstractPlugin_register(d,h);return r.setTag(q),r};h.removeSound=function(d){this.AbstractPlugin_removeSound(d);createjs.HTMLAudioTagPool.remove(d)};h.create=function(d,h,r){d=this.AbstractPlugin_create(d,h,r);return d.setPlaybackResource(null),d};h.toString=function(){return"[HTMLAudioPlugin]"};h.setVolume=h.getVolume=h.setMute=null;h._createTag=function(d){var h=document.createElement("audio");
return h.autoplay=!1,h.preload="none",h.src=d,h};createjs.HTMLAudioPlugin=createjs.promote(d,"AbstractPlugin")})();(function(d,h,r){function u(a,b){function c(){}c.prototype=a;var f=new c,m;for(m in b)f[m]=b[m];b.toString!==Object.prototype.toString&&(f.toString=b.toString);return f}function M(a){return a instanceof Array?function(){return G.iter(a)}:"function"==typeof a.iterator?z(a,a.iterator):a.iterator}function z(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Sf++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}h.openfl=h.openfl||{};h.lime=h.lime||{};var q={},l=function(){return T.__string_rec(this,"")},R=function(){};q.ApplicationMain=R;R.__name__=!0;R.config=null;R.preloader=null;R.create=function(){var a=new md;a.create(R.config);var b=new ic;R.preloader=new nd(b);a.setPreloader(R.preloader);R.preloader.onComplete.add(R.init);R.preloader.create(R.config);var b=[],c=[];b.push("data/fonts/04b11/04b11.fnt");c.push("TEXT");b.push("data/fonts/04b11/04b11_0.png");
c.push("IMAGE");b.push("data/fonts/c64/c64.fnt");c.push("TEXT");b.push("data/fonts/c64/c64_0.png");c.push("IMAGE");b.push("data/fonts/comic/comic.fnt");c.push("TEXT");b.push("data/fonts/comic/comic_0.png");c.push("IMAGE");b.push("data/fonts/crypt/crypt.fnt");c.push("TEXT");b.push("data/fonts/crypt/crypt_0.png");c.push("IMAGE");b.push("data/fonts/default/default.fnt");c.push("TEXT");b.push("data/fonts/default/default_0.png");c.push("IMAGE");b.push("data/fonts/dos/dos.fnt");c.push("TEXT");b.push("data/fonts/dos/dos_0.png");
c.push("IMAGE");b.push("data/fonts/ganon/ganon.fnt");c.push("TEXT");b.push("data/fonts/ganon/ganon_0.png");c.push("IMAGE");b.push("data/fonts/nokia/nokia.fnt");c.push("TEXT");b.push("data/fonts/nokia/nokia_0.png");c.push("IMAGE");b.push("data/fonts/oldenglish/oldenglish.fnt");c.push("TEXT");b.push("data/fonts/oldenglish/oldenglish_0.png");c.push("IMAGE");b.push("data/fonts/pixel/pixel.fnt");c.push("TEXT");b.push("data/fonts/pixel/pixel_0.png");c.push("IMAGE");b.push("data/fonts/pressstart/pressstart.fnt");
c.push("TEXT");b.push("data/fonts/pressstart/pressstart_0.png");c.push("IMAGE");b.push("data/fonts/retrofuture/retrofuture.fnt");c.push("TEXT");b.push("data/fonts/retrofuture/retrofuture_0.png");c.push("IMAGE");b.push("data/fonts/roman/roman.fnt");c.push("TEXT");b.push("data/fonts/roman/roman_0.png");c.push("IMAGE");b.push("data/fonts/special/special.fnt");c.push("TEXT");b.push("data/fonts/special/special_0.png");c.push("IMAGE");b.push("data/fonts/tall/tall.fnt.gz");c.push("TEXT");b.push("data/fonts/thin/thin.fnt");
c.push("TEXT");b.push("data/fonts/thin/thin_0.png");c.push("IMAGE");b.push("data/fonts/tiny/tiny.fnt");c.push("TEXT");b.push("data/fonts/tiny/tiny_0.png");c.push("IMAGE");b.push("data/fonts/yoster/yoster.fnt");c.push("TEXT");b.push("data/fonts/yoster/yoster_0.png");c.push("IMAGE");if(null!=R.config.assetsPrefix)for(var f=0,m=b.length;f<m;){var g=f++;"FONT"!=c[g]&&(b[g]=R.config.assetsPrefix+b[g])}R.preloader.load(b,c);a.exec()};R.init=function(){R.preloader=null;R.start()};R.main=function(){R.config=
{build:"1041",company:"Stephen and Terry",file:"webthing",fps:60,name:"Webthing",orientation:"landscape",packageName:"com.stephenandterry.webthing",version:"1.0.0",windows:[{antialiasing:0,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Webthing",vsync:!0,width:0,x:null,y:null}]}};R.start=function(){for(var a=!1,b=Aa.resolveClass("haxegon.Load"),c=0,f=Aa.getClassFields(b);c<f.length;){var m=f[c];++c;if("main"==
m){a=!0;break}}Y.initialize();a?X.callMethod(b,X.field(b,"main"),[]):Aa.createInstance(yb,[]);fa.current.stage.window.__fullscreen&&fa.current.stage.dispatchEvent(new Nb(Nb.FULL_SCREEN,!1,!1,!0,!0));fa.current.stage.dispatchEvent(new J(J.RESIZE,!1,!1))};var xa=function(){};q["openfl.events.IEventDispatcher"]=xa;xa.__name__=!0;var ea=function(a){null!=a&&(this.__targetDispatcher=a)};q["openfl.events.EventDispatcher"]=ea;ea.__name__=!0;ea.__interfaces__=[xa];ea.__sortByPriority=function(a,b){return a.priority==
b.priority?0:a.priority>b.priority?-1:1};ea.prototype={addEventListener:function(a,b,c,f,m){null==f&&(f=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new aa,this.__eventMap=new aa,this.__newEventMap=new aa);if(this.__eventMap.exists(a)){!0==this.__dispatching.get(a)?this.__newEventMap.exists(a)?m=this.__newEventMap.get(a):(m=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,m)):m=this.__eventMap.get(a);a=0;for(var g=m.length;a<g;){var d=a++;if(X.compareMethods(m[d].callback,
b))return}m.push(new od(b,c,f));m.sort(ea.__sortByPriority)}else m=[],m.push(new od(b,c,f)),this.__eventMap.set(a,m)},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==this.__eventMap?!1:!0==this.__dispatching.get(a)&&this.__newEventMap.exists(a)?0<this.__newEventMap.get(a).length:this.__eventMap.exists(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var f=
this.__eventMap.get(a);if(null!=f){var m=!0==this.__dispatching.get(a);m&&(this.__newEventMap.exists(a)?f=this.__newEventMap.get(a):(f=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,f)));for(var g=0,d=f.length;g<d;){var e=g++;if(f[e].match(b,c)){f.splice(e,1);break}}m||(0==f.length&&this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;if(!0==this.__dispatching.get(b)){c=
this.__newEventMap.get(b);if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(b);if(null==c)return!1;this.__dispatching.set(b,!0)}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var f=a.eventPhase==Xa.CAPTURING_PHASE,m=0,g;m<c.length;){g=c[m];if(g.useCapture==f&&(g.callback(a),a.__isCancelledNow))break;g==c[m]&&m++}null!=this.__newEventMap&&this.__newEventMap.exists(b)&&(c=this.__newEventMap.get(b),0<c.length?this.__eventMap.set(b,
c):this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(b):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(a.type,!1);return!0},__class__:ea};var ob=function(){};q["openfl.display.IBitmapDrawable"]=ob;ob.__name__=!0;ob.prototype={__class__:ob};var ba=function(){this.__maskCached=!1;ea.call(this);this.__alpha=1;this.__transform=new ra;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new ra;this.__offset=
new la;this.__worldOffset=new la;this.__worldAlpha=1;this.__worldTransform=new ra;this.__worldColorTransform=new pb;this.set_name("instance"+ ++ba.__instanceCount)};q["openfl.display.DisplayObject"]=ba;ba.__name__=!0;ba.__interfaces__=[ob];ba.__super__=ea;ba.prototype=u(ea.prototype,{globalToLocal:function(a){a=a.clone();this.__getWorldTransform().__transformInversePoint(a);return a},__broadcast:function(a,b){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var c=ea.prototype.__dispatchEvent.call(this,
a);return a.__isCancelled?!0:c}return!1},__dispatchEvent:function(a){var b=ea.prototype.__dispatchEvent.call(this,a);if(a.__isCancelled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=Xa.BUBBLING_PHASE,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getWorldTransform:function(){if(this.__transformDirty||
0<ba.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,f,m){if(null!=this.__graphics){if(!this.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null==
f||m||f.push(this),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(a){null!=this.__graphics&&Ze.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&va.renderMask(this.__graphics,a)},__renderCanvas:function(a){null!=this.__graphics&&$e.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&v.renderMask(this.__graphics,a)},__renderDOM:function(a){null!=this.__graphics&&
af.render(this,a)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?K.render(this,a):(v.render(this.__graphics,a),cb.renderBitmap(this,a))),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&
a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__setStageReference:function(a){this.stage!=a&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new J(J.REMOVED_FROM_STAGE,!1,!1))),this.stage=a,null!=a&&this.dispatchEvent(new J(J.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,ba.__worldRenderDirty++)},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&
0!=this.get_scaleY()&&!this.__isMask;null==this.__worldTransform&&(this.__worldTransform=new ra);if(null!=this.parent){var f=this.parent.__worldTransform;this.__worldTransform.a=this.__transform.a*f.a+this.__transform.b*f.c;this.__worldTransform.b=this.__transform.a*f.b+this.__transform.b*f.d;this.__worldTransform.c=this.__transform.c*f.a+this.__transform.d*f.c;this.__worldTransform.d=this.__transform.c*f.b+this.__transform.d*f.d;this.__worldTransform.tx=this.__transform.tx*f.a+this.__transform.ty*
f.c+f.tx;this.__worldTransform.ty=this.__transform.tx*f.b+this.__transform.ty*f.d+f.ty;this.__worldOffset.copyFrom(this.parent.__worldOffset)}else this.__worldTransform.copyFrom(this.__transform),this.__worldOffset.setTo(0,0);null!=this.get_scrollRect()?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,
-this.__worldOffset.y);b&&this.__transformDirty&&(this.__transformDirty=!1,ba.__worldTransformDirty--);a||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new sc),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());
if(null!=this.parent){if(this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha,this.__worldColorTransform.__combine(this.parent.__worldColorTransform),null==this.blendMode||this.blendMode==S.NORMAL)this.__blendMode=this.parent.__blendMode}else this.__worldAlpha=this.get_alpha();b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),
this.__transformDirty&&(this.__transformDirty=!1,ba.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new sa),this.__graphics.__getBounds(a.__bounds,ra.__identity))},get_alpha:function(){return this.__alpha},get_mask:function(){return this.__mask},get_mouseX:function(){var a;a=null!=this.stage?this.stage.__mouseX:
fa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:fa.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(a,b)},get_mouseY:function(){var a;a=null!=this.stage?this.stage.__mouseX:fa.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:fa.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(a,b)},set_name:function(a){return this.__name=a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*
this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.c)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?
this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},
get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new de(this));return this.__objectTransform},get_visible:function(){return this.__visible},get_width:function(){var a=new sa;this.__getBounds(a,this.__transform);return a.width},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++);
return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++);return this.__transform.ty=a},__class__:ba,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",get_visible:"get_visible",get_transform:"get_transform",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",
set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_name:"set_name",get_mask:"get_mask",get_alpha:"get_alpha"}});var ya=function(){ba.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=-1};q["openfl.display.InteractiveObject"]=ya;ya.__name__=!0;ya.__super__=ba;ya.prototype=u(ba.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,f,m){return!this.get_visible()||
this.__isMask||m&&!this.mouseEnabled?!1:ba.prototype.__hitTest.call(this,a,b,c,f,m)},get_tabEnabled:function(){return this.__tabEnabled},__class__:ya,__properties__:u(ba.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var Ja=function(){ya.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};q["openfl.display.DisplayObjectContainer"]=Ja;Ja.__name__=!0;Ja.__super__=ya;Ja.prototype=u(ya.prototype,{addChild:function(a){if(null!=a){null!=a.parent&&a.parent.removeChild(a);
this.__children.push(a);a.parent=this;null!=this.stage&&a.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,ba.__worldTransformDirty++);a.__renderDirty||(a.__renderDirty=!0,ba.__worldRenderDirty++);var b=new J(J.ADDED,!0);b.target=a;a.__dispatchEvent(b)}return a},contains:function(a){for(;a!=this&&null!=a;)a=a.parent;return a==this},removeChild:function(a){null!=a&&a.parent==this&&(a.__dispatchEvent(new J(J.REMOVED,!0)),null!=this.stage&&a.__setStageReference(null),a.parent=
null,G.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,ba.__worldTransformDirty++),a.__renderDirty||(a.__renderDirty=!0,ba.__worldRenderDirty++));return a},__broadcast:function(a,b){null==a.target&&(a.target=this);var c=ya.prototype.__broadcast.call(this,a,b);if(!a.__isCancelled&&b)for(var f=0,m=this.__children;f<m.length;){var g=m[f];++f;g.__broadcast(a,!0);if(a.__isCancelled)return!0}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<
c.length;){var f=c[b];++b;f.__enterFrame(a)}},__getBounds:function(a,b){ya.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){var c=null;null!=b&&(c=this.__worldTransform,this.__worldTransform=b,this.__updateChildren(!0));for(var f=0,m=this.__children;f<m.length;){var g=m[f];++f;0==g.get_scaleX()||0==g.get_scaleY()||g.__isMask||g.__getBounds(a,g.__worldTransform)}null!=b&&(this.__worldTransform=c,this.__updateChildren(!0))}},__hitTest:function(a,b,c,f,m){if(!this.get_visible()||this.__isMask||
m&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new la(a,b))))return!1;var g=this.__children.length;if(m)if(null==f||!this.mouseChildren)for(;0<=--g;){if(this.__children[g].__hitTest(a,b,c,null,!0))return null!=f&&f.push(this),!0}else{if(null!=f){m=f.length;for(var d=!1,e=!1;0<=--g&&!(((d=this.__children[g].__getInteractive(null))||this.mouseEnabled&&!e)&&this.__children[g].__hitTest(a,
b,c,f,!0)&&(e=!0,d)););if(e)return f.splice(m,0,this),!0}}else for(;0<=--g;)this.__children[g].__hitTest(a,b,c,f,!1);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ya.prototype.__renderCairo.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);
for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__renderCairo(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCairoMask:function(a){null!=this.__graphics&&va.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ya.prototype.__renderCanvas.call(this,
a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__renderCanvas(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCanvasMask:function(a){null!=this.__graphics&&v.renderMask(this.__graphics,
a);var b=new sa;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__renderDOM:function(a){ya.prototype.__renderDOM.call(this,a);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)f=c[b],++b,null==f.stage&&f.__renderDOM(a);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask()},
__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this);null!=this.__graphics&&(this.__graphics.__hardware?K.render(this,a):(v.render(this.__graphics,a),cb.renderBitmap(this,a)));for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__renderGL(a)}null!=this.__mask&&null!=
this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask();null!=this.__scrollRect&&a.maskManager.popRect();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(a){if(this.stage!=a&&(null!=this.stage&&this.__dispatchEvent(new J(J.REMOVED_FROM_STAGE,!1,!1)),this.stage=a,null!=a&&this.__dispatchEvent(new J(J.ADDED_TO_STAGE,!1,!1)),null!=this.__children))for(var b=0,c=this.__children;b<c.length;){var f=
c[b];++b;f.__setStageReference(a)}},__update:function(a,b,c){ya.prototype.__update.call(this,a,b,c);if((this.__renderable||this.__isMask)&&b){b=0;for(var f=this.__children;b<f.length;){var m=f[b];++b;m.__update(a,!0,c)}}},__updateChildren:function(a){ya.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var f=c[b];++b;f.__update(a,!0)}},__class__:Ja});var Ma=function(){Ja.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=jc.create(null)};q["openfl.display.Sprite"]=
Ma;Ma.__name__=!0;Ma.__super__=Ja;Ma.prototype=u(Ja.prototype,{__getCursor:function(){return this.buttonMode&&this.useHandCursor?Z.POINTER:null},__hitTest:function(a,b,c,f,m){return!this.get_visible()||this.__isMask||m&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b)?!1:Ja.prototype.__hitTest.call(this,a,b,c,f,m)?m:m&&!this.mouseEnabled||null==this.__graphics||!this.__graphics.__hitTest(a,b,c,this.__getWorldTransform())?!1:(null!=f&&f.push(this),
!0)},__hitTestMask:function(a,b){return Ja.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new sc,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:Ma,__properties__:u(Ja.prototype.__properties__,{get_graphics:"get_graphics"})});var Hb=function(){this.TARGETFRAMERATE=30;
Ma.call(this);e.initrun=!0;B.corecontrol=this;this.init()};q["haxegon.Core"]=Hb;Hb.__name__=!0;Hb.__super__=Ma;Hb.prototype=u(Ma.prototype,{init:function(){this.maxelapsed=0.0333;this.maxframeskip=5;this.tickrate=20;this._delta=0;e.initrun?(this.addEventListener(J.ADDED_TO_STAGE,z(this,this.addedtostage)),fa.current.addChild(this)):this.loaded()},addedtostage:function(a){this.removeEventListener(J.ADDED_TO_STAGE,z(this,this.addedtostage));this.loaded()},reset:function(){P.setseed(N["int"](233280*
Math.random()));e.init(this.stage);e.resizescreen(240,150,1);k.setfont(ga.DEFAULT,1);k.cleartextcache();y.keybuffer=""},loaded:function(){P.setseed(N["int"](233280*Math.random()));e.initrun&&(y.init(this.stage),C.init(this.stage));e.init(this.stage);e.resizescreen(240,150,1);k.setfont(ga.DEFAULT,1);k.cleartextcache();y.keybuffer="";e.initrun&&null==this.haxegonmain&&(this.haxegonmain=new kc);this._rate=1E3/this.TARGETFRAMERATE;this._skip=this._rate*(this.maxframeskip+1);this._last=this._prev=fa.getTimer();
null!=this._timer&&this._timer.stop();this._timer=new tc(this.tickrate);this._timer.run=z(this,this.ontimer);e.update_fps=0;e.render_fps=0;this._framesthissecond_counter=-1;e.initrun=!1},ontimer:function(){e.skiprender=!1;this._skipedupdate=0;this._time=fa.getTimer();this._delta+=this._time-this._last;this._last=this._time;-1==this._framesthissecond_counter&&(this._framesthissecond_counter=this._time);if(!(this._delta<this._rate)){this._gametime=this._time|0;this._delta>this._skip&&(this._delta=this._skip);
for(;this._delta>=this._rate;)this._updatetime=this._time,this._delta-=this._rate,this._prev=this._time,e.clearscreeneachframe&&(e.skiprender=!0),this._skipedupdate++,1<this._skipedupdate&&this.doupdate(),this._time=fa.getTimer();this._rendertime=this._time;e.skiprender=!1;this.doupdate();e.render_fps++;1E3<this._rendertime-this._framesthissecond_counter&&(this._framesthissecond_counter=fa.getTimer(),e.update_fps_max=e.update_fps,e.render_fps_max=e.render_fps,e.render_fps=0,e.update_fps=0);this._time=
fa.getTimer()}},doupdate:function(){e.update_fps++;C.update(N["int"](fa.current.get_mouseX()/e.screenscale),N["int"](fa.current.get_mouseY()/e.screenscale));y.update();e.skiprender||(e.drawto.lock(),e.clearscreeneachframe&&e.clearscreen());this.haxegonmain.update();e.skiprender||(k.drawstringinput(),qa.showlog(),e.drawto.unlock());C.mousewheel=0},__class__:Hb});var Ib=function(){Hb.call(this)};q["haxegon.Load"]=Ib;Ib.__name__=!0;Ib.__super__=Hb;Ib.prototype=u(Hb.prototype,{__class__:Ib});var yb=function(){fa.current.addChild(this);
Hb.call(this);this.dispatchEvent(new J(J.ADDED_TO_STAGE,!1,!1))};q.DocumentClass=yb;yb.__name__=!0;yb.__super__=Ib;yb.prototype=u(Ib.prototype,{__class__:yb});var uc=function(){this.onChange=new Pa};q["lime.AssetLibrary"]=uc;uc.__name__=!0;uc.prototype={exists:function(a,b){return!1},getBytes:function(a){return null},getFont:function(a){return null},getImage:function(a){return null},getText:function(a){a=this.getBytes(a);return null==a?null:a.readUTFBytes(a.length)},isLocal:function(a,b){return!0},
unload:function(){},__class__:uc};var lc=function(){this.type=new aa;this.path=new aa;this.className=new aa;this.onChange=new Pa;var a;a="data/fonts/04b11/04b11.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/04b11/04b11_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/c64/c64.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/c64/c64_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/comic/comic.fnt";this.path.set(a,a);this.type.set(a,"TEXT");
a="data/fonts/comic/comic_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/crypt/crypt.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/crypt/crypt_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/default/default.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/default/default_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/dos/dos.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/dos/dos_0.png";this.path.set(a,
a);this.type.set(a,"IMAGE");a="data/fonts/ganon/ganon.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/ganon/ganon_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/nokia/nokia.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/nokia/nokia_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/oldenglish/oldenglish.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/oldenglish/oldenglish_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");
a="data/fonts/pixel/pixel.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/pixel/pixel_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/pressstart/pressstart.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/pressstart/pressstart_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/retrofuture/retrofuture.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/retrofuture/retrofuture_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/roman/roman.fnt";
this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/roman/roman_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/special/special.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/special/special_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/tall/tall.fnt.gz";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/thin/thin.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/thin/thin_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");
a="data/fonts/tiny/tiny.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/tiny/tiny_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="data/fonts/yoster/yoster.fnt";this.path.set(a,a);this.type.set(a,"TEXT");a="data/fonts/yoster/yoster_0.png";this.path.set(a,a);this.type.set(a,"IMAGE");a=null;null!=R.config&&Object.prototype.hasOwnProperty.call(R.config,"assetsPrefix")&&(a=R.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),f=a+this.path.get(c);
this.path.set(c,f)}};q.DefaultAssetLibrary=lc;lc.__name__=!0;lc.__super__=uc;lc.prototype=u(uc.prototype,{exists:function(a,b){var c;c=null!=b?T.__cast(b,String):null;var f=this.type.get(a);return null==f||f!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=f&&"SOUND"!=f)&&"BINARY"!=c&&null!=c&&("BINARY"!=f||"TEXT"!=c)?!1:!0},getBytes:function(a){var b=null,b=this.path.get(a),b=Qa.loaders.get(b);if(null==b)return null;a=b.data;"string"==typeof a?(b=new qb,b.writeUTFBytes(a)):b=T.__instanceof(a,qb)?a:null;return null!=
b?(b.position=0,b):null},getFont:function(a){return T.__cast(Aa.createInstance(this.className.get(a),[]),Gc)},getImage:function(a){return Jb.fromImageElement(function(b){b=b.path.get(a);return Qa.images.get(b)}(this))},getText:function(a){var b=null;a=this.path.get(a);a=Qa.loaders.get(a);if(null==a)return null;a=a.data;if("string"==typeof a)return a;b=T.__instanceof(a,qb)?a:null;return null!=b?(b.position=0,b.readUTFBytes(b.length)):null},isLocal:function(a,b){null!=b&&T.__cast(b,String);return!0},
__class__:lc});var Ob=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};q.EReg=Ob;Ob.__name__=!0;Ob.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},replace:function(a,b){return a.replace(this.r,b)},__class__:Ob};var L=function(){};q.Err=L;L.__name__=!0;L.log=function(a,b){B.runscript=!1;B.errorinscript=!0;e.resizescreen(240,150);k.setfont(ga.DEFAULT,1);a==L.PRE_BRACKETMISMATCH?(ha.error("ERROR: Bracket mismatch."),
ha.error("(Missing a { or } bracket somewhere.)")):a==L.PRE_MISSINGUPDATE?ha.error('ERROR: An "update()" function is required.'):a==L.PARSER_INIT?(ha.error("PARSER ERROR in processing script file.",L.errorline),L.outputdetails(b)):a==L.PARSER_NEW?(ha.error("RUNTIME ERROR (in function new())",L.errorline),L.outputdetails(b)):a==L.RUNTIME_INIT?(ha.error("RUNTIME ERROR (in initial run)",L.errorline),L.outputdetails(b)):a==L.RUNTIME_UPDATE&&(ha.error("RUNTIME ERROR",L.errorline),L.outputdetails(b));L.dumpstack&&
(L.dumpstack=!1,L.outputdetails([L.javastack]))};L.outputdetails=function(a){if(null!=a&&0<a.length)for(var b=0,c=a.length;b<c;){var f=b++;null!=a[f]&&ha.error(W.htmlEscape(a[f]))}};L.getCharPosition=function(a,b){var c=Pb.ofString(a);Ka.trace(b+"/"+c.length+"  "+a.length,{fileName:"Err.hx",lineNumber:62,className:"Err",methodName:"getCharPosition"});try{return c.getString(0,b).length}catch(f){return f instanceof F&&(f=f.val),a.length-1}};L.process=function(a){L.dumpstack=!1;var b=[];if(T.__instanceof(a,
mc))return L.errorstart=L.getCharPosition(B.myscript,a.pmin),L.errorend=L.getCharPosition(B.myscript,a.pmax),L.errorstart>=B.myscript.length&&(L.errorstart=B.myscript.length-1),L.errorend>=B.myscript.length&&(L.errorend=B.myscript.length-1),Ka.trace("ERRORHANDLE OBJECT :\n",{fileName:"Err.hx",lineNumber:88,className:"Err",methodName:"process",customParams:[a,"\nerrorhandle.e = \n{ \n0: "+a.e[0]+"\n1: "+a.e[1]+"\n2: "+a.e[2]+"\n3: "+a.e[3]+"\n}"]}),"EUnexpected"==a.e[0]?(L.geterrorline(),b.push('Unexpected "'+
a.e[2]+'" in line '+L.errorline+":")):"EInvalidAccess"==a.e[0]?(L.geterrorline(),b.push('Invalid access of "'+a.e[2]+'" in line '+L.errorline+":")):"EInvalidIterator"==a.e[0]?(L.geterrorline(!1),b.push('Invalid iterator "'+a.e[2]+'" in line '+L.errorline+":")):"EInvalidChar"==a.e[0]?(L.geterrorline(!1),b.push('Invalid character "'+String.fromCharCode(a.e[2])+'" in line '+L.errorline+":")):"EUnterminatedComment"==a.e[0]?(L.geterrorline(!1),b.push("Whoops, you forgot to close a comment in line "+L.errorline+
":")):"EUnterminatedString"==a.e[0]?(L.geterrorline(!1),b.push("Unterminated string in line "+L.errorline+":")):"EUnknownVariable"==a.e[0]?(L.geterrorline(),b.push('Unknown variable "'+a.e[2]+'" in line '+L.errorline+":")):"EInvalidOp"==a.e[0]?(L.geterrorline(),b.push('Invalid operator "'+a.e[2]+'" in line '+L.errorline+":")):(Ka.trace("ERRORHANDLE OBJECT :\n",{fileName:"Err.hx",lineNumber:131,className:"Err",methodName:"process",customParams:[a,"\nerrorhandle.e = \n{ \n0: "+a.e[0]+"\n1: "+a.e[1]+
"\n2: "+a.e[2]+"\n3: "+a.e[3]+"\n}"]}),Ka.trace(a.e,{fileName:"Err.hx",lineNumber:132,className:"Err",methodName:"process"}),L.geterrorline(),b.push("Unknown error in line "+L.errorline+":")),b.push(L.errorstr),b;L.errorline=ha.getlinenum(B.interpreter.curExpr.pmin);b.push("Unknown error type in line "+L.errorline+":");b.push("Error name: "+N.string(a.name));b.push("Error: "+N.string(a));b.push("Javascript Stack:");L.dumpstack=!0;L.javastack=a.stack;return b};L.geterrorline=function(a){null==a&&(a=
!0);var b=0,c=0,f=0,f="";L.errorline=-1;for(var m=L.charpos=0;m<B.myscript.length;){f=G.substr(B.myscript,m,1);if("\n"==f){if(-1<L.errorline){f=m-1;L.charpos=L.errorstart-c;for(b=B.myscript.substring(c,f);" "==Ga.left(b,1)&&""!=b;)c++,b=B.myscript.substring(c,f);L.errorstr=a?'"'+b+'", characters '+(L.errorstart-c)+"-"+(L.errorend-c+1):'"'+b+'", from character '+(L.errorstart-c);break}else c=m+1;b++}m==L.errorstart&&(L.errorline=b+1);m++}};L.errorstr=null;L.errorline=null;L.errorstart=null;L.errorend=
null;L.charpos=null;L.javastack=null;var $=function(){};q.Game=$;$.__name__=!0;$.__properties__={set_foreground:"set_foreground",get_foreground:"get_foreground",set_background:"set_background",get_background:"get_background",set_homepage:"set_homepage",get_homepage:"get_homepage",set_title:"set_title",get_title:"get_title"};$.time=null;$.get_title=function(){return $._title};$.set_title=function(a){$._title=a;Oa.call("settitle",a);return a};$.get_homepage=function(){return $._homepage};$.set_homepage=
function(a){$._homepage=a;Oa.call("sethomepage",a);return a};$.set_background=function(a){$._background=a;Oa.call("setbackgroundcolor",a);return a};$.get_background=function(){return $._background};$.get_foreground=function(){return $._foreground};$.set_foreground=function(a){$._foreground=a;Oa.call("setforegroundcolor",a);return a};$.editor=function(){try{return Oa.call("isIDE")}catch(a){return a instanceof F&&(a=a.val),!1}};$.prompt=function(a,b){return Oa.call("prompt",a,b)};$.save=function(a,
b){Oa.call("saveKey_terryhasntupgraded",a,b)};$.load=function(a){return Oa.call("loadKey_terryhasntupgraded",a)};$.restart=function(){B.scriptfound()};var G=function(){};q.HxOverrides=G;G.__name__=!0;G.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};G.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};G.indexOf=function(a,b,c){var f=a.length;0>c&&(c+=f,0>c&&(c=0));for(;c<f;){if(a[c]===
b)return c;c++}return-1};G.remove=function(a,b){var c=G.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};G.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Qb=function(a,b){this.min=a;this.max=b};q.IntIterator=Qb;Qb.__name__=!0;Qb.prototype={hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:Qb};var Ya=function(){this.variables=new aa;this.locals=new aa;this.variables.set("null",
null);this.variables.set("true",!0);this.variables.set("false",!1);this.variables.set("trace",function(a){Ka.trace(N.string(a),{fileName:"hscript",lineNumber:0})});this.initOps()};q["hscript.Interp"]=Ya;Ya.__name__=!0;Ya.prototype={initOps:function(){var a=this;this.binops=new aa;this.binops.set("+",function(b,c){return a.expr(b)+a.expr(c)});this.binops.set("-",function(b,c){return a.expr(b)-a.expr(c)});this.binops.set("*",function(b,c){return a.expr(b)*a.expr(c)});this.binops.set("/",function(b,
c){return a.expr(b)/a.expr(c)});this.binops.set("%",function(b,c){return a.expr(b)%a.expr(c)});this.binops.set("&",function(b,c){return a.expr(b)&a.expr(c)});this.binops.set("|",function(b,c){return a.expr(b)|a.expr(c)});this.binops.set("^",function(b,c){return a.expr(b)^a.expr(c)});this.binops.set("<<",function(b,c){return a.expr(b)<<a.expr(c)});this.binops.set(">>",function(b,c){return a.expr(b)>>a.expr(c)});this.binops.set(">>>",function(b,c){return a.expr(b)>>>a.expr(c)});this.binops.set("==",
function(b,c){return a.expr(b)==a.expr(c)});this.binops.set("!=",function(b,c){return a.expr(b)!=a.expr(c)});this.binops.set(">=",function(b,c){return a.expr(b)>=a.expr(c)});this.binops.set("<=",function(b,c){return a.expr(b)<=a.expr(c)});this.binops.set(">",function(b,c){return a.expr(b)>a.expr(c)});this.binops.set("<",function(b,c){return a.expr(b)<a.expr(c)});this.binops.set("||",function(b,c){return!0==a.expr(b)||!0==a.expr(c)});this.binops.set("&&",function(b,c){return!0==a.expr(b)&&!0==a.expr(c)});
this.binops.set("=",z(this,this.assign));this.binops.set("...",function(b,c){return new Qb(a.expr(b),a.expr(c))});this.assignOp("+=",function(a,c){return a+c});this.assignOp("-=",function(a,c){return a-c});this.assignOp("*=",function(a,c){return a*c});this.assignOp("/=",function(a,c){return a/c});this.assignOp("%=",function(a,c){return a%c});this.assignOp("&=",function(a,c){return a&c});this.assignOp("|=",function(a,c){return a|c});this.assignOp("^=",function(a,c){return a^c});this.assignOp("<<=",
function(a,c){return a<<c});this.assignOp(">>=",function(a,c){return a>>c});this.assignOp(">>>=",function(a,c){return a>>>c})},assign:function(a,b){var c=this.expr(b),f=a.e;switch(f[1]){case 1:var f=f[2],m=this.locals.get(f);null==m?this.variables.set(f,c):m.r=c;break;case 5:m=f[3];c=this.set(this.expr(f[2]),m,c);break;case 16:m=f[3];this.expr(f[2])[this.expr(m)]=c;break;default:this.error(ja.EInvalidOp("="))}return c},assignOp:function(a,b){var c=this;this.binops.set(a,function(f,m){return c.evalAssignOp(a,
b,f,m)})},evalAssignOp:function(a,b,c,f){var m=c.e;switch(m[1]){case 1:m=m[2];a=this.locals.get(m);b=b(this.expr(c),this.expr(f));null==a?this.variables.set(m,b):a.r=b;break;case 5:c=m[3];m=this.expr(m[2]);b=b(this.get(m,c),this.expr(f));b=this.set(m,c,b);break;case 16:a=m[3];c=this.expr(m[2]);m=this.expr(a);b=b(c[m],this.expr(f));c[m]=b;break;default:return this.error(ja.EInvalidOp(a))}return b},increment:function(a,b,c){this.curExpr=a;var f=a.e;switch(f[1]){case 1:a=f[2];var f=this.locals.get(a),
m;m=null==f?this.variables.get(a):f.r;b?(m+=c,null==f?this.variables.set(a,m):f.r=m):null==f?this.variables.set(a,m+c):f.r=m+c;return m;case 5:return a=f[3],f=this.expr(f[2]),m=this.get(f,a),b?(m+=c,this.set(f,a,m)):this.set(f,a,m+c),m;case 16:return m=f[3],a=this.expr(f[2]),f=this.expr(m),m=a[f],b?(m+=c,a[f]=m):a[f]=m+c,m;default:return this.error(ja.EInvalidOp(0<c?"++":"--"))}},execute:function(a){this.depth=0;this.locals=new aa;this.declared=[];return this.exprReturn(a)},exprReturn:function(a){try{return this.expr(a)}catch(b){if(b instanceof
F&&(b=b.val),T.__instanceof(b,hb))switch(b[1]){case 0:throw new F("Invalid break");case 1:throw new F("Invalid continue");case 2:return b[2]}else throw b;}return null},duplicate:function(a){for(var b=new aa,c=a.keys();c.hasNext();){var f=c.next(),m;m=null!=Rb[f]?a.getReserved(f):a.h[f];null!=Rb[f]?b.setReserved(f,m):b.h[f]=m}return b},restore:function(a){for(;this.declared.length>a;){var b=this.declared.pop();this.locals.set(b.n,b.old)}},error:function(a){throw new F(new mc(a,this.curExpr.pmin,this.curExpr.pmax));
},resolve:function(a){var b=this.locals.get(a);if(null!=b)return b.r;b=this.variables.get(a);null!=b||this.variables.exists(a)||this.error(ja.EUnknownVariable(a));return b},expr:function(a){var b=this;this.curExpr=a;a=a.e;switch(a[1]){case 0:a=a[2];switch(a[1]){case 0:return a[2];case 1:return a[2];case 2:return a[2]}break;case 1:return this.resolve(a[2]);case 2:var c=a[4];a=a[2];this.declared.push({n:a,old:this.locals.get(a)});c={r:null==c?null:this.expr(c)};this.locals.set(a,c);break;case 3:return this.expr(a[2]);
case 4:a=a[2];for(var c=this.declared.length,f=null,m=0;m<a.length;)f=a[m],++m,f=this.expr(f);this.restore(c);return f;case 5:return c=a[3],this.get(this.expr(a[2]),c);case 6:return c=a[4],m=a[3],a=a[2],f=this.binops.get(a),null==f&&this.error(ja.EInvalidOp(a)),f(m,c);case 7:c=a[4];m=a[3];a=a[2];switch(a){case "!":return!0!=this.expr(c);case "-":return-this.expr(c);case "++":return this.increment(c,m,1);case "--":return this.increment(c,m,-1);case "~":return~this.expr(c);default:this.error(ja.EInvalidOp(a))}break;
case 8:c=a[3];m=a[2];a=[];for(f=0;f<c.length;){var g=c[f];++f;a.push(this.expr(g))}c=m.e;switch(c[1]){case 5:return m=c[3],c=this.expr(c[2]),null==c&&this.error(ja.EInvalidAccess(m)),this.fcall(c,m,a);default:return this.call(null,this.expr(m),a)}case 9:c=a[4];m=a[3];if(!0==this.expr(a[2]))return this.expr(m);if(null==c)break;else return this.expr(c);case 10:this.whileLoop(a[2],a[3]);break;case 11:this.forLoop(a[2],a[3],a[4]);break;case 12:throw new F(hb.SBreak);case 13:throw new F(hb.SContinue);
case 15:throw a=a[2],new F(hb.SReturn(null==a?null:this.expr(a)));case 14:var d=a[4],e=a[3],h=a[2],k=this.duplicate(this.locals),q=this,bf=0;for(a=0;a<h.length;)c=h[a],++a,c.opt||bf++;a=X.makeVarArgs(function(a){if(a.length!=h.length){if(a.length<bf)throw a="Invalid number of parameters. Got "+a.length+", required "+bf,null!=d&&(a+=" for function '"+d+"'"),new F(a);for(var c=[],f=a.length-bf,m=0,g=0;g<h.length;){var x=h[g];++g;x.opt?0<f?(c.push(a[m++]),f--):c.push(null):c.push(a[m++])}a=c}c=q.locals;
f=q.depth;q.depth++;q.locals=q.duplicate(k);m=0;for(g=h.length;m<g;)x=m++,q.locals.set(h[x].name,{r:a[x]});a=null;if(b.inTry)try{a=q.exprReturn(e)}catch(l){throw l instanceof F&&(l=l.val),q.locals=c,q.depth=f,new F(l);}else a=q.exprReturn(e);q.locals=c;q.depth=f;return a});null!=d&&(0==this.depth?this.variables.set(d,a):(this.declared.push({n:d,old:this.locals.get(d)}),c={r:a},this.locals.set(d,c),null!=Rb[d]?k.setReserved(d,c):k.h[d]=c));return a;case 17:a=a[2];c=[];for(m=0;m<a.length;)f=a[m],++m,
c.push(this.expr(f));return c;case 16:return c=a[3],this.expr(a[2])[this.expr(c)];case 18:c=a[3];a=a[2];m=[];for(f=0;f<c.length;)g=c[f],++f,m.push(this.expr(g));return this.cnew(a,m);case 19:throw new F(this.expr(a[2]));case 20:var c=a[5],m=a[3],x=a[2];a=this.declared.length;f=this.inTry;try{return this.inTry=!0,g=this.expr(x),this.restore(a),this.inTry=f,g}catch(l){l instanceof F&&(l=l.val);if(T.__instanceof(l,hb))throw a=l,this.inTry=f,new F(a);g=l;this.restore(a);this.inTry=f;this.declared.push({n:m,
old:this.locals.get(m)});this.locals.set(m,{r:g});c=this.expr(c);this.restore(a);return c}case 21:a=a[2];c={};for(m=0;m<a.length;)f=a[m],++m,this.set(c,f.name,this.expr(f.e));return c;case 22:return c=a[4],m=a[3],!0==this.expr(a[2])?this.expr(m):this.expr(c);case 23:c=a[4];m=a[3];a=this.expr(a[2]);f=!1;for(g=0;g<m.length;){x=m[g];++g;for(var t=0,u=x.values;t<u.length;){var r=u[t];++t;if(this.expr(r)==a){f=!0;break}}if(f){a=this.expr(x.expr);break}}f||(a=null==c?null:this.expr(c));return a}return null},
whileLoop:function(a,b){var c=this.declared.length;try{for(;!0==this.expr(a);)try{this.expr(b)}catch(f){if(f instanceof F&&(f=f.val),T.__instanceof(f,hb))switch(f[1]){case 0:throw"__break__";case 2:throw new F(f);}else throw f;}}catch(m){if("__break__"!=m)throw m;}this.restore(c)},makeIterator:function(a){try{a=M(a)()}catch(b){b instanceof F&&(b=b.val)}null!=a.hasNext&&null!=a.next||this.error(ja.EInvalidIterator(a));return a},forLoop:function(a,b,c){var f=this.declared.length;this.declared.push({n:a,
old:this.locals.get(a)});b=this.makeIterator(this.expr(b));try{for(;b.hasNext();){var m={r:b.next()};this.locals.set(a,m);try{this.expr(c)}catch(g){if(g instanceof F&&(g=g.val),T.__instanceof(g,hb))switch(g[1]){case 0:throw"__break__";case 2:throw new F(g);}else throw g;}}}catch(d){if("__break__"!=d)throw d;}this.restore(f)},get:function(a,b){null==a&&this.error(ja.EInvalidAccess(b));return X.field(a,b)},set:function(a,b,c){null==a&&this.error(ja.EInvalidAccess(b));return a[b]=c},fcall:function(a,
b,c){return this.call(a,X.field(a,b),c)},call:function(a,b,c){return X.callMethod(a,b,c)},cnew:function(a,b){var c=Aa.resolveClass(a);null==c&&(c=this.resolve(a));return Aa.createInstance(c,b)},__class__:Ya};var Sb=function(){Ya.call(this)};q.InterpExtended=Sb;Sb.__name__=!0;Sb.__super__=Ya;Sb.prototype=u(Ya.prototype,{get:function(a,b){if(null==a)throw new F(ja.EInvalidAccess(b));return X.getProperty(a,b)},set:function(a,b,c){if(null==a)throw new F(ja.EInvalidAccess(b));X.setProperty(a,b,c);return c},
__class__:Sb});var Tb=function(){};q.Lambda=Tb;Tb.__name__=!0;Tb.count=function(a,b){var c=0;if(null==b)for(var f=M(a)();f.hasNext();)f.next(),c++;else for(f=M(a)();f.hasNext();){var m=f.next();b(m)&&c++}return c};var zb=function(){this.length=0};q.List=zb;zb.__name__=!0;zb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];
this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},iterator:function(){return new vc(this.h)},__class__:zb};var vc=function(a){this.head=a;this.val=null};q["_List.ListIterator"]=vc;vc.__name__=!0;vc.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:vc};var La=h.Webbridge=function(){};q.Webbridge=La;La.__name__=!0;La.prototype={runScript:function(a){B.readytogo&&(B.myscript=a,B.loadwhenready=
!0)},get_background_colour:function(){return $._background},get_foreground_colour:function(){return $._foreground},get_title:function(){return $._title},get_homepage:function(){return $._homepage},stop:function(){e.resizescreen(240,150);e.rotation(0);e.scale(1,1);e.imagecolor(ma.WHITE);k.setfont(ga.DEFAULT,1);B.cleanupimages();k.cleartextcache();e.clearscreeneachframe=!0;B.scriptloaded=!1;B.runscript=!1;B.errorinscript=!1;B.pausescript=!1},__class__:La};var kc=function(){this.firstrun=!0,B.init(),
this.firstrun=!1};q.Main=kc;kc.__name__=!0;kc.prototype={update:function(){B.update()},__class__:kc};Math.__name__=!0;var wc=function(){};q.MusicDat=wc;wc.__name__=!0;wc.prototype={__class__:wc};var H=function(){};q.MusicEngine=H;H.__name__=!0;H.update=function(){if(H.playing){var a=H.dat.notes.length*H.dat.patternLength*H.dat.cellDuration;H.playTick++;if(H.musicLoop)H.playTick%=a;else if(H.playTick==a){H.playing=!1;return}var a=H.playTick/H.dat.cellDuration|0,b=a/H.dat.patternLength|0;H.selectedSequence=
b;a-=H.dat.patternLength*b;0==H.playTick%H.dat.cellDuration&&H.TryPlayNote(a)}};H.DoPlayNote=function(a,b){var c=Math.pow(2,(b[0]-61)/12);ka.playnote(H.dat.instruments[a],c,b[1]*H.dat.cellDuration/30,H.vol*b[3]/H.maxVol)};H.TryPlayNote=function(a){for(var b=0;5>b;)for(var c=b++,f=H.dat.notes[H.selectedSequence][c],m=0;m<f.length;){var g=f[m];++m;g[2]==a&&H.DoPlayNote(c,g)}};H.stopmusic=function(){H.stopPlay()};H.playmusic=function(a){H.playing=!0;H.loadDat(a);H.startPlay()};H.startPlay=function(){H.playing=
!0;H.playTick=-1};H.stopPlay=function(){H.playing=!1};H.dat=null;H.stripWhitespace=function(a){for(var b="",c=0,f=a.length;c<f;){var m=c++,m=a.charAt(m);" "!=m&&"\t"!=m&&"\n"!=m&&(b+=m)}return b};H.loadDat=function(a){a=H.stripWhitespace(a);a=H.unmakeRLE(a);for(var b=[],c=0,f=a.length;c<f;){var m=c++,m=a.charAt(m);b.push(G.indexOf(H.B62,m,0))}H.dat=new wc;a=0;H.dat.patternLength=b[a];a++;H.dat.cellDuration=b[a];H.dat.instruments=[];for(c=0;5>c;){c++;for(var f=0,m=1,g=0;5>g;)g++,a++,f+=m*b[a],m*=62;
H.dat.instruments.push(f)}c=[];a++;f=b[a];c.push(b[a]);H.dat.notes=[];for(m=0;m<f;){m++;for(var g=[[],[],[],[],[]],d=0;5>d;){var e=d++;a++;var h=b[a];c.push(b[a]);for(var e=g[e],k=0;k<h;){k++;a++;var q=b[a];c.push(b[a]);a++;var l=b[a];c.push(b[a]);e.push([q+62*l])}for(k=1;4>k;)for(k++,q=0;q<h;)l=q++,a++,e[l].push(b[a]),c.push(b[a])}H.dat.notes.push(g)}};H.saveDat=function(){var a=[];a.push(H.dat.patternLength);a.push(H.dat.cellDuration);for(var b=0;5>b;)for(var c=b++,c=H.dat.instruments[c],f=0;5>
f;){var m=f++,m=Math.pow(62,m);a.push((c/m|0)%62)}a.push(H.dat.notes.length);[].push(a[a.length-1]);b=H.dat.notes;for(c=0;c<b.length;)for(f=b[c],++c,m=0;5>m;){var g=m++,g=f[g];a.push(g.length);for(var d=0;d<g.length;){var e=g[d];++d;a.push(e[0]%62);a.push((e[0]/62|0)%62)}for(d=1;4>d;)for(var e=d++,h=0;h<g.length;){var k=g[h];++h;a.push(k[e])}}b="";for(c=0;c<a.length;)f=a[c],++c,b+=H.B62[f];return b=H.makeRLE(b)};H.makeRLE=function(a){for(var b="",c=a.charAt(0),f=1,m=1,g=a.length;m<g;){var d=m++,d=
a.charAt(d);d==c?f++:(1<f&&(b+=f),b+=c,c=d,f=1)}1<f&&(b+=f);return b+c};H.unmakeRLE=function(a){for(var b="",c=0,f=0;f<a.length;){for(var m=a.charAt(f);"0"==m||"1"==m||"2"==m||"3"==m||"4"==m||"5"==m||"6"==m||"7"==m||"8"==m||"9"==m;)c=10*c+N.parseInt(m),f++,m=a.charAt(f);0==c&&(c=1);for(var g=0;g<c;)g++,b+=m;f++;a.charAt(f);c=0}return b};var db=function(){Ma.call(this);var a=this.getBackgroundColor(),b=0;70>0.299*(a>>16&255)+0.587*(a>>8&255)+0.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,
c=this.getWidth()-60;this.outline=new Ma;this.outline.get_graphics().beginFill(b,0.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new Ma;this.progress.get_graphics().beginFill(b,0.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};q.NMEPreloader=db;db.__name__=!0;db.__super__=Ma;db.prototype=u(Ma.prototype,
{getBackgroundColor:function(){return 0},getHeight:function(){return fa.current.stage.stageHeight},getWidth:function(){return fa.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new J(J.COMPLETE))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:db});var ic=function(){db.call(this);this.screenwidth=240;this.screenheight=150;this.stagewidth=240;this.stageheight=150;this.backcol=this.RGB(0,0,0);this.frontcol=this.RGB(128,128,128);
this.loadercol=this.RGB(196,196,196);this.loadingbarwidth=125;this.loadingbarheight=6;this.ct=new pb(0,0,0,1,255,255,255,1);this.temprect=new sa;this.tl=new la(0,0);this.tpoint=new la(0,0);this.glyphletters=new aa;this.glyphletters.set("A","4 010 101 111 101 101".split(" "));this.glyphletters.set("B","4 110 101 110 101 110".split(" "));this.glyphletters.set("C","4 011 100 100 100 011".split(" "));this.glyphletters.set("D","4 110 101 101 101 110".split(" "));this.glyphletters.set("E","4 111 100 110 100 111".split(" "));
this.glyphletters.set("F","4 111 100 110 100 100".split(" "));this.glyphletters.set("G","4 011 100 101 101 011".split(" "));this.glyphletters.set("H","4 101 101 111 101 101".split(" "));this.glyphletters.set("I","211111".split(""));this.glyphletters.set("J","3 01 01 01 01 11".split(" "));this.glyphletters.set("K","4 101 101 110 101 101".split(" "));this.glyphletters.set("L","4 100 100 100 100 111".split(" "));this.glyphletters.set("M","6 10001 11011 10101 10001 10001".split(" "));this.glyphletters.set("N",
"5 1001 1101 1111 1011 1001".split(" "));this.glyphletters.set("O","4 010 101 101 101 010".split(" "));this.glyphletters.set("P","4 110 101 110 100 100".split(" "));this.glyphletters.set("Q","4 010 101 101 101 011 001".split(" "));this.glyphletters.set("R","4 110 101 110 101 101".split(" "));this.glyphletters.set("S","4 011 100 010 001 110".split(" "));this.glyphletters.set("T","4 111 010 010 010 010".split(" "));this.glyphletters.set("U","4 101 101 101 101 010".split(" "));this.glyphletters.set("V",
"4 101 101 101 011 001".split(" "));this.glyphletters.set("W","6 10001 10001 10101 11011 10001".split(" "));this.glyphletters.set("X","4 101 101 010 101 101".split(" "));this.glyphletters.set("Y","4 101 101 111 010 010".split(" "));this.glyphletters.set("Z","4 111 001 010 100 111".split(" "));this.glyphletters.set(" ",["4"]);this.backbuffer=new Ha(this.screenwidth,this.screenheight,!1,0);this.screenbuffer=new Ha(this.screenwidth,this.screenheight,!1,0);this.screen=new Hc(this.screenbuffer);this.screen.set_width(this.stagewidth);
this.screen.set_height(this.stageheight);this.addChild(this.screen);this.startgame=!1;this.gfxstage=fa.current.stage;this.onResize(null);this.gfxstage.addEventListener(J.RESIZE,z(this,this.onResize))};q.Preloader=ic;ic.__name__=!0;ic.__super__=db;ic.prototype=u(db.prototype,{onResize:function(a){a=N["int"](Math.min(Math.floor(this.gfxstage.stageWidth/this.screenwidth),Math.floor(this.gfxstage.stageHeight/this.screenheight)));this.gfxstage.set_scaleX(a);this.gfxstage.set_scaleY(a);this.gfxstage.set_x((this.gfxstage.stageWidth-
this.screenwidth*a)/2);this.gfxstage.set_y((this.gfxstage.stageHeight-this.screenheight*a)/2)},RGB:function(a,b,c){return c|b<<8|a<<16},onLoaded:function(){this.gfxstage.removeEventListener(J.RESIZE,z(this,this.onResize));this.contains(this.screen)&&this.removeChild(this.screen);this.dispatchEvent(new J(J.COMPLETE))},fillrect:function(a,b,c,f,m){this.temprect.x=a;this.temprect.y=b;this.temprect.width=c;this.temprect.height=f;this.backbuffer.fillRect(this.temprect,m)},pset:function(a,b){this.temprect.x=
this.psetx+a;this.temprect.y=this.psety+b;this.temprect.width=1;this.temprect.height=1;this.backbuffer.fillRect(this.temprect,16777215)},glyphprint:function(a,b,c){this.psetx=a;this.psety=b;a=0;for(b=c.length;a<b;){var f=a++;this.drawgylph(G.substr(c,f,1).toUpperCase())}},drawgylph:function(a){if(this.glyphletters.exists(a)){a=this.glyphletters.get(a);for(var b=1,c=a.length;b<c;)for(var f=b++,m=0,g=a[f].length;m<g;){var d=m++;"1"==G.substr(a[f],d,1)&&(this.pset(d,2*f),this.pset(d,2*f+1))}this.psetx+=
N.parseInt(a[0])}},onUpdate:function(a,b){var c=a/b;1<=c&&(this.startgame=!0);this.backbuffer.fillRect(this.backbuffer.rect,this.backcol);this.fillrect(this.screenwidth/2-this.loadingbarwidth/2-2|0,(this.screenheight/2-13|0)-10,this.loadingbarwidth+4,this.loadingbarheight+6,this.frontcol);this.fillrect(this.screenwidth/2-this.loadingbarwidth/2|0,(this.screenheight/2-11|0)-10,this.loadingbarwidth,this.loadingbarheight+2,this.backcol);this.fillrect((this.screenwidth/2-this.loadingbarwidth/2|0)+1,(this.screenheight/
2-11|0)+1-10,(c*this.loadingbarwidth|0)-2,this.loadingbarheight,this.loadercol);this.glyphprint((this.screenwidth/2|0)-28,(this.screenheight/2-12|0)+this.loadingbarheight,"LOADING ZEEDONK");this.screenbuffer.lock();this.screenbuffer.copyPixels(this.backbuffer,this.backbuffer.rect,this.tl,null,null,!1);this.screenbuffer.unlock();this.backbuffer.lock();this.backbuffer.fillRect(this.backbuffer.rect,0);this.backbuffer.unlock();if(this.startgame)this.onLoaded()},__class__:ic});var X=function(){};q.Reflect=
X;X.__name__=!0;X.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};X.field=function(a,b){try{return a[b]}catch(c){return c instanceof F&&(c=c.val),null}};X.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};X.setProperty=function(a,b,c){var f;if(a.__properties__&&(f=a.__properties__["set_"+b]))a[f](c);else a[b]=c};X.callMethod=function(a,b,c){return b.apply(a,c)};X.fields=function(a){var b=[];if(null!=a){var c=
Object.prototype.hasOwnProperty,f;for(f in a)"__id__"!=f&&"hx__closures__"!=f&&c.call(a,f)&&b.push(f)}return b};X.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};X.compare=function(a,b){return a==b?0:a>b?1:-1};X.compareMethods=function(a,b){return a==b?!0:X.isFunction(a)&&X.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};X.isEnumValue=function(a){return null!=a&&null!=a.__enum__};X.makeVarArgs=function(a){return function(){var b=Array.prototype.slice.call(arguments);
return a(b)}};var Ga=function(){};q.S=Ga;Ga.__name__=!0;Ga.isalpha=function(a){a=a.toLowerCase();return G.cca(a,0)>=G.cca("a",0)&&G.cca(a,0)<=G.cca("z",0)||"_"==a?!0:!1};Ga.isinstring=function(a,b,c){null==c&&(c=!1);var f=Ga.positioninstring(a,b);if(-1!=f)if(c){if(0==f||!Ga.isalpha(Ga.mid(a,f-1))){if("."==Ga.mid(a,f-1))return"."==Ga.mid(a,f-2)?!0:!1;if('"'==Ga.mid(a,f-1))return!1;if(f+b.length>=a.length||!Ga.isalpha(Ga.mid(a,f+b.length))&&!Ga.isnumber(Ga.mid(a,f+b.length)))return!0}}else return!0;
return!1};Ga.positioninstring=function(a,b,c){null==c&&(c=0);return a.indexOf(b,c)};Ga.mid=function(a,b,c){null==c&&(c=1);null==b&&(b=0);return 0>b?"":G.substr(a,b,c)};Ga.left=function(a,b){null==b&&(b=1);return G.substr(a,0,b)};Ga.isnumber=function(a){a=parseFloat(a);return isNaN(a)?!1:!0};var N=function(){};q.Std=N;N.__name__=!0;N.string=function(a){return T.__string_rec(a,"")};N["int"]=function(a){return a|0};N.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=G.cca(a,1)&&88!=G.cca(a,1)||(b=
parseInt(a));return isNaN(b)?null:b};N.parseFloat=function(a){return parseFloat(a)};var Ab=function(){this.b=""};q.StringBuf=Ab;Ab.__name__=!0;Ab.prototype={add:function(a){this.b+=N.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+G.substr(a,b,null):this.b+G.substr(a,b,c)},__class__:Ab};var W=function(){};q.StringTools=W;W.__name__=!0;W.urlEncode=function(a){return encodeURIComponent(a)};W.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};W.startsWith=function(a,b){return a.length>=b.length&&G.substr(a,0,b.length)==b};W.isSpace=function(a,b){var c=G.cca(a,b);return 8<c&&14>c||32==c};W.ltrim=function(a){for(var b=a.length,c=0;c<b&&W.isSpace(a,c);)c++;return 0<c?G.substr(a,c,b-c):a};W.rtrim=function(a){for(var b=a.length,c=0;c<b&&W.isSpace(a,b-c-1);)c++;return 0<c?G.substr(a,0,b-c):a};W.trim=function(a){return W.ltrim(W.rtrim(a))};W.replace=function(a,b,c){return a.split(b).join(c)};
W.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};W.fastCodeAt=function(a,b){return a.charCodeAt(b)};var Aa=function(){};q.Type=Aa;Aa.__name__=!0;Aa.resolveClass=function(a){a=q[a];return null!=a&&a.__name__?a:null};Aa.resolveEnum=function(a){a=q[a];return null!=a&&a.__ename__?a:null};Aa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],
b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new F("Too many arguments");}};Aa.getClassFields=function(a){a=X.fields(a);G.remove(a,"__name__");G.remove(a,"__interfaces__");G.remove(a,"__properties__");G.remove(a,"__super__");G.remove(a,"__meta__");G.remove(a,"prototype");
return a};Aa.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,f=a.length;c<f;){var m=c++;if(!Aa.enumEq(a[m],b[m]))return!1}var g=a.__enum__;if(g!=b.__enum__||null==g)return!1}catch(d){return d instanceof F&&(d=d.val),!1}return!0};var rb={};q["_UInt.UInt_Impl_"]=rb;rb.__name__=!0;rb.toFloat=function(a){return 0>a?4294967296+a:a+0};var ha=function(){};q.Webdebug=ha;ha.__name__=!0;ha.getlinenum=function(a){var b=0,c="";a=L.getCharPosition(B.myscript,a);for(var f=0;f<B.myscript.length;){c=
G.substr(B.myscript,f,1);"\n"==c&&b++;if(f==a)return b+1;f++}return 0};ha.log=function(a,b,c,f,m,g,d,e){var h=[],k=0;if(null!=B.interpreter){try{k=ha.getlinenum(B.interpreter.curExpr.pmin)}catch(q){q instanceof F&&(q=q.val),k=0}0==k?(h.push(a),null!=b&&h.push(b),null!=c&&h.push(c),null!=f&&h.push(f),null!=m&&h.push(m),null!=g&&h.push(g),null!=d&&h.push(d),null!=e&&h.push(e),Ka.trace(h,{fileName:"Webdebug.hx",lineNumber:47,className:"Webdebug",methodName:"log"}),Oa.call("consolePrintArray",h,!0)):
(h.push(a),null!=b&&h.push(b),null!=c&&h.push(c),null!=f&&h.push(f),null!=m&&h.push(m),null!=g&&h.push(g),null!=d&&h.push(d),null!=e&&h.push(e),Ka.trace(h,{fileName:"Webdebug.hx",lineNumber:63,className:"Webdebug",methodName:"log",customParams:[k]}),Oa.call("consolePrintWithLinesArray",h,k,!0))}else Ka.trace("!CONSOLE NOT AVAILABLE YET!",{fileName:"Webdebug.hx",lineNumber:70,className:"Webdebug",methodName:"log"}),h.push(a),null!=b&&h.push(b),null!=c&&h.push(c),null!=f&&h.push(f),null!=m&&h.push(m),
null!=g&&h.push(g),null!=d&&h.push(d),null!=e&&h.push(e),Ka.trace(h,{fileName:"Webdebug.hx",lineNumber:79,className:"Webdebug",methodName:"log"})};ha.error=function(a,b){Oa.call("logError",a,b,!0,L.charpos)};ha.warn=function(a,b){Oa.call("logWarning",a,b,!0)};ha.warn_noline=function(a){Oa.call("logWarningNoLine",a,!0)};var ga=function(){};q.Webfont=ga;ga.__name__=!0;var ka=function(){};q.Webmusic=ka;ka.__name__=!0;ka.__properties__={set_musicloop:"set_musicloop",get_musicloop:"get_musicloop",set_musicvol:"set_musicvol",
get_musicvol:"get_musicvol"};ka.playsound=function(a,b){null==b&&(b=1);Oa.call("playSound",a,b)};ka.playnote=function(a,b,c,f){Oa.call("playNote",a,b,c,f)};ka.playmusic=function(a){H.playmusic(a)};ka.stopmusic=function(){H.stopmusic()};ka.set_musicvol=function(a){a=Math.max(a,0);a=Math.min(a,1);return H.vol=a};ka.get_musicvol=function(){return H.vol};ka.get_musicloop=function(){return H.musicLoop};ka.set_musicloop=function(a){return H.musicLoop=a};var B=function(){};q.Webscript=B;B.__name__=!0;B.myscript=
null;B.loadedscript=null;B.parsedscript=null;B.parser=null;B.interpreter=null;B.scriptloaded=null;B.runscript=null;B.errorinscript=null;B.pausescript=null;B.initfunction=null;B.updatefunction=null;B.corecontrol=null;B.init=function(){B.scriptloaded=!1;B.runscript=!1;B.pausescript=!1;B.errorinscript=!1;k.cleartextcache();k.setfont(ga.ZERO4B11,1);k.setfont(ga.C64,1);k.setfont(ga.COMIC,1);k.setfont(ga.CRYPT,1);k.setfont(ga.DOS,1);k.setfont(ga.GANON,1);k.setfont(ga.NOKIA,1);k.setfont(ga.OLDENGLISH,1);
k.setfont(ga.PIXEL,1);k.setfont(ga.PRESSSTART,1);k.setfont(ga.RETROFUTURE,1);k.setfont(ga.ROMAN,1);k.setfont(ga.SPECIAL,1);k.setfont(ga.THIN,1);k.setfont(ga.TINY,1);k.setfont(ga.YOSTER,1);k.setfont(ga.DEFAULT,1);B.cleanupimages();try{var a=Oa.call("getScript");null!=a&&(B.loadscript(a),B.skipnextloadscript=!0)}catch(b){b instanceof F&&(b=b.val)}B.readytogo=!0};B.cleanupimages=function(){e.clearimages();e.loadimagestring("__library_zebra","YKaaapZZZSaaaaaaaaaabeaaaaraaaacE6aaaEOaaavnaaac6avkFqaiHvkaquEHaac6aCabqauaauafaa");
e.loadimagestring("__library_donkey","YKaaaks4f3iMeqaaaaeqaaabeaaacE6aafkCaabsEaaaac6aaaaEEE6akEE8acEECqaCakaakac6afabqa");e.resizeimage("__library_zebra",3);e.resizeimage("__library_donkey",3)};B.myLoader=null;B.loadfile=function(a){B.myLoader=new pd;a=new ad(a);B.myLoader.addEventListener(J.COMPLETE,B.onLoadComplete);B.myLoader.addEventListener(Ub.IO_ERROR,B.onIOError);B.myLoader.load(a)};B.onIOError=function(a){Ka.trace("test script not found.",{fileName:"Webscript.hx",lineNumber:107,className:"Webscript",
methodName:"onIOError"})};B.onLoadComplete=function(a){B.myscript=Da.tostring(B.myLoader.data);B.scriptfound()};B.update=function(){if(B.errorinscript)k.setfont(ga.DEFAULT,1),e.clearscreen(e.rgb(32,0,0)),k.display(k.CENTER,k.CENTER,"ERROR! ERROR! ERROR!",ma.RED);else if(B.loadwhenready)B.readytogo&&(B.loadwhenready=!1,B.loadscript(B.myscript));else if(B.scriptloaded){if(B.runscript&&!B.pausescript){try{B.updatefunction()}catch(a){a instanceof F&&(a=a.val),L.log(L.RUNTIME_UPDATE,L.process(a))}H.update();
$.time++}}else $.editor()?(B.counter+=1,0==B.counter%120&&(B.donkeyhop=10),60==B.counter%120&&(B.zebrahop=10),0<B.zebrahop&&B.zebrahop--,0<B.donkeyhop&&B.donkeyhop--,e.clearscreen(ma.LIGHTBLUE),e.fillbox(0,e.screenheightmid,e.screenwidth,e.screenheightmid,ma.GREEN),e.rotation(B.zebrahop,e.RIGHT,e.TOP),5<B.zebrahop?e.drawimage(e.CENTER+80,e.CENTER-15,"__library_donkey"):e.drawimage(e.CENTER+80,e.CENTER-5-2*B.zebrahop,"__library_donkey"),e.rotation(-B.donkeyhop,e.LEFT,e.TOP),5<B.donkeyhop?e.drawimage(e.CENTER-
80,e.CENTER-15,"__library_zebra"):e.drawimage(e.CENTER-80,e.CENTER-5-2*B.donkeyhop,"__library_zebra"),e.rotation(0),60>B.counter%120?e.fillcircle(e.screenwidthmid-60+B.counter%60*120/60,e.screenheightmid-30-30*Math.sin(B.counter%60*Math.PI/60),8,e.hsl(B.counter,0.75,0.5)):e.fillcircle(e.screenwidthmid+60-B.counter%60*120/60,e.screenheightmid-30-30*Math.sin(B.counter%60*Math.PI/60),8,e.hsl(B.counter,0.75,0.5)),k.setfont(ga.PRESSSTART,1),k.display(k.CENTER,k.CENTER+50,"WAITING FOR SCRIPTFILE",ma.WHITE),
k.setfont(ga.DEFAULT,1),k.display(k.CENTER,e.screenheight-k.height()-10,"zeedonk beta v0.7",ma.WHITE)):(e.clearscreen(ma.BLACK),k.display(k.CENTER,e.screenheight-k.height()-24,"zeedonk beta v0.7",ma.GRAY),k.display(k.CENTER,e.screenheight-k.height()-14,"loading script...",ma.GRAY));e.showfps&&(B.oldfont=k.currentfont,B.oldfontsize=k.currentsize,k.setfont("pixel",1),-1<e.fps()&&(k.align(k.RIGHT),k.display(e.screenwidth-4,1,"FPS: "+e.fps(),ma.YELLOW)),k.align(k.LEFT),k.setfont(B.oldfont,B.oldfontsize))};
B.$name=null;B.resetGlobalVariables=function(){H.stopmusic();H.vol=1;H.musicLoop=!0;y.resetKeys();e.rotation(0);e.scale(1,1);e._linethickness=1;e.imagecolor(ma.WHITE);$._title="zeedonk game";$._homepage="http://www.zeedonk.net";$._background=0;$._foreground=16777215};B.loadscript=function(a){try{$.editor()||Oa.call("onresize()")}catch(b){b instanceof F&&(b=b.val)}B.skipnextloadscript?B.skipnextloadscript=!1:(B.myscript=a,B.scriptfound())};B.scriptfound=function(){B.resetGlobalVariables();B.corecontrol.reset();
B.scriptloaded=!0;B.errorinscript=!1;B.pausescript=!1;B.parser=new ee;B.parser.allowTypes=!1;B.interpreter=new Sb;$.time=0;B.loadedscript=B.myscript.split("\n");B.interpreter.variables.set("Math",Math);B.interpreter.variables.set("Col",ma);B.interpreter.variables.set("Convert",Da);B.interpreter.variables.set("Gfx",e);B.interpreter.variables.set("Input",y);B.interpreter.variables.set("Key",t);B.interpreter.variables.set("Game",$);B.interpreter.variables.set("Mouse",C);B.interpreter.variables.set("Music",
ka);B.interpreter.variables.set("Text",k);B.interpreter.variables.set("Font",ga);B.interpreter.variables.set("Random",P);B.interpreter.variables.set("String",String);B.interpreter.variables.set("trace",ha.log);B.interpreter.variables.set("Math.abs",e.fastAbs);k.setfont(ga.DEFAULT,1);k.cleartextcache();e.clearscreeneachframe=!0;e.skiprender=!1;B.runscript=!0;try{B.parsedscript=B.parser.parseString(B.myscript)}catch(a){a instanceof F&&(a=a.val),L.log(L.PARSER_INIT,L.process(a))}if(B.runscript){try{B.interpreter.execute(B.parsedscript)}catch(b){b instanceof
F&&(b=b.val),L.log(L.RUNTIME_INIT,L.process(b))}$._title=B.interpreter.variables.get("title");null==$._title&&($._title="Untitled");$._homepage=B.interpreter.variables.get("homepage");null==$._homepage&&($._homepage="");var c=B.interpreter.variables.get("background_color");$._background=null==c?ma.BLACK:Da.toint(c);null==B.interpreter.variables.get("foreground_color")?$._foreground=ma.WHITE:$._foreground=Da.toint(c);B.initfunction=B.interpreter.variables.get("new");B.updatefunction=B.interpreter.variables.get("update");
if(null!=B.initfunction)try{B.initfunction()}catch(f){f instanceof F&&(f=f.val),L.log(L.PARSER_NEW,L.process(f))}null==B.updatefunction&&(e.clearscreeneachframe=!1,B.pausescript=!0)}};var Q=function(a){this.nodeType=a;this.children=[];this.attributeMap=new aa};q.Xml=Q;Q.__name__=!0;Q.parse=function(a){return nc.parse(a)};Q.createElement=function(a){var b=new Q(Q.Element);if(b.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};Q.createPCData=
function(a){var b=new Q(Q.PCData);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw new F("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};Q.createCData=function(a){var b=new Q(Q.CData);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw new F("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};Q.createComment=function(a){var b=new Q(Q.Comment);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw new F("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};
Q.createDocType=function(a){var b=new Q(Q.DocType);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw new F("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};Q.createProcessingInstruction=function(a){var b=new Q(Q.ProcessingInstruction);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw new F("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};Q.createDocument=function(){return new Q(Q.Document)};Q.prototype={get_nodeName:function(){if(this.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+
this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},elementsNamed:function(a){if(this.nodeType!=
Q.Document&&this.nodeType!=Q.Element)throw new F("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,f=this.children;c<f.length;){var m=f[c];++c;var g;if(g=m.nodeType==Q.Element){g=void 0;if(m.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+m.nodeType);g=m.nodeName;g=g==a}g&&b.push(m)}return G.iter(b)},firstElement:function(){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new F("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==Q.Element)return c}return null},addChild:function(a){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new F("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new F("Bad node type, expected Element or Document but found "+
this.nodeType);return G.remove(this.children,a)?(a.parent=null,!0):!1},__class__:Q,__properties__:{get_nodeName:"get_nodeName"}};var qd=function(){};q["haxe.IMap"]=qd;qd.__name__=!0;var fe=function(a,b){this.high=a;this.low=b};q["haxe._Int64.___Int64"]=fe;fe.__name__=!0;fe.prototype={__class__:fe};var Ka=function(){};q["haxe.Log"]=Ka;Ka.__name__=!0;Ka.trace=function(a,b){T.__trace(a,b)};var tc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};q["haxe.Timer"]=tc;tc.__name__=!0;tc.delay=
function(a,b){var c=new tc(b);c.run=function(){c.stop();a()};return c};tc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:tc};var Bb=function(a){this.__b=""};q["haxe.Utf8"]=Bb;Bb.__name__=!0;Bb.prototype={__class__:Bb};var rd=function(){};q["haxe.ds.BalancedTree"]=rd;rd.__name__=!0;rd.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;
b=0>c?b.left:b.right}return null},setLoop:function(a,b,c){if(null==c)return new ib(null,a,b,null);var f=this.compare(a,c.key);if(0==f)return new ib(c.left,a,b,c.right,null==c?0:c._height);if(0>f)return a=this.setLoop(a,b,c.left),this.balance(a,c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},balance:function(a,b,c,f){var m;m=null==a?0:a._height;var g;g=null==f?0:f._height;return m>g+2?function(b){b=a.left;return null==b?0:b._height}(this)>=function(b){b=
a.right;return null==b?0:b._height}(this)?new ib(a.left,a.key,a.value,new ib(a.right,b,c,f)):new ib(new ib(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new ib(a.right.right,b,c,f)):g>m+2?function(a){a=f.right;return null==a?0:a._height}(this)>function(a){a=f.left;return null==a?0:a._height}(this)?new ib(new ib(a,b,c,f.left),f.key,f.value,f.right):new ib(new ib(a,b,c,f.left.left),f.left.key,f.left.value,new ib(f.left.right,f.key,f.value,f.right)):new ib(a,b,c,f,(m>g?m:g)+1)},compare:function(a,
b){return X.compare(a,b)},__class__:rd};var ib=function(a,b,c,f,m){null==m&&(m=-1);this.left=a;this.key=b;this.value=c;this.right=f;this._height=-1==m?(function(a){a=a.left;return null==a?0:a._height}(this)>function(a){a=a.right;return null==a?0:a._height}(this)?function(a){a=a.left;return null==a?0:a._height}(this):function(a){a=a.right;return null==a?0:a._height}(this))+1:m};q["haxe.ds.TreeNode"]=ib;ib.__name__=!0;ib.prototype={__class__:ib};var Ic=function(){};q["haxe.ds.EnumValueMap"]=Ic;Ic.__name__=
!0;Ic.__interfaces__=[qd];Ic.__super__=rd;Ic.prototype=u(rd.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),f=b.slice(2);return 0==c.length&&0==f.length?0:this.compareArgs(c,f)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,f=a.length;c<f;){var m=c++,m=this.compareArg(a[m],b[m]);if(0!=m)return m}return 0},compareArg:function(a,b){return X.isEnumValue(a)&&X.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof
Array&&null==b.__enum__?this.compareArgs(a,b):X.compare(a,b)},__class__:Ic});var Kb=function(){this.h={}};q["haxe.ds.IntMap"]=Kb;Kb.__name__=!0;Kb.__interfaces__=[qd];Kb.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return G.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},
__class__:Kb};var Jc=function(){this.h={};this.h.__keys__={}};q["haxe.ds.ObjectMap"]=Jc;Jc.__name__=!0;Jc.__interfaces__=[qd];Jc.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Jc.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return G.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Jc};var ge=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};q["haxe.ds._StringMap.StringMapIterator"]=ge;ge.__name__=!0;ge.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:ge};var aa=function(){this.h={}};q["haxe.ds.StringMap"]=aa;aa.__name__=!0;aa.__interfaces__=
[qd];aa.prototype={set:function(a,b){null!=Rb[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Rb[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Rb[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=Rb[a]){a="$"+a;if(null==
this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return G.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ge(this,this.arrayKeys())},__class__:aa};var xc={};q["haxe.ds._Vector.Vector_Impl_"]=xc;xc.__name__=!0;xc.blit=
function(a,b,c,f,m){for(var g=0;g<m;){var d=g++;c[f+d]=a[b+d]}};var Pb=function(a){this.length=a.byteLength;this.b=new jb(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};q["haxe.io.Bytes"]=Pb;Pb.__name__=!0;Pb.alloc=function(a){return new Pb(new he(a))};Pb.ofString=function(a){for(var b=[],c=0;c<a.length;){var f=W.fastCodeAt(a,c++);55296<=f&&56319>=f&&(f=f-55232<<10|W.fastCodeAt(a,c++)&1023);127>=f?b.push(f):(2047>=f?b.push(192|f>>6):(65535>=f?b.push(224|f>>12):(b.push(240|f>>18),b.push(128|
f>>12&63)),b.push(128|f>>6&63)),b.push(128|f&63))}return new Pb((new jb(b)).buffer)};Pb.prototype={getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new F(Za.OutsideBounds);for(var c="",f=this.b,m=String.fromCharCode,g=a,d=a+b;g<d;){var e=f[g++];if(128>e){if(0==e)break;c+=m(e)}else if(224>e)c+=m((e&63)<<6|f[g++]&127);else if(240>e)var h=f[g++],c=c+m((e&31)<<12|(h&127)<<6|f[g++]&127);else var h=f[g++],k=f[g++],e=(e&15)<<18|(h&127)<<12|(k&127)<<6|f[g++]&127,c=c+m((e>>10)+55232),c=c+m(e&1023|
56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:Pb};var ie=function(){this.b=[]};q["haxe.io.BytesBuffer"]=ie;ie.__name__=!0;ie.prototype={getBytes:function(){var a=new Pb((new jb(this.b)).buffer);this.b=null;return a},__class__:ie};var sd=function(){};q["haxe.io.Input"]=sd;sd.__name__=!0;sd.prototype={readByte:function(){throw new F("Not implemented");},readBytes:function(a,b,c){var f=c,m=a.b;if(0>b||0>c||b+c>a.length)throw new F(Za.OutsideBounds);for(;0<f;)m[b]=
this.readByte(),b++,f--;return c},readFullBytes:function(a,b,c){for(;0<c;){var f=this.readBytes(a,b,c);b+=f;c-=f}},readString:function(a){var b=Pb.alloc(a);this.readFullBytes(b,0,a);return b.toString()},__class__:sd};var Kc=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new F(Za.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=c};q["haxe.io.BytesInput"]=Kc;Kc.__name__=!0;Kc.__super__=sd;Kc.prototype=u(sd.prototype,{readByte:function(){if(0==this.len)throw new F(new td);
this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new F(Za.OutsideBounds);if(0==this.len&&0<c)throw new F(new td);this.len<c&&(c=this.len);var f=this.b;a=a.b;for(var m=0;m<c;){var g=m++;a[b+g]=f[this.pos+g]}this.pos+=c;this.len-=c;return c},__class__:Kc});var cf=function(){};q["haxe.io.Output"]=cf;cf.__name__=!0;var ud=function(){this.b=new ie};q["haxe.io.BytesOutput"]=ud;ud.__name__=!0;ud.__super__=cf;ud.prototype=u(cf.prototype,{writeByte:function(a){this.b.b.push(a)},
getBytes:function(){return this.b.getBytes()},__class__:ud});var td=function(){};q["haxe.io.Eof"]=td;td.__name__=!0;td.prototype={toString:function(){return"Eof"},__class__:td};var Za=q["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Za.Blocked=["Blocked",0];Za.Blocked.toString=l;Za.Blocked.__enum__=Za;Za.Overflow=["Overflow",1];Za.Overflow.toString=l;Za.Overflow.__enum__=Za;Za.OutsideBounds=["OutsideBounds",2];Za.OutsideBounds.toString=l;Za.OutsideBounds.__enum__=
Za;Za.Custom=function(a){a=["Custom",3,a];a.__enum__=Za;a.toString=l;return a};var Vb=function(){};q["haxe.io.FPHelper"]=Vb;Vb.__name__=!0;Vb.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Vb.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Vb.i64ToDouble=
function(a,b){var c=(b>>20&2047)-1023,f=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==f&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*f)*Math.pow(2,c)};Vb.doubleToI64=function(a){var b=Vb.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var f=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,f)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|f+1023<<20|c/4294967296|0}return b};var Lc=function(a){switch(a){case ".":case "..":this.dir=a;
this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=G.substr(a,0,c),a=G.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=G.substr(a,0,b),a=G.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=G.substr(a,b+1,null),this.file=G.substr(a,0,b)):(this.ext=null,this.file=a)};q["haxe.io.Path"]=Lc;Lc.__name__=!0;Lc.withoutExtension=function(a){a=new Lc(a);a.ext=null;return a.toString()};Lc.prototype={toString:function(){return(null==this.dir?"":this.dir+
(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Lc};var vd=function(a){Kc.call(this,Pb.ofString(a))};q["haxe.io.StringInput"]=vd;vd.__name__=!0;vd.__super__=Kc;vd.prototype=u(Kc.prototype,{__class__:vd});var je=function(a){this.__x=a};q["haxe.xml._Fast.NodeAccess"]=je;je.__name__=!0;je.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==Q.Document?"Document":this.__x.get_nodeName(),new F(b+" is missing element "+
a);return new bd(b)},__class__:je};var ke=function(a){this.__x=a};q["haxe.xml._Fast.AttribAccess"]=ke;ke.__name__=!0;ke.prototype={resolve:function(a){if(this.__x.nodeType==Q.Document)throw new F("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new F(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:ke};var le=function(a){this.__x=a};q["haxe.xml._Fast.HasAttribAccess"]=le;le.__name__=!0;le.prototype={resolve:function(a){if(this.__x.nodeType==Q.Document)throw new F("Cannot access document attribute "+
a);return this.__x.exists(a)},__class__:le};var me=function(a){this.__x=a};q["haxe.xml._Fast.HasNodeAccess"]=me;me.__name__=!0;me.prototype={__class__:me};var ne=function(a){this.__x=a};q["haxe.xml._Fast.NodeListAccess"]=ne;ne.__name__=!0;ne.prototype={resolve:function(a){var b=new zb;for(a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new bd(c))}return b},__class__:ne};var bd=function(a){if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw new F("Invalid nodeType "+a.nodeType);this.x=
a;this.node=new je(a);this.nodes=new ne(a);this.att=new ke(a);this.has=new le(a);this.hasNode=new me(a)};q["haxe.xml.Fast"]=bd;bd.__name__=!0;bd.prototype={__class__:bd};var nc=function(){};q["haxe.xml.Parser"]=nc;nc.__name__=!0;nc.parse=function(a,b){null==b&&(b=!1);var c=Q.createDocument();nc.doParse(a,b,0,c);return c};nc.doParse=function(a,b,c,f){null==c&&(c=0);for(var m=null,g=1,d=1,e=null,h=0,k=0,q=0,l=a.charCodeAt(c),x=new Ab,t=1,u=-1;l==l;){switch(g){case 0:switch(l){case 10:case 13:case 9:case 32:break;
default:g=d;continue}break;case 1:switch(l){case 60:g=0;d=2;break;default:h=c;g=13;continue}break;case 13:60==l?(x.addSub(a,h,c-h),d=Q.createPCData(x.b),x=new Ab,f.addChild(d),k++,g=0,d=2):38==l&&(x.addSub(a,h,c-h),g=18,t=13,h=c+1);break;case 17:93==l&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=Q.createCData(G.substr(a,h,c-h)),f.addChild(l),k++,c+=2,g=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=G.substr(a,c,6).toUpperCase())throw new F("Expected <![CDATA[");
c+=5;g=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=G.substr(a,c+2,6).toUpperCase())throw new F("Expected <!DOCTYPE");c+=8;g=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new F("Expected \x3c!--");c+=2;g=15}h=c+1;break;case 63:g=14;h=c;break;case 47:if(null==f)throw new F("Expected node name");h=c+1;g=0;d=10;break;default:g=3;h=c;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(c==h)throw new F("Expected node name");
m=Q.createElement(G.substr(a,h,c-h));f.addChild(m);k++;g=0;d=4;continue}break;case 4:switch(l){case 47:g=11;break;case 62:g=9;break;default:g=5;h=c;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==c)throw new F("Expected attribute name");e=G.substr(a,h,c-h);if(m.exists(e))throw new F("Duplicate attribute");g=0;d=6;continue}break;case 6:switch(l){case 61:g=0;d=7;break;default:throw new F("Expected =");}break;case 7:switch(l){case 34:case 39:x=
new Ab;g=8;h=c+1;u=l;break;default:throw new F('Expected "');}break;case 8:switch(l){case 38:x.addSub(a,h,c-h);g=18;t=8;h=c+1;break;case 62:if(b)throw new F("Invalid unescaped "+String.fromCharCode(l)+" in attribute value");l==u&&(x.addSub(a,h,c-h),d=x.b,x=new Ab,m.set(e,d),g=0,d=4);break;case 60:if(b)throw new F("Invalid unescaped "+String.fromCharCode(l)+" in attribute value");l==u&&(x.addSub(a,h,c-h),d=x.b,x=new Ab,m.set(e,d),g=0,d=4);break;default:l==u&&(x.addSub(a,h,c-h),d=x.b,x=new Ab,m.set(e,
d),g=0,d=4)}break;case 9:h=c=nc.doParse(a,b,c,m);g=1;break;case 11:switch(l){case 62:g=1;break;default:throw new F("Expected >");}break;case 12:switch(l){case 62:return 0==k&&f.addChild(Q.createPCData("")),c;default:throw new F("Expected >");}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==c)throw new F("Expected node name");d=G.substr(a,h,c-h);if(f.nodeType!=Q.Element)throw new F("Bad node type, expected Element but found "+f.nodeType);if(d!=f.nodeName)throw new F("Expected </"+
function(a){if(f.nodeType!=Q.Element)throw"Bad node type, expected Element but found "+f.nodeType;return f.nodeName}(this)+">");g=0;d=12;continue}break;case 15:45==l&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=Q.createComment(G.substr(a,h,c-h)),f.addChild(l),k++,c+=2,g=1);break;case 16:91==l?q++:93==l?q--:62==l&&0==q&&(l=Q.createDocType(G.substr(a,h,c-h)),f.addChild(l),k++,g=1);break;case 14:63==l&&62==a.charCodeAt(c+1)&&(c++,l=G.substr(a,h+1,c-h-2),l=Q.createProcessingInstruction(l),f.addChild(l),
k++,g=1);break;case 18:if(59==l){h=G.substr(a,h,c-h);if(35==h.charCodeAt(0))h=120==h.charCodeAt(1)?N.parseInt("0"+G.substr(h,1,h.length-1)):N.parseInt(G.substr(h,1,h.length-1)),x.b+=String.fromCharCode(h);else if(nc.escapes.exists(h))x.add(nc.escapes.get(h));else{if(b)throw new F("Undefined entity: "+h);x.b+=N.string("&"+h+";")}h=c+1;g=t}else if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)&&35!=l){if(b)throw new F("Invalid character in entity: "+String.fromCharCode(l));
x.b+="&";x.addSub(a,h,c-h);c--;h=c+1;g=t}}l=W.fastCodeAt(a,++c)}1==g&&(h=c,g=13);if(13==g){if(c!=h||0==k)x.addSub(a,h,c-h),a=Q.createPCData(x.b),f.addChild(a),k++;return c}if(!b&&18==g&&13==t)return x.b+="&",x.addSub(a,h,c-h),a=Q.createPCData(x.b),f.addChild(a),k++,c;throw new F("Unexpected end");};var ma=function(){};q["haxegon.Col"]=ma;ma.__name__=!0;var Da=function(){};q["haxegon.Convert"]=Da;Da.__name__=!0;Da.tostring=function(a){return N.string(a)};Da.toint=function(a){return N.parseInt(N.string(a))};
Da.tofloat=function(a){return N.parseFloat(a)};var qa=function(){};q["haxegon.Debug"]=qa;qa.__name__=!0;qa.clearlog=function(){qa.debuglog=[]};qa.log=function(a){qa.debuglog.push(Da.tostring(a));qa.showtest=!0;20<qa.debuglog.length&&(qa.debuglog.reverse(),qa.debuglog.pop(),qa.debuglog.reverse())};qa.test=function(a){qa.debuglog[0]=Da.tostring(a);qa.showtest=!0};qa.showlog=function(){if(qa.showtest)for(var a=0,b=qa.debuglog.length;a<b;){for(var c=a++,f=-1;2>f;)for(var m=f++,g=-1;2>g;){var d=g++;k.display(2+
d,m+N["int"](2+(qa.debuglog.length-1-c)*(k.height()+2)),qa.debuglog[c],e.rgb(0,0,0))}k.display(2,N["int"](2+(qa.debuglog.length-1-c)*(k.height()+2)),qa.debuglog[c],e.rgb(255,255,255))}};qa.showtest=null;var ra=function(a,b,c,f,m,g){null==g&&(g=0);null==m&&(m=0);null==f&&(f=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=f;this.tx=m;this.ty=g};q["openfl.geom.Matrix"]=ra;ra.__name__=!0;ra.prototype={clone:function(){return new ra(this.a,this.b,this.c,this.d,this.tx,
this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},deltaTransformPoint:function(a){return new la(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=
this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.a*b-this.b*a;this.b=this.a*a+this.b*b;this.a=c;c=this.c*b-this.d*a;this.d=this.c*a+this.d*b;this.c=c;c=this.tx*b-this.ty*a;this.ty=this.tx*a+this.ty*b;this.tx=c},scale:function(a,
b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(a){return new la(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},
toArray:function(a){null==a&&(a=!1);null==this.__array&&(this.__array=new Float32Array(9));a?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__toMatrix3:function(){return new wd(this.a,
this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+
this.b*(this.tx-a))},__class__:ra};var xd=function(){ba.call(this)};q["openfl.display.Shape"]=xd;xd.__name__=!0;xd.__super__=ba;xd.prototype=u(ba.prototype,{get_graphics:function(){null==this.__graphics&&(this.__graphics=new sc,this.__graphics.__owner=this);return this.__graphics},__class__:xd,__properties__:u(ba.prototype.__properties__,{get_graphics:"get_graphics"})});var la=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};q["openfl.geom.Point"]=la;la.__name__=!0;la.prototype={clone:function(){return new la(this.x,
this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},__toLimeVector2:function(){return new yc(this.x,this.y)},__class__:la};var pb=function(a,b,c,f,m,g,d,e){null==e&&(e=0);null==d&&(d=0);null==g&&(g=0);null==m&&(m=0);null==f&&(f=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=f;this.redOffset=m;this.greenOffset=g;this.blueOffset=d;
this.alphaOffset=e};q["openfl.geom.ColorTransform"]=pb;pb.__name__=!0;pb.prototype={__clone:function(){return new pb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;
this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__toLimeColorMatrix:function(){var a=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,
0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=a?new Float32Array(a):null},__class__:pb};var e=function(){};q["haxegon.Gfx"]=e;e.__name__=!0;e.__properties__={set_linethickness:"set_linethickness",get_linethickness:"get_linethickness"};e.screenwidth=null;e.screenheight=null;e.screenwidthmid=null;e.screenheightmid=null;e.clearscreeneachframe=null;e.screenscale=null;e.devicexres=null;e.deviceyres=null;e.fullscreen=
null;e.currenttilesetname=null;e.backbuffer=null;e.drawto=null;e.resizescreen=function(a,b,c){null==c&&(c=1);e.initgfx(a|0,b|0,c);e.onResize(null);k.init(e.gfxstage);e.showfps=!1;e.gfxstage.addChild(e.screen);e.updategraphicsmode()};e.showfps=null;e.render_fps=null;e.update_fps=null;e.fps=function(){return e.render_fps_max};e.updatefps=function(){return e.update_fps_max};e.reset=function(){e.transform=!1;e.imagerotate=0;e.imagerotatexpivot=0;e.imagerotateypivot=0;e.imagexscale=1;e.imageyscale=1;e.imagescalexpivot=
0;e.imagescaleypivot=0;e.coltransform=!1;e.imagealphamult=1;e.imageredmult=1;e.imagegreenmult=1;e.imagebluemult=1};e.reset_ifclear=function(){0==e.imagerotate&&1==e.imagexscale&&1==e.imageyscale&&(e.transform=!1);1==e.imagealphamult&&1==e.imageredmult&&1==e.imagegreenmult&&1==e.imagebluemult&&(e.coltransform=!1)};e.rotation=function(a,b,c){null==c&&(c=-15E3);null==b&&(b=-15E3);e.imagerotate=a;e.imagerotatexpivot=b;e.imagerotateypivot=c;e.transform=!0;e.reset_ifclear()};e.scale=function(a,b,c,f){null==
f&&(f=-15E3);null==c&&(c=-15E3);e.imagexscale=a;e.imageyscale=b;e.imagescalexpivot=c;e.imagescaleypivot=f;e.transform=!0;e.reset_ifclear()};e.imagealpha=function(a){e.imagealphamult=a;e.coltransform=!0;e.reset_ifclear()};e.imagecolor=function(a){null==a&&(a=16777215);e.imageredmult=e.getred(a)/255;e.imagegreenmult=e.getgreen(a)/255;e.imagebluemult=e.getblue(a)/255;e.coltransform=!0;e.reset_ifclear()};e.changetileset=function(a){};e.loadtiles=function(a,b,c){ha.log('Error: "loadtiles" function not available in webscript version.')};
e.convertobinary=function(a,b){for(var c="",f;0<a;)f=a%2,c=Da.tostring(f)+c,a-=f,a=a/2|0;for(;c.length<b;)c="0"+c;return c};e.convertbase64tobinary=function(a){for(var b="",c=0,f=0,m=a.length;f<m;)c=f++,c=e.BASE64.indexOf(G.substr(a,c,1)),b+=e.convertobinary(c,6);return b};e.convertbinarytoint=function(a){for(var b=0,c=-a.length;0>c;){var f=c++;"1"==G.substr(a,-f-1,1)&&(b+=N["int"](Math.pow(2,a.length+f)))}return b};e.mid=function(a,b,c){null==c&&(c=1);null==b&&(b=0);return 0>b?"":G.substr(a,b,c)};
e.replacechar=function(a,b,c){null==c&&(c="");null==b&&(b="|");for(var f="",m=0,g=a.length;m<g;)var d=m++,f=e.mid(a,d)==b?f+c:f+e.mid(a,d);return f};e.clearimages=function(){e.imageindex=new aa;for(var a=0,b=e.images.length;a<b;){var c=a++;e.images[c].dispose()}e.images=[]};e.loadimagestring=function(a,b,c,f,m,g){null==g&&(g=-1);null==m&&(m=-1);null==f&&(f=-1);null==c&&(c=-1);b=e.replacechar(b," ","");b=e.replacechar(b,"\n","");b=e.replacechar(b,"\t","");var d="",h=function(a){d=G.substr(b,0,a);b=
G.substr(b,a,null)};b=e.convertbase64tobinary(b);h(4);var k=e.convertbinarytoint(d)+1;h(4);var q=e.convertbinarytoint(d)+1;h(1);var l=Da.toint(d);0==l&&(l=2);var t=new Ha(k,q,!0,0);c=[c,f,m,g];for(var x=0,u=2*l;x<u;){var r=x++;h(8);f=e.convertbinarytoint(d);h(8);m=e.convertbinarytoint(d);h(8);g=e.convertbinarytoint(d);c[r]==e.KEEPCOL&&(c[r]=e.rgb(f,m,g))}for(m=f=0;m<q;)for(g=m++,x=0;x<k;)u=x++,h(l),f=e.convertbinarytoint(d),f=c[f],f!=ma.TRANSPARENT&&(e.settrect(u,g,1,1),t.fillRect(e.trect,-16777216+
f));e.imageindex.set(a,e.images.length);e.images.push(t)};e.loadimage=function(a){ha.log('Error: "loadimage" function not available in webscript version.');ha.log("Try loadimagestring, using the sprite editor tool.")};e.createimage=function(a,b,c){e.imageindex.set(a,e.images.length);a=new Ha(Math.floor(b),Math.floor(c),!0,0);e.images.push(a)};e.resizeimage=function(a,b){var c=e.imageindex.get(a),f=new Ha(e.images[c].width*b|0,e.images[c].height*b|0,!0,0),m,g;e.images[c].lock();f.lock();for(var d=
0,h=e.images[c].height;d<h;)for(var k=d++,q=0,l=e.images[c].width;q<l;){var t=q++;g=e.images[c].getPixel(t,k);m=e.images[c].getPixel32(t,k)>>24&255;e.settrect(Math.ceil(t*b),Math.ceil(k*b),Math.ceil(b),Math.ceil(b));f.fillRect(e.trect,(m<<24)+g)}e.images[c].unlock();f.unlock();e.images[c].dispose();e.images[c]=f};e.imagewidth=function(a){if(e.imageindex.exists(a))e.imagenum=e.imageindex.get(a);else throw new F('ERROR: In imagewidth, cannot find image "'+a+'".');return e.images[e.imagenum].width};
e.imageheight=function(a){if(e.imageindex.exists(a))e.imagenum=e.imageindex.get(a);else throw new F('ERROR: In imageheight, cannot find image "'+a+'".');return e.images[e.imagenum].height};e.drawtoscreen=function(){e.drawingtoscreen=!0;e.drawto.unlock();e.drawto=e.backbuffer;e.drawto.lock();k.drawto=e.drawto};e.drawtoimage=function(a){e.drawingtoscreen=!1;e.imagenum=e.imageindex.get(a);e.drawto.unlock();e.drawto=e.images[e.imagenum];e.drawto.lock();k.drawto=e.drawto};e.t1=null;e.t2=null;e.t3=null;
e.imagealignx=function(a){return-5E3>=a?(e.t1=a-e.CENTER,e.t2=a-e.LEFT,e.t3=a-e.RIGHT,0==e.t1||Math.abs(e.t1)<Math.abs(e.t2)&&Math.abs(e.t1)<Math.abs(e.t3)?e.t1+e.screenwidthmid-(e.images[e.imagenum].width/2|0):0==e.t2||Math.abs(e.t2)<Math.abs(e.t1)&&Math.abs(e.t2)<Math.abs(e.t3)?e.t2:e.t3+e.images[e.imagenum].width):a};e.imagealigny=function(a){return-5E3>=a?(e.t1=a-e.CENTER,e.t2=a-e.TOP,e.t3=a-e.BOTTOM,0==e.t1||Math.abs(e.t1)<Math.abs(e.t2)&&Math.abs(e.t1)<Math.abs(e.t3)?e.t1+e.screenheightmid-
(e.images[e.imagenum].height/2|0):0==e.t2||Math.abs(e.t2)<Math.abs(e.t1)&&Math.abs(e.t2)<Math.abs(e.t3)?e.t2:e.t3+e.images[e.imagenum].height):a};e.imagealignonimagex=function(a){return-5E3>=a?(e.t1=a-e.CENTER,e.t2=a-e.LEFT,e.t3=a-e.RIGHT,0==e.t1||Math.abs(e.t1)<Math.abs(e.t2)&&Math.abs(e.t1)<Math.abs(e.t3)?e.t1+(e.images[e.imagenum].width/2|0):0==e.t2||Math.abs(e.t2)<Math.abs(e.t1)&&Math.abs(e.t2)<Math.abs(e.t3)?e.t2:e.t3+e.images[e.imagenum].width):a};e.imagealignonimagey=function(a){return-5E3>=
a?(e.t1=a-e.CENTER,e.t2=a-e.TOP,e.t3=a-e.BOTTOM,0==e.t1||Math.abs(e.t1)<Math.abs(e.t2)&&Math.abs(e.t1)<Math.abs(e.t3)?e.t1+(e.images[e.imagenum].height/2|0):0==e.t2||Math.abs(e.t2)<Math.abs(e.t1)&&Math.abs(e.t2)<Math.abs(e.t3)?e.t2:e.t3+e.images[e.imagenum].height):a};e.drawimage=function(a,b,c){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen){if(!e.imageindex.exists(c))throw new F('ERROR: In drawimage, cannot find image "'+c+'".');e.imagenum=e.imageindex.get(c);a=e.imagealignx(a);b=
e.imagealigny(b);if(e.transform||e.coltransform){e.tempxalign=0;e.tempyalign=0;e.shapematrix.identity();if(1!=e.imagexscale||1!=e.imageyscale)0!=e.imagescalexpivot&&(e.tempxalign=e.imagealignonimagex(e.imagescalexpivot)),0!=e.imagescaleypivot&&(e.tempyalign=e.imagealignonimagey(e.imagescaleypivot)),e.shapematrix.translate(-e.tempxalign,-e.tempyalign),e.shapematrix.scale(e.imagexscale,e.imageyscale),e.shapematrix.translate(e.tempxalign,e.tempyalign);0!=e.imagerotate&&(0!=e.imagerotatexpivot&&(e.tempxalign=
e.imagealignonimagex(e.imagerotatexpivot)),0!=e.imagerotateypivot&&(e.tempyalign=e.imagealignonimagey(e.imagerotateypivot)),e.shapematrix.translate(-e.tempxalign,-e.tempyalign),e.shapematrix.rotate(3.1415*e.imagerotate/180),e.shapematrix.translate(e.tempxalign,e.tempyalign));e.shapematrix.translate(a,b);e.coltransform?(e.alphact.alphaMultiplier=e.imagealphamult,e.alphact.redMultiplier=e.imageredmult,e.alphact.greenMultiplier=e.imagegreenmult,e.alphact.blueMultiplier=e.imagebluemult,e.drawto.draw(e.images[e.imagenum],
e.shapematrix,e.alphact)):e.drawto.draw(e.images[e.imagenum],e.shapematrix);e.shapematrix.identity()}else e.settpoint(a|0,b|0),e.drawto.copyPixels(e.images[e.imagenum],e.images[e.imagenum].rect,e.tpoint)}};e.grabimagefromscreen=function(a,b,c){if(!e.imageindex.exists(a))throw new F('ERROR: In grabimagefromscreen, "'+a+'" does not exist. You need to create an image label first before using this function.');e.imagenum=e.imageindex.get(a);e.settrect(b,c,e.images[e.imagenum].width,e.images[e.imagenum].height);
e.images[e.imagenum].copyPixels(e.backbuffer,e.trect,e.tl)};e.grabimagefromimage=function(a,b,c,f,m,g){null==g&&(g=0);null==m&&(m=0);if(!e.imageindex.exists(a))throw new F('ERROR: In grabimagefromimage, "'+a+'" does not exist. You need to create an image label first before using this function.');e.imagenum=e.imageindex.get(a);e.imageindex.exists(b)||Ka.trace('ERROR: No image called "'+b+'" found.',{fileName:"Gfx.hx",lineNumber:629,className:"haxegon.Gfx",methodName:"grabimagefromimage"});a=e.imageindex.get(b);
0==m&&0==g?e.settrect(c,f,e.images[e.imagenum].width,e.images[e.imagenum].height):e.settrect(c,f,m,g);e.images[e.imagenum].copyPixels(e.images[a],e.trect,e.tl)};e.fastAbs=function(a){return(a^a>>31)-(a>>31)};e.fastFloor=function(a){return a|0};e.bresenhamline=function(a,b,c,f,m){var g=Math.abs(f-b)>Math.abs(c-a),d;0==m?(e.bresx1=[],e.bresy1=[]):(e.bresx2=[],e.bresy2=[]);g&&(d=a,a=b,b=d,d=c,c=f,f=d);a>c&&(d=a,a=c,c=d,d=b,b=f,f=d);d=c-a;var h=N["int"](Math.abs(f-b)),k=d/2|0,q=b;b=b<f?1:-1;for(c+=1;a<
c;)f=a++,0==m?g?(e.bresx1.push(q),e.bresy1.push(f)):(e.bresx1.push(f),e.bresy1.push(q)):g?(e.bresx2.push(q),e.bresy2.push(f)):(e.bresx2.push(f),e.bresy2.push(q)),k-=h,0>k&&(q+=b,k+=d)};e.drawbresenhamline=function(a,b,c,f,m,g){var d=Math.abs(f-b)>Math.abs(c-a),h;d&&(h=a,a=b,b=h,h=c,c=f,f=h);a>c&&(h=a,a=c,c=h,h=b,b=f,f=h);h=c-a;var k=N["int"](Math.abs(f-b)),q=h/2|0,l=b;b=b<f?1:-1;for(c+=1;a<c;)f=a++,d?e.setpixel(l,f,m,g):e.setpixel(f,l,m,g),q-=k,0>q&&(l+=b,q+=h)};e.drawline=function(a,b,c,f,m,g){!e.clearscreeneachframe&&
e.skiprender&&e.drawingtoscreen||(g=1,a==c?f>b?e.fillbox(a-e.get_linethickness()+1,b,1+e.get_linethickness()-1,f-b,m,g):e.fillbox(a-e.get_linethickness()+1,f,1+e.get_linethickness()-1,b-f,m,g):b==f?c>a?e.fillbox(a,b-e.get_linethickness()+1,c-a,1+e.get_linethickness()-1,m,g):e.fillbox(c,b-e.get_linethickness()+1,a-c,1+e.get_linethickness()-1,m,g):e.drawbresenhamline(a|0,b|0,c|0,f|0,m,g))};e.drawhexagon=function(a,b,c,f,m,g){g=1;if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen){e.temprotate=
2*Math.PI/6;e.tx=Math.cos(f)*c+a;e.ty=Math.sin(f)*c+b;for(var d=0;6>d;){var h=d++;e.tx2=Math.cos(f+e.temprotate*(h+1))*c+a;e.ty2=Math.sin(f+e.temprotate*(h+1))*c+b;e.drawline(e.tx,e.ty,e.tx2,e.ty2,m,g);e.tx=e.tx2;e.ty=e.ty2}}};e.fillhexagon=function(a,b,c,f,m,g){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen){g=1;e.temprotate=2*Math.PI/6;0==f&&(f=Math.PI);e.tx=Math.cos(f)*c+a;e.ty=Math.sin(f)*c+b;for(var d=0;6>d;){var h=d++;e.tx2=Math.cos(f+e.temprotate*(h+1))*c+a;e.ty2=Math.sin(f+e.temprotate*
(h+1))*c+b;e.filltri(e.tx,e.ty,e.tx2,e.ty2,a,b,m,g);e.tx=e.tx2;e.ty=e.ty2}}};e.drawcircle=function(a,b,c,f,m){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen)for(a|=0,b|=0,e.tx=c|0,e.ty=0,c=1-e.tx;e.tx>=e.ty;)e.setpixel(e.tx+a|0,e.ty+b|0,f),e.setpixel(e.ty+a|0,e.tx+b|0,f),e.setpixel(-e.tx+a|0,e.ty+b|0,f),e.setpixel(-e.ty+a|0,e.tx+b|0,f),e.setpixel(-e.tx+a|0,-e.ty+b|0,f),e.setpixel(-e.ty+a|0,-e.tx+b|0,f),e.setpixel(e.tx+a|0,-e.ty+b|0,f),e.setpixel(e.ty+a|0,-e.tx+b|0,f),e.ty++,0>=c?c+=
2*e.ty+1:(e.tx--,c+=2*(e.ty-e.tx)+1)};e.fillcircle=function(a,b,c,f,m){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen){m=1;a|=0;b|=0;c|=0;e.tx=c;e.ty=0;var g=1-e.tx;e.fillcirclepoints=[];for(var d=0,h=2*c|0;d<h;)d++,e.fillcirclepoints.push(!0);for(;e.tx>=e.ty;)e.fillcirclepoints[e.ty|0]&&(e.fillbox(a-e.tx,b+e.ty,e.tx+e.tx,1,f,m),e.fillcirclepoints[e.ty|0]=!1),e.fillcirclepoints[e.tx|0]&&(e.fillbox(a-e.ty,b+e.tx,e.ty+e.ty,1,f,m),e.fillcirclepoints[e.tx|0]=!1),e.fillcirclepoints[c+e.ty|
0]&&(e.fillbox(a-e.tx,b-e.ty,e.tx+e.tx,1,f,m),e.fillcirclepoints[c+e.ty|0]=!1),e.fillcirclepoints[c+e.tx|0]&&(e.fillbox(a-e.ty,b-e.tx,e.ty+e.ty,1,f,m),e.fillcirclepoints[c+e.tx|0]=!1),e.ty++,0>=g?g+=2*e.ty+1:(e.tx--,g+=2*(e.ty-e.tx)+1)}};e.drawtri=function(a,b,c,f,m,g,d,h){!e.clearscreeneachframe&&e.skiprender&&e.drawingtoscreen||(e.drawline(a,b,c,f,d),e.drawline(c,f,m,g,d),e.drawline(m,g,a,b,d))};e.tri_x1=null;e.tri_y1=null;e.tri_x2=null;e.tri_y2=null;e.tri_x3=null;e.tri_y3=null;e.getfilltrimatchpoint=
function(a){for(var b=0,c=e.bresy2.length;b<c;){var f=b++;if(e.bresy2[f]==a)return f}return-1};e.filltri=function(a,b,c,f,m,g,d,h){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen){h=1;b<f&&b<g?(e.tri_x1=a|0,e.tri_y1=b|0,f<g?(e.tri_x2=c|0,e.tri_y2=f|0,e.tri_x3=m|0,e.tri_y3=g|0):(e.tri_x2=m|0,e.tri_y2=g|0,e.tri_x3=c|0,e.tri_y3=f|0)):f<g&&f<b?(e.tri_x1=c|0,e.tri_y1=f|0,b<g?(e.tri_x2=a|0,e.tri_y2=b|0,e.tri_x3=m|0,e.tri_y3=g|0):(e.tri_x2=m|0,e.tri_y2=g|0,e.tri_x3=a|0,e.tri_y3=b|0)):(e.tri_x1=
m|0,e.tri_y1=g|0,f<b?(e.tri_x2=c|0,e.tri_y2=f|0,e.tri_x3=a|0,e.tri_y3=b|0):(e.tri_x2=a|0,e.tri_y2=b|0,e.tri_x3=c|0,e.tri_y3=f|0));e.bresenhamline(e.tri_x1,e.tri_y1,e.tri_x2,e.tri_y2,0);e.bresenhamline(e.tri_x1,e.tri_y1,e.tri_x3,e.tri_y3,1);a=0;b=-1;c=e.bresy1[0];f=0;for(m=e.bresx1.length;f<m;)g=f++,e.bresy1[g]!=b&&(b=e.bresy1[g],a=e.getfilltrimatchpoint(e.bresy1[g]),-1<a&&(e.bresx1[g]>e.bresx2[a]?e.settrect(e.bresx2[a],e.bresy1[g],e.bresx1[g]-e.bresx2[a],1):e.settrect(e.bresx1[g],e.bresy1[g],e.bresx2[a]-
e.bresx1[g],1),e.fillbox(e.trect.x,e.trect.y,e.trect.width,1,d,h)));f=-1;e.bresenhamline(e.tri_x2,e.tri_y2,e.tri_x3,e.tri_y3,0);m=0;for(g=e.bresx1.length;m<g;){var k=m++;e.bresy1[k]!=b&&e.bresy1[k]!=f&&e.bresy1[k]!=c&&(f=e.bresy1[k],a=e.getfilltrimatchpoint(e.bresy1[k]),-1<a&&(e.bresx1[k]>e.bresx2[a]?e.settrect(e.bresx2[a],e.bresy1[k],e.bresx1[k]-e.bresx2[a],1):e.settrect(e.bresx1[k],e.bresy1[k],e.bresx2[a]-e.bresx1[k],1),e.fillbox(e.trect.x,e.trect.y,e.trect.width,1,d,h)))}}};e.drawbox=function(a,
b,c,f,m,g){!e.clearscreeneachframe&&e.skiprender&&e.drawingtoscreen||(g=1,0>c&&(c=-c,a-=c),0>f&&(f=-f,b-=f),e.fillbox(a,b,c,1,m,g),e.fillbox(a,b+f,c-1,1,m,g),e.fillbox(a,b+1,1,f,m,g),e.fillbox(a+c-1,b+1,1,f,m,g))};e.get_linethickness=function(){return e._linethickness};e.set_linethickness=function(a){e._linethickness=a;1>e._linethickness&&(e._linethickness=1);255<e._linethickness&&(e._linethickness=255);return e._linethickness};e.clearscreen=function(a){null==a&&(a=0);!e.clearscreeneachframe&&e.skiprender&&
e.drawingtoscreen||e.drawto.fillRect(e.drawto.rect,-16777216+a)};e.getpixel=function(a,b){var c=e.drawto.getPixel32(a|0,b|0)>>24&255,f=e.drawto.getPixel(a|0,b|0);return 0==c?ma.TRANSPARENT:f};e.setpixel=function(a,b,c,f){!e.clearscreeneachframe&&e.skiprender&&e.drawingtoscreen||(f=1,c==ma.TRANSPARENT?1==e._linethickness?(e.settpoint(a|0,b|0),e.drawto.copyPixels(e.transparentpixel,e.transparentpixel.rect,e.tpoint)):e.fillbox(a-e._linethickness+1,b-e._linethickness+1,e._linethickness+e._linethickness-
2,e._linethickness+e._linethickness-2,c):1>f?(1==e._linethickness?e.settrect(a|0,b|0,1,1):e.settrect(a-e._linethickness+1,b-e._linethickness+1,e._linethickness+e._linethickness-2,e._linethickness+e._linethickness-2),e.drawto.fillRect(e.trect,((256*f|0)<<24)+c)):(1==e._linethickness?e.settrect(a|0,b|0,1,1):e.settrect(a-e._linethickness+1,b-e._linethickness+1,e._linethickness+e._linethickness-2,e._linethickness+e._linethickness-2),e.drawto.fillRect(e.trect,-16777216+c)))};e.fillbox=function(a,b,c,f,
m,g){if(e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen)if(g=1,m==ma.TRANSPARENT)for(m=b|0,b=b+f|0;m<b;){f=m++;g=a|0;for(var d=a+c|0;g<d;){var h=g++;e.settpoint(h|0,f|0);e.drawto.copyPixels(e.transparentpixel,e.transparentpixel.rect,e.tpoint)}}else 1==g?(e.settrect(a|0,b|0,c|0,f|0),e.drawto.fillRect(e.trect,-16777216+m)):(e.tempshape.get_graphics().clear(),e.tempshape.get_graphics().beginFill(m,g),e.tempshape.get_graphics().lineTo(c|0,0),e.tempshape.get_graphics().lineTo(c|0,f|0),e.tempshape.get_graphics().lineTo(0,
f|0),e.tempshape.get_graphics().lineTo(0,0),e.tempshape.get_graphics().endFill(),e.shapematrix.identity(),e.shapematrix.translate(a|0,b|0),e.drawto.draw(e.tempshape,e.shapematrix))};e.getred=function(a){return a>>16&255};e.getgreen=function(a){return a>>8&255};e.getblue=function(a){return a&255};e.gethue=function(a){var b=e.getred(a)/255,c=e.getgreen(a)/255;a=e.getblue(a)/255;var f=Math.max(Math.max(b,c),a),m=Math.min(Math.min(b,c),a),g=(f+m)/2;f!=m&&(m=f-m,f==b?g=(c-a)/m+(c<a?6:0):f==c?g=(a-b)/m+
2:f==a&&(g=(b-c)/m+4),g/=6);return 360*g|0};e.getsaturation=function(a){var b=e.getred(a)/255,c=e.getgreen(a)/255,f=e.getblue(a)/255;a=Math.max(Math.max(b,c),f);b=Math.min(Math.min(b,c),f);c=(a+b)/2;a==b?a=0:(f=a-b,a=0.5<c?f/(2-a-b):f/(a+b));return a};e.getlightness=function(a){var b=e.getred(a)/255,c=e.getgreen(a)/255,f=e.getblue(a)/255;a=Math.max(Math.max(b,c),f);b=Math.min(Math.min(b,c),f);return(a+b)/2};e.rgb=function(a,b,c){return c|b<<8|a<<16};e.hsl=function(a,b,c){b=0.5>c?c*(1+b):c+b-c*b;c=
2*c-b;a=a%360/360;e.hslval[0]=a+0.3333333333333333;e.hslval[1]=a;e.hslval[2]=a-0.3333333333333333;for(a=0;3>a;){var f=a++;0>e.hslval[f]&&(e.hslval[f]+=1);1<e.hslval[f]&&(e.hslval[f]-=1);e.hslval[f]=0.16666666666666666>e.hslval[f]?c+6*(b-c)*e.hslval[f]:0.5>e.hslval[f]?b:0.6666666666666666>e.hslval[f]?c+6*(b-c)*(0.6666666666666666-e.hslval[f]):c}return e.rgb(255*e.hslval[0]|0,255*e.hslval[1]|0,255*e.hslval[2]|0)};e.setzoom=function(a){e.screen.set_width(e.screenwidth*a);e.screen.set_height(e.screenheight*
a);e.screen.set_x((e.screenwidth-e.screenwidth*a)/2);e.screen.set_y((e.screenheight-e.screenheight*a)/2)};e.updategraphicsmode=function(){if(e.fullscreen){fa.current.stage.set_displayState(sb.FULL_SCREEN_INTERACTIVE);e.gfxstage.scaleMode=$a.NO_SCALE;var a;a=T.__cast(e.devicexres,Mc)/T.__cast(e.screenwidth,Mc);var b;b=T.__cast(e.deviceyres,Mc)/T.__cast(e.screenheight,Mc);a<b?(e.screen.set_width(e.screenwidth*a),e.screen.set_height(e.screenheight*a)):(b<a?e.screen.set_width(e.screenwidth*b):e.screen.set_width(e.screenwidth*
a),e.screen.set_height(e.screenheight*b));e.screen.set_x(T.__cast(e.devicexres,Mc)/2-e.screen.get_width()/2);e.screen.set_y(T.__cast(e.deviceyres,Mc)/2-e.screen.get_height()/2)}else fa.current.stage.set_displayState(sb.NORMAL),e.screen.set_width(e.screenwidth*e.screenscale),e.screen.set_height(e.screenheight*e.screenscale),e.screen.set_x(0),e.screen.set_y(0),e.gfxstage.scaleMode=$a.SHOW_ALL,e.gfxstage.quality=eb.LOW};e.init=function(a){e.initrun&&(e.gfxstage=a,e.onResize(null),a.addEventListener(J.RESIZE,
e.onResize));e.clearscreeneachframe=!0;e.reset();e.set_linethickness(1);e.transparentpixel=new Ha(1,1,!0,0)};e.onResize=function(a){var b;$.editor()?(a=e.gfxstage.stageWidth/e.screenwidth,b=e.gfxstage.stageHeight/e.screenheight,a=Math.min(a,b)):(a=Math.floor(e.gfxstage.stageWidth/e.screenwidth),b=Math.floor(e.gfxstage.stageHeight/e.screenheight),a=Da.toint(Math.min(a,b)));e.gfxstage.set_scaleX(a);e.gfxstage.set_scaleY(a);e.gfxstage.set_x((e.gfxstage.stageWidth-e.screenwidth*a)/2);e.gfxstage.set_y((e.gfxstage.stageHeight-
e.screenheight*a)/2)};e.initgfx=function(a,b,c){e.screenwidth=a;e.screenheight=b;e.screenwidthmid=e.screenwidth/2|0;e.screenheightmid=e.screenheight/2|0;e.devicexres=N["int"](cd.get_screenResolutionX());e.deviceyres=N["int"](cd.get_screenResolutionY());e.screenscale=c;e.trect=new sa;e.tpoint=new la;e.tbuffer=new Ha(1,1,!0);e.ct=new pb(0,0,0,1,255,255,255,1);e.alphact=new pb;e.hslval.push(0);e.hslval.push(0);e.hslval.push(0);null!=e.backbuffer&&e.backbuffer.dispose();e.backbuffer=new Ha(e.screenwidth,
e.screenheight,!1,0);e.drawto=e.backbuffer;e.drawingtoscreen=!0;e.screen=new Hc(e.backbuffer);e.screen.smoothing=!1;e.screen.set_width(e.screenwidth*c);e.screen.set_height(e.screenheight*c);e.fullscreen=!1;qa.showtest=!1};e.settrect=function(a,b,c,f){e.trect.x=a;e.trect.y=b;e.trect.width=c;e.trect.height=f};e.settpoint=function(a,b){e.tpoint.x=a;e.tpoint.y=b};e.animationnum=null;e.imagenum=null;e.ct=null;e.alphact=null;e.images_rect=null;e.trect=null;e.tpoint=null;e.tbuffer=null;e.transform=null;
e.coltransform=null;e.imagerotate=null;e.imagerotatexpivot=null;e.imagerotateypivot=null;e.imagexscale=null;e.imageyscale=null;e.imagescalexpivot=null;e.imagescaleypivot=null;e.imagealphamult=null;e.imageredmult=null;e.imagegreenmult=null;e.imagebluemult=null;e.tempframe=null;e.tempxalign=null;e.tempyalign=null;e.temprotate=null;e.changecolours=null;e.oldtileset=null;e.tx=null;e.ty=null;e.tx2=null;e.ty2=null;e.transparentpixel=null;e._linethickness=null;e.buffer=null;e.temptile=null;e.screen=null;
e.alphamult=null;e.gfxstage=null;e.initrun=null;e.skiprender=null;e.drawingtoscreen=null;var na=q["haxegon.Keystate"]={__ename__:!0,__constructs__:["justreleased","notpressed","pressed","justpressed"]};na.justreleased=["justreleased",0];na.justreleased.toString=l;na.justreleased.__enum__=na;na.notpressed=["notpressed",1];na.notpressed.toString=l;na.notpressed.__enum__=na;na.pressed=["pressed",2];na.pressed.toString=l;na.pressed.__enum__=na;na.justpressed=["justpressed",3];na.justpressed.toString=
l;na.justpressed.__enum__=na;var y=function(){};q["haxegon.Input"]=y;y.__name__=!0;y.pressed=function(a){return y.keyheld[y.keymap.get(a)]};y.justpressed=function(a){return y.current[y.keymap.get(a)]==na.justpressed?!0:!1};y.justreleased=function(a){return y.current[y.keymap.get(a)]==na.justreleased?(y.current[y.keymap.get(a)]=na.notpressed,!0):!1};y.delaypressed=function(a,b){y.keycode=y.keymap.get(a);if(y.keyheld[y.keycode]){if(1>=y.keydelay[y.keycode])return y.keydelay[y.keycode]=b,!0;y.keydelay[y.keycode]--}else y.keydelay[y.keycode]=
0;return!1};y.init=function(a){a.addEventListener(Cb.KEY_DOWN,y.handlekeydown);a.addEventListener(Cb.KEY_UP,y.handlekeyup);y.resetKeys()};y.unload=function(a){a.removeEventListener(Cb.KEY_DOWN,y.handlekeydown);a.removeEventListener(Cb.KEY_UP,y.handlekeyup)};y.update=function(){-1==y.lastcharcode?y.lastcharcode=y.charcode:y.charcode==y.lastcharcode?(y.lastcharcode=-1,y.charcode=-1):y.lastcharcode=y.charcode;for(var a=0,b=y.numletters;a<b;){var c=a++;y.lookup.h.hasOwnProperty(c)&&(y.last[c]==na.justreleased&&
y.current[c]==na.justreleased?y.current[c]=na.notpressed:y.last[c]==na.justpressed&&y.current[c]==na.justpressed&&(y.current[c]=na.pressed),y.last[c]=y.current[c])}};y.reset=function(){for(var a=0,b=y.numletters;a<b;){var c=a++;y.lookup.h.hasOwnProperty(c)&&(y.current[c]=na.notpressed,y.last[c]=na.notpressed,y.keyheld[c]=!1)}};y.iskeycodeheld=function(a){return a==na.justpressed||a==na.pressed?!0:!1};y.handlekeydown=function(a){if(!1!=Oa.call("bodyIsTargetted")){y.charcode=a.charCode;if(91==y.charcode||
93==y.charcode||224==y.charcode||17==y.charcode)for(var b=0,c=y.numletters;b<c;){var f=b++;y.iskeycodeheld(y.current[f])?y.current[f]=na.justreleased:y.current[f]=na.notpressed;y.keyheld[f]=!1}else if(a.controlKey)return;y.keycode=a.keyCode;y.lookup.h.hasOwnProperty(y.keycode)&&(y.iskeycodeheld(y.current[y.keycode])?y.current[y.keycode]=na.pressed:(y.current[y.keycode]=na.justpressed,y.keydelay[y.keycode]=0),y.keyheld[y.keycode]=!0);0<k.input_show&&(8==y.keycode?(0<y.keybuffer.length&&(y.keybuffer=
G.substr(y.keybuffer,0,y.keybuffer.length-1)),-1<k.inputsound&&ka.playsound(k.inputsound,1)):y.keybuffer.length<k.inputmaxlength&&(32==y.keycode?(y.keybuffer+=" ",-1<k.inputsound&&ka.playsound(k.inputsound,1)):32<=y.charcode&&126>=y.charcode&&(y.keybuffer+=String.fromCharCode(y.charcode),-1<k.inputsound&&ka.playsound(k.inputsound,1))))}};y.getchar=function(){return-1==y.lastcharcode?"":String.fromCharCode(y.lastcharcode)};y.handlekeyup=function(a){y.keycode=a.keyCode;y.lookup.h.hasOwnProperty(y.keycode)&&
(y.iskeycodeheld(y.current[y.keycode])?y.current[y.keycode]=na.justreleased:y.current[y.keycode]=na.notpressed,y.keyheld[y.keycode]=!1)};y.addkey=function(a,b){y.keymap.set(a,b);y.lookup.h[b]=a;y.current[b]=na.notpressed;y.last[b]=na.notpressed;y.keydelay[b]=0;y.keyheld[b]=!1};y.resetKeys=function(){y.keymap=new Ic;y.lookup=new Kb;y.current=[];y.last=[];y.keydelay=[];y.keyheld=[];y.lastcharcode=-1;for(var a=0,b=y.numletters;a<b;)a++,y.current.push(na.notpressed),y.last.push(na.notpressed),y.keyheld.push(!1);
y.addkey(t.A,65);y.addkey(t.B,66);y.addkey(t.C,67);y.addkey(t.D,68);y.addkey(t.E,69);y.addkey(t.F,70);y.addkey(t.G,71);y.addkey(t.H,72);y.addkey(t.I,73);y.addkey(t.J,74);y.addkey(t.K,75);y.addkey(t.L,76);y.addkey(t.M,77);y.addkey(t.N,78);y.addkey(t.O,79);y.addkey(t.P,80);y.addkey(t.Q,81);y.addkey(t.R,82);y.addkey(t.S,83);y.addkey(t.T,84);y.addkey(t.U,85);y.addkey(t.V,86);y.addkey(t.W,87);y.addkey(t.X,88);y.addkey(t.Y,89);y.addkey(t.Z,90);y.addkey(t.ZERO,48);y.addkey(t.ONE,49);y.addkey(t.TWO,50);y.addkey(t.THREE,
51);y.addkey(t.FOUR,52);y.addkey(t.FIVE,53);y.addkey(t.SIX,54);y.addkey(t.SEVEN,55);y.addkey(t.EIGHT,56);y.addkey(t.NINE,57);y.addkey(t.F1,112);y.addkey(t.F2,113);y.addkey(t.F3,114);y.addkey(t.F4,115);y.addkey(t.F5,116);y.addkey(t.F6,117);y.addkey(t.F7,118);y.addkey(t.F8,119);y.addkey(t.F9,120);y.addkey(t.F10,121);y.addkey(t.F11,122);y.addkey(t.F12,123);y.addkey(t.ESCAPE,27);y.addkey(t.MINUS,189);y.addkey(t.PLUS,187);y.addkey(t.DELETE,46);y.addkey(t.BACKSPACE,8);y.addkey(t.LBRACKET,219);y.addkey(t.RBRACKET,
221);y.addkey(t.BACKSLASH,220);y.addkey(t.CAPSLOCK,20);y.addkey(t.SEMICOLON,186);y.addkey(t.QUOTE,222);y.addkey(t.ENTER,13);y.addkey(t.SHIFT,16);y.addkey(t.COMMA,188);y.addkey(t.PERIOD,190);y.addkey(t.SLASH,191);y.addkey(t.CONTROL,17);y.addkey(t.ALT,18);y.addkey(t.SPACE,32);y.addkey(t.UP,38);y.addkey(t.DOWN,40);y.addkey(t.LEFT,37);y.addkey(t.RIGHT,39)};y.keycode=null;y.charcode=null;y.lastcharcode=null;var t=q["haxegon.Key"]={__ename__:!0,__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z ZERO ONE TWO THREE FOUR FIVE SIX SEVEN EIGHT NINE F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 ESCAPE MINUS PLUS DELETE BACKSPACE LBRACKET RBRACKET BACKSLASH CAPSLOCK SEMICOLON QUOTE ENTER SHIFT COMMA PERIOD SLASH CONTROL ALT SPACE UP DOWN LEFT RIGHT".split(" ")};
t.A=["A",0];t.A.toString=l;t.A.__enum__=t;t.B=["B",1];t.B.toString=l;t.B.__enum__=t;t.C=["C",2];t.C.toString=l;t.C.__enum__=t;t.D=["D",3];t.D.toString=l;t.D.__enum__=t;t.E=["E",4];t.E.toString=l;t.E.__enum__=t;t.F=["F",5];t.F.toString=l;t.F.__enum__=t;t.G=["G",6];t.G.toString=l;t.G.__enum__=t;t.H=["H",7];t.H.toString=l;t.H.__enum__=t;t.I=["I",8];t.I.toString=l;t.I.__enum__=t;t.J=["J",9];t.J.toString=l;t.J.__enum__=t;t.K=["K",10];t.K.toString=l;t.K.__enum__=t;t.L=["L",11];t.L.toString=l;t.L.__enum__=
t;t.M=["M",12];t.M.toString=l;t.M.__enum__=t;t.N=["N",13];t.N.toString=l;t.N.__enum__=t;t.O=["O",14];t.O.toString=l;t.O.__enum__=t;t.P=["P",15];t.P.toString=l;t.P.__enum__=t;t.Q=["Q",16];t.Q.toString=l;t.Q.__enum__=t;t.R=["R",17];t.R.toString=l;t.R.__enum__=t;t.S=["S",18];t.S.toString=l;t.S.__enum__=t;t.T=["T",19];t.T.toString=l;t.T.__enum__=t;t.U=["U",20];t.U.toString=l;t.U.__enum__=t;t.V=["V",21];t.V.toString=l;t.V.__enum__=t;t.W=["W",22];t.W.toString=l;t.W.__enum__=t;t.X=["X",23];t.X.toString=
l;t.X.__enum__=t;t.Y=["Y",24];t.Y.toString=l;t.Y.__enum__=t;t.Z=["Z",25];t.Z.toString=l;t.Z.__enum__=t;t.ZERO=["ZERO",26];t.ZERO.toString=l;t.ZERO.__enum__=t;t.ONE=["ONE",27];t.ONE.toString=l;t.ONE.__enum__=t;t.TWO=["TWO",28];t.TWO.toString=l;t.TWO.__enum__=t;t.THREE=["THREE",29];t.THREE.toString=l;t.THREE.__enum__=t;t.FOUR=["FOUR",30];t.FOUR.toString=l;t.FOUR.__enum__=t;t.FIVE=["FIVE",31];t.FIVE.toString=l;t.FIVE.__enum__=t;t.SIX=["SIX",32];t.SIX.toString=l;t.SIX.__enum__=t;t.SEVEN=["SEVEN",33];
t.SEVEN.toString=l;t.SEVEN.__enum__=t;t.EIGHT=["EIGHT",34];t.EIGHT.toString=l;t.EIGHT.__enum__=t;t.NINE=["NINE",35];t.NINE.toString=l;t.NINE.__enum__=t;t.F1=["F1",36];t.F1.toString=l;t.F1.__enum__=t;t.F2=["F2",37];t.F2.toString=l;t.F2.__enum__=t;t.F3=["F3",38];t.F3.toString=l;t.F3.__enum__=t;t.F4=["F4",39];t.F4.toString=l;t.F4.__enum__=t;t.F5=["F5",40];t.F5.toString=l;t.F5.__enum__=t;t.F6=["F6",41];t.F6.toString=l;t.F6.__enum__=t;t.F7=["F7",42];t.F7.toString=l;t.F7.__enum__=t;t.F8=["F8",43];t.F8.toString=
l;t.F8.__enum__=t;t.F9=["F9",44];t.F9.toString=l;t.F9.__enum__=t;t.F10=["F10",45];t.F10.toString=l;t.F10.__enum__=t;t.F11=["F11",46];t.F11.toString=l;t.F11.__enum__=t;t.F12=["F12",47];t.F12.toString=l;t.F12.__enum__=t;t.ESCAPE=["ESCAPE",48];t.ESCAPE.toString=l;t.ESCAPE.__enum__=t;t.MINUS=["MINUS",49];t.MINUS.toString=l;t.MINUS.__enum__=t;t.PLUS=["PLUS",50];t.PLUS.toString=l;t.PLUS.__enum__=t;t.DELETE=["DELETE",51];t.DELETE.toString=l;t.DELETE.__enum__=t;t.BACKSPACE=["BACKSPACE",52];t.BACKSPACE.toString=
l;t.BACKSPACE.__enum__=t;t.LBRACKET=["LBRACKET",53];t.LBRACKET.toString=l;t.LBRACKET.__enum__=t;t.RBRACKET=["RBRACKET",54];t.RBRACKET.toString=l;t.RBRACKET.__enum__=t;t.BACKSLASH=["BACKSLASH",55];t.BACKSLASH.toString=l;t.BACKSLASH.__enum__=t;t.CAPSLOCK=["CAPSLOCK",56];t.CAPSLOCK.toString=l;t.CAPSLOCK.__enum__=t;t.SEMICOLON=["SEMICOLON",57];t.SEMICOLON.toString=l;t.SEMICOLON.__enum__=t;t.QUOTE=["QUOTE",58];t.QUOTE.toString=l;t.QUOTE.__enum__=t;t.ENTER=["ENTER",59];t.ENTER.toString=l;t.ENTER.__enum__=
t;t.SHIFT=["SHIFT",60];t.SHIFT.toString=l;t.SHIFT.__enum__=t;t.COMMA=["COMMA",61];t.COMMA.toString=l;t.COMMA.__enum__=t;t.PERIOD=["PERIOD",62];t.PERIOD.toString=l;t.PERIOD.__enum__=t;t.SLASH=["SLASH",63];t.SLASH.toString=l;t.SLASH.__enum__=t;t.CONTROL=["CONTROL",64];t.CONTROL.toString=l;t.CONTROL.__enum__=t;t.ALT=["ALT",65];t.ALT.toString=l;t.ALT.__enum__=t;t.SPACE=["SPACE",66];t.SPACE.toString=l;t.SPACE.__enum__=t;t.UP=["UP",67];t.UP.toString=l;t.UP.__enum__=t;t.DOWN=["DOWN",68];t.DOWN.toString=
l;t.DOWN.__enum__=t;t.LEFT=["LEFT",69];t.LEFT.toString=l;t.LEFT.__enum__=t;t.RIGHT=["RIGHT",70];t.RIGHT.toString=l;t.RIGHT.__enum__=t;var C=function(){};q["haxegon.Mouse"]=C;C.__name__=!0;C.x=null;C.y=null;C.mouseoffstage=null;C.isdragging=null;C.leftheld=function(){return 0<C._current};C.leftclick=function(){return 2==C._current};C.leftreleased=function(){return-1==C._current};C.rightheld=function(){return 0<C._rightcurrent};C.rightclick=function(){return 2==C._rightcurrent};C.rightreleased=function(){return-1==
C._rightcurrent};C.middleheld=function(){return 0<C._middlecurrent};C.middleclick=function(){return 2==C._middlecurrent};C.middlereleased=function(){return-1==C._middlecurrent};C.init=function(a){a.addEventListener(O.RIGHT_MOUSE_DOWN,C.handleRightMouseDown);a.addEventListener(O.RIGHT_MOUSE_UP,C.handleRightMouseUp);a.addEventListener(O.MOUSE_DOWN,C.handleMouseDown);a.addEventListener(O.MOUSE_UP,C.handleMouseUp);a.addEventListener(O.MIDDLE_MOUSE_DOWN,C.handleMiddleMouseDown);a.addEventListener(O.MIDDLE_MOUSE_UP,
C.handleMiddleMouseUp);a.addEventListener(O.MOUSE_WHEEL,C.mousewheelHandler);a.addEventListener(O.MOUSE_MOVE,C.mouseOver);a.addEventListener(J.MOUSE_LEAVE,C.mouseLeave);C.x=0;C.y=0;C._rightcurrent=0;C._rightlast=0;C._middlecurrent=0;C._middlelast=0;C._current=0;C._last=0};C.unload=function(a){a.removeEventListener(O.RIGHT_MOUSE_DOWN,C.handleRightMouseDown);a.removeEventListener(O.RIGHT_MOUSE_UP,C.handleRightMouseUp);a.removeEventListener(O.MOUSE_DOWN,C.handleMouseDown);a.removeEventListener(O.MOUSE_UP,
C.handleMouseUp);a.removeEventListener(O.MIDDLE_MOUSE_DOWN,C.handleMiddleMouseDown);a.removeEventListener(O.MIDDLE_MOUSE_UP,C.handleMiddleMouseUp);a.removeEventListener(O.MOUSE_WHEEL,C.mousewheelHandler);a.removeEventListener(O.MOUSE_MOVE,C.mouseOver);a.removeEventListener(J.MOUSE_LEAVE,C.mouseLeave)};C.mouseLeave=function(a){C.mouseoffstage=!0;C._current=0;C._last=0;C.isdragging=!1;C._rightcurrent=0;C._rightlast=0;C._middlecurrent=0;C._middlelast=0};C.mouseOver=function(a){C.mouseoffstage=!1};C.mousewheelHandler=
function(a){C.mousewheel=a.delta};C.visitsite=function(a){C.gotosite=a};C.update=function(a,b){C.x=a;C.y=b;-1==C._last&&-1==C._current?C._current=0:2==C._last&&2==C._current&&(C._current=1);C._last=C._current;-1==C._rightlast&&-1==C._rightcurrent?C._rightcurrent=0:2==C._rightlast&&2==C._rightcurrent&&(C._rightcurrent=1);C._rightlast=C._rightcurrent;-1==C._middlelast&&-1==C._middlecurrent?C._middlecurrent=0:2==C._middlelast&&2==C._middlecurrent&&(C._middlecurrent=1);C._middlelast=C._middlecurrent};
C.reset=function(){C._current=0;C._last=0;C._rightcurrent=0;C._rightlast=0;C._middlecurrent=0;C._middlelast=0};C.handleRightMouseDown=function(a){C._rightcurrent=0<C._rightcurrent?1:2};C.handleRightMouseUp=function(a){C._rightcurrent=0<C._rightcurrent?-1:0};C.handleMiddleMouseDown=function(a){C._middlecurrent=0<C._middlecurrent?1:2};C.handleMiddleMouseUp=function(a){C._middlecurrent=0<C._middlecurrent?-1:0};C.handleMouseDown=function(a){y.pressed(t.CONTROL)?C._rightcurrent=0<C._rightcurrent?1:2:(C._current=
0<C._current?1:2,2==C._current&&""!=C.gotosite&&(a=new ad(C.gotosite),fa.getURL(a),C.gotosite=""))};C.handleMouseUp=function(a){C._rightcurrent=0<C._rightcurrent?-1:0;C._current=0<C._current?-1:0};C._current=null;C._last=null;C._middlecurrent=null;C._middlelast=null;C._rightcurrent=null;C._rightlast=null;var P=function(){};q["haxegon.Random"]=P;P.__name__=!0;P.bool=function(){return 0.5>P.random()};P.occasional=function(){return 0.2>P.random()};P.rare=function(){return 0.05>P.random()};P.chance=function(a){return P["int"](0,
100)<=a};P["int"]=function(a,b){return a+Math.floor((b-a+1)*P.random())};P["float"]=function(a,b){return a+(b-a)*P.random()};P.string=function(a,b){null==b&&(b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");for(var c="",f=0;f<a;)f++,c+=b.charAt(P["int"](0,b.length-1));return c};P.pickstring=function(a,b,c,f,m,g,d,e,h,k,q,l){null==l&&(l="");null==q&&(q="");null==k&&(k="");null==h&&(h="");null==e&&(e="");null==d&&(d="");null==g&&(g="");null==m&&(m="");null==f&&(f="");null==c&&(c=
"");P.temp=2;""!=c&&(P.temp=3);""!=f&&(P.temp=4);""!=m&&(P.temp=5);""!=g&&(P.temp=6);""!=d&&(P.temp=7);""!=e&&(P.temp=8);""!=h&&(P.temp=9);""!=k&&(P.temp=10);""!=q&&(P.temp=11);""!=l&&(P.temp=12);switch(P["int"](1,P.temp)){case 2:return b;case 3:return c;case 4:return f;case 5:return m;case 6:return g;case 7:return d;case 8:return e;case 9:return h;case 10:return k;case 11:return q;case 12:return l}return a};P.pickint=function(a,b,c,f,m,g,d,e,h,k,q,l){null==l&&(l=-1E4);null==q&&(q=-1E4);null==k&&
(k=-1E4);null==h&&(h=-1E4);null==e&&(e=-1E4);null==d&&(d=-1E4);null==g&&(g=-1E4);null==m&&(m=-1E4);null==f&&(f=-1E4);null==c&&(c=-1E4);P.temp=2;-1E4!=c&&(P.temp=3);-1E4!=f&&(P.temp=4);-1E4!=m&&(P.temp=5);-1E4!=g&&(P.temp=6);-1E4!=d&&(P.temp=7);-1E4!=e&&(P.temp=8);-1E4!=h&&(P.temp=9);-1E4!=k&&(P.temp=10);-1E4!=q&&(P.temp=11);-1E4!=l&&(P.temp=12);switch(P["int"](1,P.temp)){case 2:return b;case 3:return c;case 4:return f;case 5:return m;case 6:return g;case 7:return d;case 8:return e;case 9:return h;
case 10:return k;case 11:return q;case 12:return l}return a};P.pickfloat=function(a,b,c,f,m,g,d,e,h,k,q,l){null==l&&(l=-1E4);null==q&&(q=-1E4);null==k&&(k=-1E4);null==h&&(h=-1E4);null==e&&(e=-1E4);null==d&&(d=-1E4);null==g&&(g=-1E4);null==m&&(m=-1E4);null==f&&(f=-1E4);null==c&&(c=-1E4);P.temp=2;-1E4!=c&&(P.temp=3);-1E4!=f&&(P.temp=4);-1E4!=m&&(P.temp=5);-1E4!=g&&(P.temp=6);-1E4!=d&&(P.temp=7);-1E4!=e&&(P.temp=8);-1E4!=h&&(P.temp=9);-1E4!=k&&(P.temp=10);-1E4!=q&&(P.temp=11);-1E4!=l&&(P.temp=12);switch(P["int"](1,
P.temp)){case 2:return b;case 3:return c;case 4:return f;case 5:return m;case 6:return g;case 7:return d;case 8:return e;case 9:return h;case 10:return k;case 11:return q;case 12:return l}return a};P.pick=function(a){return a[P["int"](0,a.length-1)]};P.random=function(){P.seed=(9301*P.seed+49297)%233280;return Math.abs(P.seed/233280)};P.setseed=function(a){P.seed=N["int"](Math.abs(a%233280))};P.temp=null;var k=function(){};q["haxegon.Text"]=k;k.__name__=!0;k.init=function(a){k.drawto=e.backbuffer;
k.gfxstage=a;k.alphact=new pb;k.input_cursorglow=0;k.inputmaxlength=40;k.inputsound=-1};k.align=function(a){k.textalign=a};k.rotation=function(a,b,c){null==c&&(c=-15E3);null==b&&(b=-15E3);k.textrotate=a;k.textrotatexpivot=b;k.textrotateypivot=c};k.input_checkfortext=function(){k.inputtext=y.keybuffer};k.reverse=function(a){for(var b="",c=0,f=a.length;c<f;)var m=c++,b=b+G.substr(a,a.length-m-1,1);return b};k.input=function(a,b,c,f,m){null==m&&(m=13421772);null==f&&(f=16777215);k.input_show=2;k.input_font=
k.currentfont;k.input_textsize=k.currentsize;"bitmap"==k.typeface[k.currentindex].type?k.typeface[k.currentindex].tf_bitmap.set_text(c+k.inputtext):"ttf"==k.typeface[k.currentindex].type&&k.typeface[k.currentindex].tf_ttf.set_text(c+k.inputtext);a=k.alignx(a);b=k.aligny(b);k.input_textxp=a;k.input_textyp=b;"bitmap"==k.typeface[k.currentindex].type?(k.typeface[k.currentindex].tf_bitmap.set_text(c),k.input_responsexp=k.input_textxp+Math.floor(k.typeface[k.currentindex].tf_bitmap.get_textWidth())):"ttf"==
k.typeface[k.currentindex].type&&(k.typeface[k.currentindex].tf_ttf.set_text(c),k.input_responsexp=k.input_textxp+Math.floor(k.typeface[k.currentindex].tf_ttf.get_textWidth()));k.input_responseyp=b;k.input_text=c;k.input_response=k.inputtext;k.input_textcol=f;k.input_responsecol=m;k.input_checkfortext();return y.justpressed(t.ENTER)&&""!=k.inputtext?!0:!1};k.getinput=function(){var a=k.inputtext;k.lastentry=k.inputtext;k.inputtext="";y.keybuffer="";k.input_show=0;return a};k.drawstringinput=function(){0<
k.input_show&&(k.setfont(k.input_font,k.input_textsize),k.input_cursorglow++,96<=k.input_cursorglow&&(k.input_cursorglow=0),k.display(k.input_textxp,k.input_textyp,k.input_text,k.input_textcol),k.input_text.length<k.inputmaxlength?24>k.input_cursorglow%48?k.display(k.input_responsexp,k.input_responseyp,k.input_response,k.input_responsecol):k.display(k.input_responsexp,k.input_responseyp,k.input_response+"_",k.input_responsecol):k.display(k.input_responsexp,k.input_responseyp,k.input_response,k.input_responsecol));
k.input_show--;0>k.input_show&&(k.input_show=0)};k.currentlen=function(){if("ttf"==k.typeface[k.currentindex].type)return k.typeface[k.currentindex].tf_ttf.get_textWidth();if("bitmap"==k.typeface[k.currentindex].type){var a=k.typeface[k.currentindex].tf_bitmap.text,b=1,c="",f=-1,m=0;if(Ga.isinstring(a,"\n")){for(;m<a.length;)"\n"==G.substr(a,m,1)?(b++,c=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(c,!1)),c>f&&(f=c),c=""):c+=G.substr(a,m,1),m++;c=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(c,
!1));c>f&&(f=c)}else f=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(a,!1));return f}return 0};k.currentheight=function(){return"ttf"==k.typeface[k.currentindex].type?k.typeface[k.currentindex].tf_ttf.get_textHeight():"bitmap"==k.typeface[k.currentindex].type?k.typeface[k.currentindex].tf_bitmap.get_textHeight()*k.currentsize:0};k.len=function(a){if("ttf"==k.typeface[k.currentindex].type)return k.typeface[k.currentindex].tf_ttf.set_text(a),k.typeface[k.currentindex].tf_ttf.get_textWidth();
if("bitmap"==k.typeface[k.currentindex].type){var b=1,c="",f=-1,m=0;if(Ga.isinstring(a,"\n")){for(;m<a.length;)"\n"==G.substr(a,m,1)?(b++,c=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(c,!1)),c>f&&(f=c),c=""):c+=G.substr(a,m,1),m++;c=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(c,!1));c>f&&(f=c)}else f=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(a,!1));return f}return 0};k.height=function(){return"ttf"==k.typeface[k.currentindex].type?(k.typeface[k.currentindex].tf_ttf.set_text("???"),
k.typeface[k.currentindex].tf_ttf.get_textHeight()):"bitmap"==k.typeface[k.currentindex].type?(k.typeface[k.currentindex].tf_bitmap.set_text("???"),k.typeface[k.currentindex].height*k.currentsize):0};k.t1=null;k.t2=null;k.t3=null;k.cachealignx=function(a,b){return-5E3>=a?(k.t1=a-k.CENTER,k.t2=a-k.LEFT,k.t3=a-k.RIGHT,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(e.screenwidthmid-k.cachedtext[b].width*k.currentsize/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<
Math.abs(k.t3)?k.t2:k.t3+Math.floor(e.screenwidth-k.cachedtext[b].width*k.currentsize)):Math.floor(a)};k.cachealigny=function(a,b){return-5E3>=a?(k.t1=a-k.CENTER,k.t2=a-k.TOP,k.t3=a-k.BOTTOM,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(e.screenheightmid-k.cachedtext[b].height*k.currentsize/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+Math.floor(e.screenheight-k.cachedtext[b].height*k.currentsize)):Math.floor(a)};k.alignx=
function(a){return-5E3>=a?(k.t1=a-k.CENTER,k.t2=a-k.LEFT,k.t3=a-k.RIGHT,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(e.screenwidthmid-k.currentlen()/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+Math.floor(e.screenwidth-k.currentlen())):Math.floor(a)};k.aligny=function(a){return-5E3>=a?(k.t1=a-k.CENTER,k.t2=a-k.TOP,k.t3=a-k.BOTTOM,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(e.screenheightmid-
k.currentheight()/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+Math.floor(e.screenheight-k.currentheight())):Math.floor(a)};k.cachealigntextx=function(a,b){return-5E3>=b?(k.t1=b-k.CENTER,k.t2=b-k.LEFT,k.t3=b-k.RIGHT,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(k.cachedtext[a].width*k.currentsize/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+k.cachedtext[a].width*k.currentsize):b};k.cachealigntexty=
function(a,b){return-5E3>=b?(k.t1=b-k.CENTER,k.t2=b-k.TOP,k.t3=b-k.BOTTOM,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(k.cachedtext[a].height*k.currentsize/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+k.cachedtext[a].height*k.currentsize):b};k.aligntextx=function(a,b){return-5E3>=b?(k.t1=b-k.CENTER,k.t2=b-k.LEFT,k.t3=b-k.RIGHT,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(k.len(a)/
2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+k.len(a)):b};k.aligntexty=function(a){return-5E3>=a?(k.t1=a-k.CENTER,k.t2=a-k.TOP,k.t3=a-k.BOTTOM,0==k.t1||Math.abs(k.t1)<Math.abs(k.t2)&&Math.abs(k.t1)<Math.abs(k.t3)?k.t1+Math.floor(k.height()/2):0==k.t2||Math.abs(k.t2)<Math.abs(k.t1)&&Math.abs(k.t2)<Math.abs(k.t3)?k.t2:k.t3+k.height()):a};k.cacheindex=null;k.cachelabel=null;k.cleartextcache=function(){k.cachedtextindex=new aa;for(var a=0,b=k.cachedtext.length;a<
b;){var c=a++;k.cachedtext[c].dispose()}k.cachedtext=[];k.align(k.LEFT);k.rotation(0)};k.display=function(a,b,c,f){null==f&&(f=16777215);c=Da.tostring(c);if((e.clearscreeneachframe||!e.skiprender||!e.drawingtoscreen)&&""!=c)if("bitmap"==k.typeface[k.currentindex].type){k.cachelabel=c+"_"+k.currentfont+Da.tostring(f);if(!k.cachedtextindex.exists(k.cachelabel)){var m=1,g="",d=-1,h=0;if(Ga.isinstring(c,"\n")){for(;h<c.length;)"\n"==G.substr(c,h,1)?(m++,g=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(g,
!1)),g>d&&(d=g),g=""):g+=G.substr(c,h,1),h++;g=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(g,!1));g>d&&(d=g)}else d=Da.toint(k.typeface[k.currentindex].tf_bitmap.getStringWidth(c,!1));k.cacheindex=k.cachedtext.length;k.cachedtextindex.set(k.cachelabel,k.cacheindex);k.cachedtext.push(new Ha(d,Da.toint(k.typeface[k.currentindex].height)*m,!0,0));k.drawto=k.cachedtext[k.cacheindex];k.cache_bitmap_text(c,f);k.drawto=e.drawto}k.cacheindex=k.cachedtextindex.get(k.cachelabel);k.display_bitmap(a,
b,k.cacheindex,k.currentsize)}else"tff"==k.typeface[k.currentindex].type&&k.display_ttf(a,b,c,f)};k.cache_bitmap_text=function(a,b){k.typeface[k.currentindex].tf_bitmap.set_useTextColor(!0);k.typeface[k.currentindex].tf_bitmap.set_textColor(-16777216+b);k.typeface[k.currentindex].tf_bitmap.set_text(a);k.drawto.draw(k.typeface[k.currentindex].tf_bitmap)};k.display_bitmap=function(a,b,c,f){a=k.cachealignx(a,c);b=k.cachealigny(b,c);a-=k.cachealigntextx(c,k.textalign);k.fontmatrix.identity();1!=f&&k.fontmatrix.scale(f,
f);0!=k.textrotate&&(0!=k.textrotatexpivot&&(k.tempxpivot=k.cachealigntextx(c,k.textrotatexpivot)),0!=k.textrotateypivot&&(k.tempypivot=k.cachealigntexty(c,k.textrotatexpivot)),k.fontmatrix.translate(-k.tempxpivot,-k.tempypivot),k.fontmatrix.rotate(3.1415*k.textrotate/180),k.fontmatrix.translate(k.tempxpivot,k.tempypivot));k.fontmatrix.translate(Math.floor(a),Math.floor(b));k.drawto.draw(k.cachedtext[c],k.fontmatrix)};k.display_ttf=function(a,b,c,f){};k.createtypeface=function(a){ha.log("Precaching glyphs for Font."+
a.toUpperCase());"bitmap"==k.fontfile[k.fontfileindex.get(a)].type&&(k.typefaceindex.exists(a+"_1")||k.addtypeface(a,1))};k.setfont=function(a,b){null==b&&(b=1);k.fontfileindex.exists(a)||k.addfont(a,b);a!=k.currentfont&&(k.currentfont=a,-1!=b&&("bitmap"==k.fontfile[k.fontfileindex.get(a)].type?(k.typefaceindex.exists(k.currentfont+"_1")||k.addtypeface(k.currentfont,1),k.currentindex=k.typefaceindex.get(k.currentfont+"_1")):"ttf"==k.fontfile[k.fontfileindex.get(a)].type&&(k.typefaceindex.exists(k.currentfont+
"_"+N.string(k.currentsize))||k.addtypeface(k.currentfont,k.currentsize),k.currentindex=k.typefaceindex.get(k.currentfont+"_"+N.string(k.currentsize)))));k.changesize(b)};k.changesize=function(a){a!=k.currentsize&&(k.currentsize=a,"null"!=k.currentfont&&("bitmap"==k.fontfile[k.fontfileindex.get(k.currentfont)].type?(k.typefaceindex.exists(k.currentfont+"_1")||k.addtypeface(k.currentfont,1),k.currentindex=k.typefaceindex.get(k.currentfont+"_1")):"ttf"==k.fontfile[k.fontfileindex.get(k.currentfont)].type&&
(k.typefaceindex.exists(k.currentfont+"_"+N.string(k.currentsize))||k.addtypeface(k.currentfont,k.currentsize),k.currentindex=k.typefaceindex.get(k.currentfont+"_"+N.string(k.currentsize)))))};k.addfont=function(a,b){null==b&&(b=1);k.fontfile.push(new oe(a));k.fontfileindex.set(a,k.fontfile.length-1);k.currentfont=a;k.changesize(b)};k.addtypeface=function(a,b){k.typeface.push(new pe(a,b));k.typefaceindex.set(a+"_"+(null==b?"null":""+b),k.typeface.length-1)};k.getfonttypename=function(a){return k.fontfile[k.fontfileindex.get(a)].typename};
k.gfxstage=null;k.drawto=null;k.textalign=null;k.textrotate=null;k.textrotatexpivot=null;k.textrotateypivot=null;k.textalphamult=null;k.temprotate=null;k.tempxscale=null;k.tempyscale=null;k.tempxpivot=null;k.tempypivot=null;k.tempalpha=null;k.tempred=null;k.tempgreen=null;k.tempblue=null;k.changecolours=null;k.alphact=null;k.inputtext=null;k.lastentry=null;k.inputsound=null;k.inputmaxlength=null;k.input_textxp=null;k.input_textyp=null;k.input_responsexp=null;k.input_responseyp=null;k.input_textcol=
null;k.input_responsecol=null;k.input_text=null;k.input_response=null;k.input_cursorglow=null;k.input_font=null;k.input_textsize=null;k.input_show=null;var ca=function(a,b){this.minOffsetX=this.spaceWidth=0;this.bold=this.italic=!1;this.size=this.lineHeight=0;this.bitmap=b;this.fontName=a;this.glyphs=new Kb;ca.store(a,this)};q["haxegon.bitmapFont.BitmapFont"]=ca;ca.__name__=!0;ca.store=function(a,b){ca.fonts.exists(a)||ca.fonts.set(a,b)};ca.get=function(a){return ca.fonts.get(a)};ca.remove=function(a){var b=
ca.fonts.get(a);ca.fonts.remove(a);null!=b&&b.dispose()};ca.clearFonts=function(){for(var a=ca.fonts.iterator();a.hasNext();)a.next().dispose();ca.fonts=new aa};ca.getDefaultFont=function(){var a=ca.get("defaultFontKey");if(null!=a)return a;for(var a="",b=new Ha(700,9,!0,-7829368),c=0,f=0;2867>f;){for(var a=a+G.substr(" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000",
f,1),m=N.parseInt(function(a){a=++f;return G.substr(" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000",
a,1)}(this)),g=N.parseInt(function(a){a=++f;return G.substr(" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000",
a,1)}(this)),d=0;d<g;)for(var e=d++,h=0;h<m;){var k=h++;f++;"1"==G.substr(" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000",
f,1)?b.setPixel32(1+7*c+k,1+e,-1):b.setPixel32(1+7*c+k,1+e,0)}f++;c++}return ca.fromXNA("defaultFontKey",b,a)};ca.fromAngelCode=function(a,b){var c=new bd(b.firstElement()),f=N.string(c.node.resolve("info").att.resolve("face")),m=ca.get(f);if(null!=m)return m;m=new ca(f,a);m.lineHeight=N.parseInt(c.node.resolve("common").att.resolve("lineHeight"));m.size=N.parseInt(c.node.resolve("info").att.resolve("size"));m.fontName=N.string(c.node.resolve("info").att.resolve("face"));m.bold=0!=N.parseInt(c.node.resolve("info").att.resolve("bold"));
m.italic=0!=N.parseInt(c.node.resolve("info").att.resolve("italic"));for(var g,d,e,f=G.cca(" ",0),h,k,q,l,c=c.node.resolve("chars").nodes.resolve("char").iterator();null!=c.head;){var x;g=void 0;c.val=c.head[0];c.head=c.head[1];x=g=c.val;g=new sa;g.x=N.parseInt(x.att.resolve("x"));g.y=N.parseInt(x.att.resolve("y"));g.width=N.parseInt(x.att.resolve("width"));l=N.parseInt(x.att.resolve("height"));g.height=l;h=x.has.resolve("xoffset")?N.parseInt(x.att.resolve("xoffset")):0;k=x.has.resolve("yoffset")?
N.parseInt(x.att.resolve("yoffset")):0;q=x.has.resolve("xadvance")?N.parseInt(x.att.resolve("xadvance")):0;m.minOffsetX=m.minOffsetX>h?h:m.minOffsetX;d=null;e=-1;x.has.resolve("letter")?d=x.att.resolve("letter"):x.has.resolve("id")&&(e=N.parseInt(x.att.resolve("id")));if(-1==e&&null==d)throw new F("Invalid font xml data!");if(null!=d){switch(d){case "space":d=" ";break;case "&quot;":d='"';break;case "&amp;":d="&";break;case "&gt;":d=">";break;case "&lt;":d="<"}e=G.cca(d,0)}m.addGlyphFrame(e,g,h,k,
q);e==f?m.spaceWidth=q:m.lineHeight=m.lineHeight>l+k?m.lineHeight:l+k}return m};ca.fromXNA=function(a,b,c,f){null==f&&(f=0);var m=ca.get(a);if(null!=m)return m;m=new ca(a,b);m.fontName=a;null==c&&(c=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~");a=b.getPixel(0,0);for(var g=0,d,e=0,h,k=c.length,q,l;g<b.height&&e<k;){var x=0;for(d=0;d<b.width&&e<k;){if(N["int"](b.getPixel(d,g))!=a){var t=d;for(h=g;N["int"](b.getPixel(t,g))!=a;)t++;for(;N["int"](b.getPixel(d,
h))!=a;)h++;var t=t-d,u=h-g;h=G.cca(c,e);q=new sa(d,g,t,u);l=t;m.addGlyphFrame(h,q,0,0,l);32==h&&(m.spaceWidth=l);u>x&&(x=u);u>m.size&&(m.size=u);d+=t;e++}d++}g+=x+1}m.lineHeight=m.size;ca.POINT.x=ca.POINT.y=0;c=b.getPixel32(0,0);ca.replaceColor(b,c,0);0!=f&&ca.replaceColor(b,f,0);return m};ca.replaceColor=function(a,b,c){var f=0,m=0,g=a.height,d=a.width;for(a.lock();f<g;){for(m=0;m<d;)a.getPixel32(m,f)==b&&a.setPixel32(m,f,c),m++;f++}a.unlock();return a};ca.fromMonospace=function(a,b,c,f,m,g){var d=
ca.get(a);if(null!=d)return d;null==c&&(c=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~");null==m&&(m=b.rect);if(0==m.width||m.get_right()>b.width)m.width=b.width-m.x;if(0==m.height||m.get_bottom()>b.height)m.height=b.height-m.y;null==g&&(g=new la(0,0));var d=m.width|0,e=m.height|0,h=m.x|0;m=m.y|0;var k=g.x|0,q=g.y|0;g=f.x|0;f=f.y|0;var l=g+k,x=f+q,e=0==f?1:(e+q)/x|0,k=0==g?1:(d+k)/l|0,d=new ca(a,b);d.fontName=a;d.lineHeight=d.size=f;var t;d.spaceWidth=
g;a=0;b=c.length;for(q=0;q<e;)for(var u=q++,r=0,v=k;r<v;)if(t=r++,t=new sa(h+t*l,m+u*x,g,f),d.addGlyphFrame(G.cca(c,a),t,0,0,g),a++,a>=b)return d;return d};ca.prototype={dispose:function(){null!=this.bitmap&&this.bitmap.dispose();this.fontName=this.glyphs=this.bitmap=null},addGlyphFrame:function(a,b,c,f,m){null==m&&(m=0);null==f&&(f=0);null==c&&(c=0);if(0!=b.width&&0!=b.height&&null==this.glyphs.h[a]){var g=new qe(this);g.charCode=a;g.xoffset=c;g.yoffset=f;g.xadvance=m;g.rect=b;this.glyphs.h[a]=g}},
prepareGlyphs:function(a,b,c,f){null==f&&(f=!1);null==c&&(c=!0);return new re(this,a,b,c,f)},__class__:ca};var qe=function(a){this.parent=a};q["haxegon.bitmapFont.BitmapGlyphFrame"]=qe;qe.__name__=!0;qe.prototype={dispose:function(){this.rect=null;null!=this._bitmap&&this._bitmap.dispose();this._bitmap=null},get_bitmap:function(){if(null!=this._bitmap)return this._bitmap;this._bitmap=new Ha(Math.ceil(this.rect.width),Math.ceil(this.rect.height),!0,0);this._bitmap.copyPixels(this.parent.bitmap,this.rect,
new la);return this._bitmap},__class__:qe,__properties__:{get_bitmap:"get_bitmap"}};var re=function(a,b,c,f,m){null==m&&(m=!1);null==f&&(f=!0);this.minOffsetX=this.spaceWidth=0;this.glyphMap=new Kb;this.glyphs=[];this.font=a;this.scale=b;this.color=f?c:-1;this.minOffsetX=a.minOffsetX*b;this.prepareGlyphs(m)};q["haxegon.bitmapFont.BitmapGlyphCollection"]=re;re.__name__=!0;re.prototype={prepareGlyphs:function(a){null==a&&(a=!1);var b=new ra;b.scale(this.scale,this.scale);var c=new pb;c.redMultiplier=
rb.toFloat(this.color>>16&255)/rb.toFloat(255);c.greenMultiplier=rb.toFloat(this.color>>8&255)/rb.toFloat(255);c.blueMultiplier=rb.toFloat(this.color&255)/rb.toFloat(255);c.alphaMultiplier=rb.toFloat(this.color>>24&255)/rb.toFloat(255);var f,m,g,d,e;this.spaceWidth=this.font.spaceWidth*this.scale;for(var h=this.font.glyphs.iterator();h.hasNext();)g=h.next(),f=g.get_bitmap(),m=Math.ceil(f.width*this.scale),d=Math.ceil(f.height*this.scale),0<m||(m=1),0<d||(d=1),m=new Ha(m,d,!0,0),m.draw(f,b,null,null,
null,a),m.colorTransform(m.rect,c),f=Math.ceil(g.xoffset*this.scale),d=Math.ceil(g.yoffset*this.scale),e=Math.ceil(g.xadvance*this.scale),g=new se(g.charCode,m,f,d,e),this.glyphs.push(g),this.glyphMap.h[g.charCode]=g},dispose:function(){if(null!=this.glyphs)for(var a=0,b=this.glyphs;a<b.length;){var c=b[a];++a;c.dispose()}this.font=this.glyphMap=this.glyphs=null},__class__:re};var se=function(a,b,c,f,m){null==m&&(m=0);null==f&&(f=0);null==c&&(c=0);this.offsetX=this.offsetY=this.xAdvance=0;this.charCode=
a;this.bitmap=b;this.offsetX=c;this.offsetY=f;this.xAdvance=m;this.rect=b.rect};q["haxegon.bitmapFont.BitmapGlyph"]=se;se.__name__=!0;se.prototype={dispose:function(){null!=this.bitmap&&this.bitmap.dispose();this.bitmap=null},__class__:se};var yd=function(a,b,c,f){null==f&&(f=!1);null==b&&(b="");this._fieldWidth=this._fieldHeight=1;this._pendingBorderGlyphsChange=!1;this.updateImmediately=this._pendingTextChange=this._pendingGraphicChange=this._pendingTextGlyphsChange=!0;this.size=1;this.numLines=
0;this.multiLine=!0;this.backgroundColor=0;this.background=!1;this.borderQuality=0;this.borderSize=1;this.borderColor=-16777216;this.borderStyle=Ra.NONE;this.useTextColor=!1;this.textColor=-1;this._tabSpaces="    ";this.numSpacesInTab=4;this.padding=0;this.wordWrap=this.wrapByWord=this.autoSize=!0;this.autoUpperCase=!1;this.lineSpacing=this.letterSpacing=0;this.alignment="left";this._linesWidth=[];this._lines=[];this.text="";Ma.call(this);this.shadowOffset=new la(1,1);null==c&&(c=fb.AUTO);this._bitmapData=
new Ha(this._fieldWidth,this._fieldHeight,!0,0);this._bitmap=new Hc(this._bitmapData,c,f);this._bitmap.smoothing=!1;this.addChild(this._bitmap);this._point=new la;null==a&&(a=ca.getDefaultFont());this.set_font(a);this.set_text(b);this.set_smoothing(f)};q["haxegon.bitmapFont.BitmapTextField"]=yd;yd.__name__=!0;yd.__super__=Ma;yd.prototype=u(Ma.prototype,{dispose:function(){this.set_updateImmediately(!1);this.set_font(null);this.set_text(null);this._point=this.shadowOffset=this._linesWidth=this._lines=
null;null!=this.textGlyphs&&this.textGlyphs.dispose();this.textGlyphs=null;null!=this.borderGlyphs&&this.borderGlyphs.dispose();this.borderGlyphs=null;null!=this._bitmap&&this.removeChild(this._bitmap);this._bitmap=null;null!=this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null},forceGraphicUpdate:function(){this._pendingGraphicChange=!0;this._pendingTextGlyphsChange&&this.updateTextGlyphs();this._pendingBorderGlyphsChange&&this.updateBorderGlyphs();this._pendingTextChange&&(this.updateText(),
this._pendingGraphicChange=!0);this._pendingGraphicChange&&this.updateGraphic()},checkImmediateChanges:function(){this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic())},checkPendingChanges:function(){this._pendingTextGlyphsChange&&this.updateTextGlyphs();this._pendingBorderGlyphsChange&&this.updateBorderGlyphs();
this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0);this._pendingGraphicChange&&this.updateGraphic()},set_textColor:function(a){this.textColor!=a&&(this.textColor=a,this._pendingTextGlyphsChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_useTextColor:function(a){this.useTextColor!=
a&&(this.useTextColor=a,this._pendingTextGlyphsChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_text:function(a){a!=this.text&&null!=a&&(this.text=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&
this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},updateText:function(){this._lines=(this.autoUpperCase?this.text.toUpperCase():this.text).split("\n");this.autoSize||(this.wordWrap?this.wrap():this.cutLines());this.multiLine||(this._lines=[this._lines[0]]);this._pendingTextChange=!1;this._pendingGraphicChange=!0},computeTextSize:function(){var a=Math.ceil(this._fieldWidth),b=Math.ceil(this.get_textHeight())+
2*this.padding,a=Math.ceil(this.get_textWidth()),a=this.autoSize?a+2*this.padding:Math.ceil(this._fieldWidth);this._fieldWidth=0==a?1:a;this._fieldHeight=0==b?1:b},getLineWidth:function(a){return 0>a||a>=this._lines.length?0:this.getStringWidth(this._lines[a])},getStringWidth:function(a,b){null==b&&(b=!0);var c=Math.ceil(this.font.spaceWidth*this.size),f=Math.ceil(c*this.numSpacesInTab),m=a.length,g=Math.ceil(Math.abs(this.font.minOffsetX)*this.size);b||(g=0);for(var d,e=d=0,h,k=0;k<m;)e=k++,d=G.cca(a,
e),32==d?d=c:9==d?d=f:this.font.glyphs.h.hasOwnProperty(d)?(h=this.font.glyphs.h[d],d=Math.ceil(h.xadvance*this.size),e==m-1&&(e=Math.ceil((h.xoffset+h.get_bitmap().width)*this.size),e>d&&(d=e))):d=0,g+=d+this.letterSpacing;0<m&&(g-=this.letterSpacing);return g},cutLines:function(){for(var a=[],b,c,f,m=0,g,d,e=this.font.spaceWidth*this.size,h=e*this.numSpacesInTab,k=Math.abs(this.font.minOffsetX)*this.size,q=0,l=this._lines;q<l.length;){var x=l[q];++q;b=x.length;g=new Bb;d=k;for(c=0;c<b;)f=G.cca(x,
c),m=32==f?e:9==f?h:this.font.glyphs.h.hasOwnProperty(f)?this.font.glyphs.h[f].xadvance*this.size:0,m+=this.letterSpacing,d+m>this._fieldWidth-2*this.padding?(g.__b+=String.fromCharCode(f),a.push(g.__b),g=new Bb,d=k,c=b):(g.__b+=String.fromCharCode(f),d+=m),c++}this._lines=a},wrap:function(){for(var a=[],b,c=0,f=this._lines;c<f.length;){var m=f[c];++c;b=[];this.splitLineIntoWords(m,b);this.wrapByWord?this.wrapLineByWord(b,a):this.wrapLineByCharacter(b,a)}this._lines=a},splitLineIntoWords:function(a,
b){for(var c="",f=new Bb,m=!1,g=a.length,d=G.cca("-",0),e=0,h;e<g;)h=G.cca(a,e),c=f.__b,32==h||9==h?(m||(m=!0,""!=c&&(b.push(c),f=new Bb)),f.__b+=String.fromCharCode(h)):h==d?(m&&""!=c?(m=!1,b.push(c),b.push("-")):!1==m&&(f=new Bb,f.__b+=String.fromCharCode(h),b.push(c+f.__b)),f=new Bb):(m&&""!=c&&(m=!1,b.push(c),f=new Bb),f.__b+=String.fromCharCode(h)),e++;c=f.__b;""!=c&&b.push(c)},wrapLineByWord:function(a,b){var c=a.length,f,m,g,d,e=!1,h;h=0;var k=[],q,l,x=this.font.spaceWidth*this.size,t=x*this.numSpacesInTab,
u=Math.abs(this.font.minOffsetX)*this.size;if(0<c){f=0;l=u;for(q="";f<c;){g=0;m=a[f];d=m.length;h=G.cca(m,0);for(var e=32==h||9==h,r=0;r<d;)h=r++,h=G.cca(m,h),h=32==h?x:9==h?t:this.font.glyphs.h.hasOwnProperty(h)?this.font.glyphs.h[h].xadvance*this.size:0,g+=h;g+=(d-1)*this.letterSpacing;l+g>this._fieldWidth-2*this.padding?e?(k.push(q),q="",l=u):(""!=q&&k.push(q),q=m,l=u+g+this.letterSpacing):(q+=m,l+=g+this.letterSpacing);f++}""!=q&&k.push(q)}for(c=0;c<k.length;)f=k[c],++c,b.push(f)},wrapLineByCharacter:function(a,
b){var c=a.length,f,m,g,d=!1,e,h,k=0,q=[],l,x,t=this.font.spaceWidth*this.size,u=t*this.numSpacesInTab,r=Math.abs(this.font.minOffsetX)*this.size;if(0<c){f=0;x=r;for(l=new Bb;f<c;){m=a[f];g=m.length;e=G.cca(m,0);d=32==e||9==e;for(h=0;h<g;)e=G.cca(m,h),k=32==e?t:9==e?u:this.font.glyphs.h.hasOwnProperty(e)?this.font.glyphs.h[e].xadvance*this.size:0,x+k>this._fieldWidth-2*this.padding?(l=l.__b,d?(q.push(l),h=g,l=new Bb,x=r):(""!=l&&q.push(l),l=new Bb,l.__b+=String.fromCharCode(e),x=r+k+this.letterSpacing)):
(l.__b+=String.fromCharCode(e),x+=k+this.letterSpacing),h++;f++}l=l.__b;""!=l&&q.push(l)}for(c=0;c<q.length;)f=q[c],++c,b.push(f)},updateGraphic:function(){this.computeTextSize();var a;a=this.background?this.backgroundColor:0;null==this._bitmapData||this._fieldWidth!=this._bitmapData.width||this._fieldHeight!=this._bitmapData.height?(null!=this._bitmapData&&this._bitmapData.dispose(),this._bitmapData=new Ha(this._fieldWidth,this._fieldHeight,!0,a),this._bitmap.bitmapData=this._bitmapData,this._bitmap.smoothing=
this.smoothing):this._bitmapData.fillRect(this._bitmapData.rect,a);if(0<this.size){this._bitmapData.lock();a=this._lines.length;var b,c,f,m,g=this.borderSize*this.borderQuality|0;0>=g&&(g=1);var d=this.borderSize/g|0,e=1,h=1,k=1,q=1;this.borderStyle==Ra.SHADOW&&(e=Math.round(Math.abs(this.shadowOffset.x)*this.borderQuality),0>=e&&(e=1),h=Math.round(Math.abs(this.shadowOffset.y)*this.borderQuality),0>=h&&(h=1),k=Math.round(this.shadowOffset.x/e),q=Math.round(this.shadowOffset.y/h));for(var l=0;l<a;)switch(m=
l++,b=this._lines[m],c=this._linesWidth[m],f=N["int"](Math.abs(this.font.minOffsetX)*this.size),m=(m*(this.font.lineHeight*this.size+this.lineSpacing)|0)+this.padding,"center"==this.alignment&&(f+=((this._fieldWidth-c)/2|0)-this.padding),f="right"==this.alignment?f+(this._fieldWidth-(c|0)-this.padding):f+this.padding,this.borderStyle[1]){case 1:for(c=0;c<h;)for(var x=c++,t=0;t<e;){var u=t++;this.blitLine(b,this.borderGlyphs,f+k*(u+1),m+q*(x+1))}break;case 2:for(c=x=0;c<g;)x=c++,x=d*(x+1),this.blitLine(b,
this.borderGlyphs,f-x,m-x),this.blitLine(b,this.borderGlyphs,f,m-x),this.blitLine(b,this.borderGlyphs,f+x,m-x),this.blitLine(b,this.borderGlyphs,f-x,m),this.blitLine(b,this.borderGlyphs,f+x,m),this.blitLine(b,this.borderGlyphs,f-x,m+x),this.blitLine(b,this.borderGlyphs,f,m+x),this.blitLine(b,this.borderGlyphs,f+x,m+x);break;case 3:for(c=x=0;c<g;)x=c++,x=d*(x+1),this.blitLine(b,this.borderGlyphs,f-x,m-x),this.blitLine(b,this.borderGlyphs,f+x,m-x),this.blitLine(b,this.borderGlyphs,f-x,m+x),this.blitLine(b,
this.borderGlyphs,f+x,m+x)}for(g=0;g<a;)m=g++,b=this._lines[m],c=this._linesWidth[m],f=N["int"](Math.abs(this.font.minOffsetX)*this.size),m=(m*(this.font.lineHeight*this.size+this.lineSpacing)|0)+this.padding,"center"==this.alignment&&(f+=((this._fieldWidth-c)/2|0)-this.padding),f="right"==this.alignment?f+(this._fieldWidth-(c|0)-this.padding):f+this.padding,this.blitLine(b,this.textGlyphs,f,m);this._bitmapData.unlock()}this._pendingGraphicChange=!1},blitLine:function(a,b,c,f){if(null!=b)for(var m,
g=this.font.spaceWidth*this.size|0,d=g*this.numSpacesInTab|0,e=a.length,h=0;h<e;)m=h++,m=G.cca(a,m),32==m?c+=g:9==m?c+=d:(m=b.glyphMap.h[m],null!=m&&(this._point.x=c+m.offsetX,this._point.y=f+m.offsetY,this._bitmapData.copyPixels(m.bitmap,m.rect,this._point,null,null,!0),c+=m.xAdvance)),c+=this.letterSpacing},setBorderStyle:function(a,b,c,f){null==f&&(f=1);null==c&&(c=1);null==b&&(b=-1);this.set_borderStyle(a);this.set_borderColor(b);this.set_borderSize(c);this.set_borderQuality(f);this.borderStyle==
Ra.SHADOW&&this.shadowOffset.setTo(this.borderSize,this.borderSize);this._pendingGraphicChange=!0;this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic())},set_width:function(a){a=Math.max(1,a|0);a!=this.get_width()&&(this._fieldWidth=0==a?1:a|0,this._pendingTextChange=!0,this.updateImmediately&&
(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_alignment:function(a){this.alignment!=a&&(this.alignment=a,this._pendingGraphicChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&
(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_multiLine:function(a){this.multiLine!=a&&(this.multiLine=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_font:function(a){this.font!=
a&&null!=a&&(this.font=a,this._pendingBorderGlyphsChange=this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_lineSpacing:function(a){this.lineSpacing!=a&&(this.lineSpacing=N["int"](Math.abs(a)),this._pendingGraphicChange=!0,this.updateImmediately&&
(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return this.lineSpacing},set_letterSpacing:function(a){a=N["int"](Math.abs(a));a!=this.letterSpacing&&(this.letterSpacing=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&
this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return this.letterSpacing},set_autoUpperCase:function(a){this.autoUpperCase!=a&&(this.autoUpperCase=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&
this.updateGraphic()));return this.autoUpperCase},set_wordWrap:function(a){this.wordWrap!=a&&(this.wordWrap=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return this.wordWrap},set_wrapByWord:function(a){this.wrapByWord!=a&&(this.wrapByWord=a,this._pendingTextChange=
!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_autoSize:function(a){this.autoSize!=a&&(this.autoSize=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),
this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return this.autoSize},set_size:function(a){var b=Math.abs(a);b!=this.size&&(this.size=b,this._pendingTextChange=this._pendingBorderGlyphsChange=this._pendingTextGlyphsChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=
!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_padding:function(a){a!=this.padding&&(this.padding=a,this._pendingTextChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_numSpacesInTab:function(a){if(this.numSpacesInTab!=a&&0<a){this.numSpacesInTab=
a;this._tabSpaces="";for(var b=0;b<a;)b++,this._tabSpaces+=" ";this._pendingTextChange=!0;this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic())}return a},set_background:function(a){this.background!=a&&(this.background=a,this._pendingGraphicChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&
this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_backgroundColor:function(a){this.backgroundColor!=a&&(this.backgroundColor=a,this._pendingGraphicChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),
this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_borderStyle:function(a){a!=this.borderStyle&&(this.borderStyle=a,this._pendingBorderGlyphsChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return this.borderStyle},set_borderColor:function(a){this.borderColor!=
a&&(this.borderColor=a,this._pendingBorderGlyphsChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic()));return a},set_borderSize:function(a){a!=this.borderSize&&(this.borderSize=a,this.borderStyle!=Ra.NONE&&(this._pendingGraphicChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&
this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic())));return a},set_borderQuality:function(a){a=Math.min(1,Math.max(0,a));a!=this.borderQuality&&(this.borderQuality=a,this.borderStyle!=Ra.NONE&&(this._pendingGraphicChange=!0,this.updateImmediately&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),
this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic())));return a},get_numLines:function(){return this._lines.length},get_textWidth:function(){var a=0,b=this._lines.length,c;this._linesWidth=[];for(var f=0;f<b;){var m=f++;c=this.getLineWidth(m);this._linesWidth[m]=c;a=Math.max(a,c)}return a},get_textHeight:function(){return(this.get_lineHeight()+this.lineSpacing)*this._lines.length-this.lineSpacing},get_lineHeight:function(){return this.font.lineHeight*
this.size},set_updateImmediately:function(a){this.updateImmediately!=a&&(this.updateImmediately=a)&&(this._pendingTextGlyphsChange&&this.updateTextGlyphs(),this._pendingBorderGlyphsChange&&this.updateBorderGlyphs(),this._pendingTextChange&&(this.updateText(),this._pendingGraphicChange=!0),this._pendingGraphicChange&&this.updateGraphic());return a},set_smoothing:function(a){return this.smoothing=this._bitmap.smoothing=a},updateTextGlyphs:function(){null!=this.font&&(null!=this.textGlyphs&&this.textGlyphs.dispose(),
this.textGlyphs=this.font.prepareGlyphs(this.size,this.textColor,this.useTextColor,this.smoothing),this._pendingTextGlyphsChange=!1,this._pendingGraphicChange=!0)},updateBorderGlyphs:function(){null==this.font||null!=this.borderGlyphs&&this.borderColor==this.borderGlyphs.color&&this.size==this.borderGlyphs.scale&&this.font==this.borderGlyphs.font||(null!=this.borderGlyphs&&this.borderGlyphs.dispose(),this.borderGlyphs=this.font.prepareGlyphs(this.size,this.borderColor,!0,this.smoothing));this._pendingBorderGlyphsChange=
!1;this._pendingGraphicChange=!0},__class__:yd,__properties__:u(Ma.prototype.__properties__,{set_updateImmediately:"set_updateImmediately",set_smoothing:"set_smoothing",set_size:"set_size",get_numLines:"get_numLines",set_multiLine:"set_multiLine",set_backgroundColor:"set_backgroundColor",set_background:"set_background",set_borderQuality:"set_borderQuality",set_borderSize:"set_borderSize",set_borderColor:"set_borderColor",set_borderStyle:"set_borderStyle",set_useTextColor:"set_useTextColor",set_textColor:"set_textColor",
set_numSpacesInTab:"set_numSpacesInTab",get_lineHeight:"get_lineHeight",get_textHeight:"get_textHeight",get_textWidth:"get_textWidth",set_padding:"set_padding",set_autoSize:"set_autoSize",set_wrapByWord:"set_wrapByWord",set_wordWrap:"set_wordWrap",set_autoUpperCase:"set_autoUpperCase",set_letterSpacing:"set_letterSpacing",set_lineSpacing:"set_lineSpacing",set_alignment:"set_alignment",set_text:"set_text",set_font:"set_font"})});var Ra=q["haxegon.bitmapFont.TextBorderStyle"]={__ename__:!0,__constructs__:["NONE",
"SHADOW","OUTLINE","OUTLINE_FAST"]};Ra.NONE=["NONE",0];Ra.NONE.toString=l;Ra.NONE.__enum__=Ra;Ra.SHADOW=["SHADOW",1];Ra.SHADOW.toString=l;Ra.SHADOW.__enum__=Ra;Ra.OUTLINE=["OUTLINE",2];Ra.OUTLINE.toString=l;Ra.OUTLINE.__enum__=Ra;Ra.OUTLINE_FAST=["OUTLINE_FAST",3];Ra.OUTLINE_FAST.toString=l;Ra.OUTLINE_FAST.__enum__=Ra;var df=function(a,b,c,f,m){this.name=a;this.tileset=b;this.tilesetnum=e.tilesetindex.get(this.tileset);this.startframe=c;this.endframe=f;this.delayperframe=m;this.reset()};q["haxegon.util.AnimationContainer"]=
df;df.__name__=!0;df.prototype={update:function(){this.timethisframe++;this.timethisframe>this.delayperframe&&(this.timethisframe=0,this.currentframe++,this.currentframe>this.endframe&&(this.currentframe=this.startframe))},reset:function(){this.timethisframe=0;this.currentframe=this.startframe},__class__:df};var pe=function(a,b){this.type=k.fontfile[k.fontfileindex.get(a)].type;"bitmap"==this.type?this.loadbitmapfont(a,b):"ttf"==this.type&&this.loadttffont(a,b)};q["haxegon.util.Fontclass"]=pe;pe.__name__=
!0;pe.prototype={loadbitmapfont:function(a,b){this.name=a;this.size=b;this.tf_bitmap=new yd(k.fontfile[k.fontfileindex.get(a)].bitmapfont);this.tf_bitmap.set_text("???");this.height=this.tf_bitmap.get_textHeight();this.tf_bitmap.set_background(!1);this.tfbitmap=new Ha(e.screenwidth,e.screenheight,!0,0)},loadttffont:function(a,b){this.name=a;this.size=b;this.tf_ttf=new tb;this.tf_ttf.set_embedFonts(!0);this.tf_ttf.set_defaultTextFormat(new dd(k.getfonttypename(a),Da.toint(this.size),0,!1));this.tf_ttf.set_selectable(!1);
this.tf_ttf.set_width(e.screenwidth);this.tf_ttf.set_height(e.screenheight);this.tf_ttf.set_antiAliasType(Wb.NORMAL);this.tf_ttf.set_text("???");this.tfbitmap=new Ha(e.screenwidth,e.screenheight,!0,0);this.tf_ttf.set_height(e.screenheight)},clearbitmap:function(){this.tfbitmap.fillRect(this.tfbitmap.rect,0)},__class__:pe};var oe=function(a){if(pa.exists("data/fonts/"+a+"/"+a+".fnt")){this.type="bitmap";this.fontxml=Q.parse(pa.getText("data/fonts/"+a+"/"+a+".fnt"));var b=pa.getBitmapData("data/fonts/"+
a+"/"+a+"_0.png");this.fontimage=new Ha(b.width,b.height,!0,0);for(var c=0,f=b.height;c<f;)for(var m=c++,g=0,d=b.width;g<d;){var e=g++,h=b.getPixel(e,m);0!=h&&0!=h&&this.fontimage.setPixel32(e,m,-1)}this.bitmapfont=ca.fromAngelCode(this.fontimage,this.fontxml);this.typename=a}else if(pa.exists("data/fonts/"+a+"/"+a+".ttf"))this.type="ttf",this.filename="data/fonts/"+a+"/"+a+".ttf",this.font=pa.getFont(this.filename),this.typename=this.font.name;else throw new F('ERROR: Cannot set font to "'+a+'", no TTF or Bitmap Font found.');
};q["haxegon.util.Fontfile"]=oe;oe.__name__=!0;oe.prototype={__class__:oe};var ub=q["hscript.Const"]={__ename__:!0,__constructs__:["CInt","CFloat","CString"]};ub.CInt=function(a){a=["CInt",0,a];a.__enum__=ub;a.toString=l;return a};ub.CFloat=function(a){a=["CFloat",1,a];a.__enum__=ub;a.toString=l;return a};ub.CString=function(a){a=["CString",2,a];a.__enum__=ub;a.toString=l;return a};var E=q["hscript.ExprDef"]={__ename__:!0,__constructs__:"EConst EIdent EVar EParent EBlock EField EBinop EUnop ECall EIf EWhile EFor EBreak EContinue EFunction EReturn EArray EArrayDecl ENew EThrow ETry EObject ETernary ESwitch".split(" ")};
E.EConst=function(a){a=["EConst",0,a];a.__enum__=E;a.toString=l;return a};E.EIdent=function(a){a=["EIdent",1,a];a.__enum__=E;a.toString=l;return a};E.EVar=function(a,b,c){a=["EVar",2,a,b,c];a.__enum__=E;a.toString=l;return a};E.EParent=function(a){a=["EParent",3,a];a.__enum__=E;a.toString=l;return a};E.EBlock=function(a){a=["EBlock",4,a];a.__enum__=E;a.toString=l;return a};E.EField=function(a,b){var c=["EField",5,a,b];c.__enum__=E;c.toString=l;return c};E.EBinop=function(a,b,c){a=["EBinop",6,a,b,
c];a.__enum__=E;a.toString=l;return a};E.EUnop=function(a,b,c){a=["EUnop",7,a,b,c];a.__enum__=E;a.toString=l;return a};E.ECall=function(a,b){var c=["ECall",8,a,b];c.__enum__=E;c.toString=l;return c};E.EIf=function(a,b,c){a=["EIf",9,a,b,c];a.__enum__=E;a.toString=l;return a};E.EWhile=function(a,b){var c=["EWhile",10,a,b];c.__enum__=E;c.toString=l;return c};E.EFor=function(a,b,c){a=["EFor",11,a,b,c];a.__enum__=E;a.toString=l;return a};E.EBreak=["EBreak",12];E.EBreak.toString=l;E.EBreak.__enum__=E;E.EContinue=
["EContinue",13];E.EContinue.toString=l;E.EContinue.__enum__=E;E.EFunction=function(a,b,c,f){a=["EFunction",14,a,b,c,f];a.__enum__=E;a.toString=l;return a};E.EReturn=function(a){a=["EReturn",15,a];a.__enum__=E;a.toString=l;return a};E.EArray=function(a,b){var c=["EArray",16,a,b];c.__enum__=E;c.toString=l;return c};E.EArrayDecl=function(a){a=["EArrayDecl",17,a];a.__enum__=E;a.toString=l;return a};E.ENew=function(a,b){var c=["ENew",18,a,b];c.__enum__=E;c.toString=l;return c};E.EThrow=function(a){a=
["EThrow",19,a];a.__enum__=E;a.toString=l;return a};E.ETry=function(a,b,c,f){a=["ETry",20,a,b,c,f];a.__enum__=E;a.toString=l;return a};E.EObject=function(a){a=["EObject",21,a];a.__enum__=E;a.toString=l;return a};E.ETernary=function(a,b,c){a=["ETernary",22,a,b,c];a.__enum__=E;a.toString=l;return a};E.ESwitch=function(a,b,c){a=["ESwitch",23,a,b,c];a.__enum__=E;a.toString=l;return a};var Xb=q["hscript.CType"]={__ename__:!0,__constructs__:["CTPath","CTFun","CTAnon","CTParent"]};Xb.CTPath=function(a,b){var c=
["CTPath",0,a,b];c.__enum__=Xb;c.toString=l;return c};Xb.CTFun=function(a,b){var c=["CTFun",1,a,b];c.__enum__=Xb;c.toString=l;return c};Xb.CTAnon=function(a){a=["CTAnon",2,a];a.__enum__=Xb;a.toString=l;return a};Xb.CTParent=function(a){a=["CTParent",3,a];a.__enum__=Xb;a.toString=l;return a};var mc=function(a,b,c){this.e=a;this.pmin=b;this.pmax=c};q["hscript.Error"]=mc;mc.__name__=!0;mc.prototype={__class__:mc};var ja=q["hscript.ErrorDef"]={__ename__:!0,__constructs__:"EInvalidChar EUnexpected EUnterminatedString EUnterminatedComment EUnknownVariable EInvalidIterator EInvalidOp EInvalidAccess".split(" ")};
ja.EInvalidChar=function(a){a=["EInvalidChar",0,a];a.__enum__=ja;a.toString=l;return a};ja.EUnexpected=function(a){a=["EUnexpected",1,a];a.__enum__=ja;a.toString=l;return a};ja.EUnterminatedString=["EUnterminatedString",2];ja.EUnterminatedString.toString=l;ja.EUnterminatedString.__enum__=ja;ja.EUnterminatedComment=["EUnterminatedComment",3];ja.EUnterminatedComment.toString=l;ja.EUnterminatedComment.__enum__=ja;ja.EUnknownVariable=function(a){a=["EUnknownVariable",4,a];a.__enum__=ja;a.toString=l;return a};
ja.EInvalidIterator=function(a){a=["EInvalidIterator",5,a];a.__enum__=ja;a.toString=l;return a};ja.EInvalidOp=function(a){a=["EInvalidOp",6,a];a.__enum__=ja;a.toString=l;return a};ja.EInvalidAccess=function(a){a=["EInvalidAccess",7,a];a.__enum__=ja;a.toString=l;return a};var hb=q["hscript._Interp.Stop"]={__ename__:!0,__constructs__:["SBreak","SContinue","SReturn"]};hb.SBreak=["SBreak",0];hb.SBreak.toString=l;hb.SBreak.__enum__=hb;hb.SContinue=["SContinue",1];hb.SContinue.toString=l;hb.SContinue.__enum__=
hb;hb.SReturn=function(a){a=["SReturn",2,a];a.__enum__=hb;a.toString=l;return a};var I=q["hscript.Token"]={__ename__:!0,__constructs__:"TEof TConst TId TOp TPOpen TPClose TBrOpen TBrClose TDot TComma TSemicolon TBkOpen TBkClose TQuestion TDoubleDot".split(" ")};I.TEof=["TEof",0];I.TEof.toString=l;I.TEof.__enum__=I;I.TConst=function(a){a=["TConst",1,a];a.__enum__=I;a.toString=l;return a};I.TId=function(a){a=["TId",2,a];a.__enum__=I;a.toString=l;return a};I.TOp=function(a){a=["TOp",3,a];a.__enum__=
I;a.toString=l;return a};I.TPOpen=["TPOpen",4];I.TPOpen.toString=l;I.TPOpen.__enum__=I;I.TPClose=["TPClose",5];I.TPClose.toString=l;I.TPClose.__enum__=I;I.TBrOpen=["TBrOpen",6];I.TBrOpen.toString=l;I.TBrOpen.__enum__=I;I.TBrClose=["TBrClose",7];I.TBrClose.toString=l;I.TBrClose.__enum__=I;I.TDot=["TDot",8];I.TDot.toString=l;I.TDot.__enum__=I;I.TComma=["TComma",9];I.TComma.toString=l;I.TComma.__enum__=I;I.TSemicolon=["TSemicolon",10];I.TSemicolon.toString=l;I.TSemicolon.__enum__=I;I.TBkOpen=["TBkOpen",
11];I.TBkOpen.toString=l;I.TBkOpen.__enum__=I;I.TBkClose=["TBkClose",12];I.TBkClose.toString=l;I.TBkClose.__enum__=I;I.TQuestion=["TQuestion",13];I.TQuestion.toString=l;I.TQuestion.__enum__=I;I.TDoubleDot=["TDoubleDot",14];I.TDoubleDot.toString=l;I.TDoubleDot.__enum__=I;var ee=function(){this.uid=0;this.line=1;this.opChars="+*/-=!><&|^%~";this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var a=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],"== != > < >= <=".split(" "),
["..."],["&&"],["||"],"= += -= *= /= %= <<= >>= >>>= |= &= ^=".split(" ")];this.opPriority=new aa;this.opRightAssoc=new aa;this.unops=new aa;for(var b=0,c=a.length;b<c;)for(var f=b++,m=0,g=a[f];m<g.length;){var d=g[m];++m;this.opPriority.set(d,f);9==f&&this.opRightAssoc.set(d,!0)}a=0;for(b=["!","++","--","-","~"];a<b.length;)c=b[a],++a,this.unops.set(c,"++"==c||"--"==c)};q["hscript.Parser"]=ee;ee.__name__=!0;ee.prototype={error:function(a,b,c){throw new F(new mc(a,b,c));},invalidChar:function(a){this.error(ja.EInvalidChar(a),
this.readPos,this.readPos)},parseString:function(a){this.line=1;this.uid=0;return this.parse(new vd(a))},parse:function(a){this.tokenMax=this.oldTokenMax=this.tokenMin=this.oldTokenMin=this.readPos=0;this.tokens=new zb;this["char"]=-1;this.input=a;this.ops=[];this.idents=[];a=0;for(var b=this.opChars.length;a<b;){var c=a++;this.ops[G.cca(this.opChars,c)]=!0}a=0;for(b=this.identChars.length;a<b;)c=a++,this.idents[G.cca(this.identChars,c)]=!0;for(a=[];;){b=this.token();if(b==I.TEof)break;this.tokens.push({t:b,
min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax;a.push(this.parseFullExpr())}return 1==a.length?a[0]:this.mk(E.EBlock(a),0,null)},unexpected:function(a){this.error(ja.EUnexpected(this.tokenString(a)),this.tokenMin,this.tokenMax);return null},push:function(a){this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax},ensure:function(a){var b=this.token();b!=a&&this.unexpected(b)},mk:function(a,
b,c){null==b&&(b=this.tokenMin);null==c&&(c=this.tokenMax);return{e:a,pmin:b,pmax:c}},isBlock:function(a){a=a.e;switch(a[1]){case 4:case 21:case 23:return!0;case 14:return this.isBlock(a[3]);case 2:return a=a[4],null!=a&&this.isBlock(a);case 9:var b=a[4];a=a[3];return null!=b?this.isBlock(b):this.isBlock(a);case 6:return this.isBlock(a[4]);case 7:return b=a[4],!a[3]&&this.isBlock(b);case 10:return this.isBlock(a[3]);case 11:return this.isBlock(a[4]);case 15:return a=a[2],null!=a&&this.isBlock(a);
case 20:return this.isBlock(a[5]);default:return!1}},parseFullExpr:function(){var a=this.parseExpr(),b=this.token();b!=I.TSemicolon&&b!=I.TEof&&(this.isBlock(a)?(this.tokens.push({t:b,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax):this.unexpected(b));return a},parseObject:function(a){var b=[];try{for(;;){var c=this.token(),f=null;switch(c[1]){case 2:f=c[2];break;case 1:var m=c[2];this.allowJSON||this.unexpected(c);switch(m[1]){case 2:f=m[2];break;
default:this.unexpected(c)}break;case 7:throw"__break__";default:this.unexpected(c)}this.ensure(I.TDoubleDot);b.push({name:f,e:this.parseExpr()});c=this.token();switch(c[1]){case 7:throw"__break__";case 9:break;default:this.unexpected(c)}}}catch(g){if("__break__"!=g)throw g;}return this.parseExprNext(this.mk(E.EObject(b),a,null))},parseExpr:function(){var a=this.token(),b=this.tokenMin;switch(a[1]){case 2:return b=a[2],a=this.parseStructure(b),null==a&&(a=this.mk(E.EIdent(b),null,null)),this.parseExprNext(a);
case 1:return this.parseExprNext(this.mk(E.EConst(a[2]),null,null));case 4:return a=this.parseExpr(),this.ensure(I.TPClose),this.parseExprNext(this.mk(E.EParent(a),b,this.tokenMax));case 6:a=this.token();switch(a[1]){case 7:return this.parseExprNext(this.mk(E.EObject([]),b,null));case 2:var c=this.token();this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax;this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax});this.tokenMin=
this.oldTokenMin;this.tokenMax=this.oldTokenMax;switch(c[1]){case 14:return this.parseExprNext(this.parseObject(b))}break;case 1:c=a[2];if(this.allowJSON)switch(c[1]){case 2:c=this.token();this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax;this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax;switch(c[1]){case 14:return this.parseExprNext(this.parseObject(b))}break;
default:this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax}else this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax;break;default:this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax}for(c=[];;){c.push(this.parseFullExpr());a=this.token();if(a==I.TBrClose)break;this.tokens.push({t:a,min:this.tokenMin,
max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax}return this.mk(E.EBlock(c),b,null);case 3:return b=a[2],this.unops.exists(b)?this.makeUnop(b,this.parseExpr()):this.unexpected(a);case 11:c=[];for(a=this.token();a!=I.TBkClose;)this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,c.push(this.parseExpr()),a=this.token(),a==I.TComma&&(a=this.token());if(1==c.length)switch(c[0].e[1]){case 11:case 10:return a=
"__a_"+this.uid++,b=this.mk(E.EBlock([this.mk(E.EVar(a,null,this.mk(E.EArrayDecl([]),b,null)),b,null),this.mapCompr(a,c[0]),this.mk(E.EIdent(a),b,null)]),b,null),this.parseExprNext(b)}return this.parseExprNext(this.mk(E.EArrayDecl(c),b,null));default:return this.unexpected(a)}},mapCompr:function(a,b){var c;c=b.e;switch(c[1]){case 11:c=E.EFor(c[2],c[3],this.mapCompr(a,c[4]));break;case 10:c=E.EWhile(c[2],this.mapCompr(a,c[3]));break;case 9:var f=c[3],m=c[2];c=null==c[4]?E.EIf(m,this.mapCompr(a,f),
null):E.ECall(this.mk(E.EField(this.mk(E.EIdent(a),b.pmin,b.pmax),"push"),b.pmin,b.pmax),[b]);break;case 4:switch(c[2].length){case 1:c=E.EBlock([this.mapCompr(a,c[2][0])]);break;default:c=E.ECall(this.mk(E.EField(this.mk(E.EIdent(a),b.pmin,b.pmax),"push"),b.pmin,b.pmax),[b])}break;case 3:c=E.EParent(this.mapCompr(a,c[2]));break;default:c=E.ECall(this.mk(E.EField(this.mk(E.EIdent(a),b.pmin,b.pmax),"push"),b.pmin,b.pmax),[b])}return this.mk(c,b.pmin,b.pmax)},makeUnop:function(a,b){var c=b.e;switch(c[1]){case 6:var f=
c[4],m=c[3];return this.mk(E.EBinop(c[2],this.makeUnop(a,m),f),m.pmin,f.pmax);case 22:return f=c[4],m=c[3],c=c[2],this.mk(E.ETernary(this.makeUnop(a,c),m,f),c.pmin,f.pmax);default:return this.mk(E.EUnop(a,!0,b),b.pmin,b.pmax)}},makeBinop:function(a,b,c){var f=c.e;switch(f[1]){case 6:var m=f[4],g=f[3],f=f[2];return this.opPriority.get(a)<=this.opPriority.get(f)&&!this.opRightAssoc.exists(a)?this.mk(E.EBinop(f,this.makeBinop(a,b,g),m),b.pmin,m.pmax):this.mk(E.EBinop(a,b,c),b.pmin,c.pmax);case 22:return m=
f[4],g=f[3],f=f[2],this.opRightAssoc.exists(a)?this.mk(E.EBinop(a,b,c),b.pmin,c.pmax):this.mk(E.ETernary(this.makeBinop(a,b,f),g,m),b.pmin,c.pmax);default:return this.mk(E.EBinop(a,b,c),b.pmin,c.pmax)}},parseStructure:function(a){var b=this.tokenMin;switch(a){case "if":this.ensure(I.TPOpen);var c=this.parseExpr();this.ensure(I.TPClose);var f=this.parseExpr();a=null;var m=!1,g=this.token();g==I.TSemicolon&&(m=!0,g=this.token());Aa.enumEq(g,I.TId("else"))?a=this.parseExpr():(this.tokens.push({t:g,min:this.tokenMin,
max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,m&&(this.tokens.push({t:I.TSemicolon,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax));return this.mk(E.EIf(c,f,a),b,null==a?this.tokenMax:a.pmax);case "var":c=this.token();f=null;switch(c[1]){case 2:f=c[2];break;default:this.unexpected(c)}c=this.token();a=null;c==I.TDoubleDot&&this.allowTypes&&(a=this.parseType(),c=this.token());m=null;Aa.enumEq(c,I.TOp("="))?m=this.parseExpr():
(this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax);return this.mk(E.EVar(f,a,m),b,null==m?this.tokenMax:m.pmax);case "while":return c=this.parseExpr(),f=this.parseExpr(),this.mk(E.EWhile(c,f),b,f.pmax);case "for":this.ensure(I.TPOpen);f=this.token();c=null;switch(f[1]){case 2:c=f[2];break;default:this.unexpected(f)}f=this.token();Aa.enumEq(f,I.TId("in"))||this.unexpected(f);f=this.parseExpr();this.ensure(I.TPClose);a=this.parseExpr();
return this.mk(E.EFor(c,f,a),b,a.pmax);case "break":return this.mk(E.EBreak,null,null);case "continue":return this.mk(E.EContinue,null,null);case "else":return this.unexpected(I.TId(a));case "function":a=this.token();c=null;switch(a[1]){case 2:c=a[2];break;default:this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax}this.ensure(I.TPOpen);f=[];a=this.token();if(a!=I.TPClose)for(m=!1;!m;){var d=null,g=!1;switch(a[1]){case 13:g=!0,
a=this.token()}switch(a[1]){case 2:d=a[2];break;default:this.unexpected(a)}a=this.token();d={name:d};f.push(d);g&&(d.opt=!0);a==I.TDoubleDot&&this.allowTypes&&(d.t=this.parseType(),a=this.token());switch(a[1]){case 9:a=this.token();break;case 5:m=!0;break;default:this.unexpected(a)}}m=null;this.allowTypes&&(a=this.token(),a!=I.TDoubleDot?(this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax):m=this.parseType());a=this.parseExpr();
return this.mk(E.EFunction(f,a,c,m),b,a.pmax);case "return":return c=this.token(),this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,c=c==I.TSemicolon?null:this.parseExpr(),this.mk(E.EReturn(c),b,null==c?this.tokenMax:c.pmax);case "new":c=[];f=this.token();switch(f[1]){case 2:c.push(f[2]);break;default:this.unexpected(f)}for(a=!0;a;)switch(f=this.token(),f[1]){case 8:f=this.token();switch(f[1]){case 2:c.push(f[2]);break;default:this.unexpected(f)}break;
case 4:a=!1;break;default:this.unexpected(f)}f=this.parseExprList(I.TPClose);return this.mk(E.ENew(c.join("."),f),b,null);case "throw":return c=this.parseExpr(),this.mk(E.EThrow(c),b,c.pmax);case "try":c=this.parseExpr();m=this.token();Aa.enumEq(m,I.TId("catch"))||this.unexpected(m);this.ensure(I.TPOpen);m=this.token();switch(m[1]){case 2:f=m[2];break;default:f=this.unexpected(m)}this.ensure(I.TDoubleDot);a=null;this.allowTypes?a=this.parseType():(m=this.token(),Aa.enumEq(m,I.TId("Dynamic"))||this.unexpected(m));
this.ensure(I.TPClose);m=this.parseExpr();return this.mk(E.ETry(c,f,a,m),b,m.pmax);case "switch":a=this.parseExpr();m=null;g=[];this.ensure(I.TBrOpen);try{for(;;)switch(c=this.token(),c[1]){case 2:switch(c[2]){case "case":d={values:[],expr:null};g.push(d);try{for(;;)switch(f=this.parseExpr(),d.values.push(f),c=this.token(),c[1]){case 9:break;case 14:throw"__break__";default:this.unexpected(c)}}catch(e){if("__break__"!=e)throw e;}var h=[];try{for(;;)switch(c=this.token(),this.tokens.push({t:c,min:this.tokenMin,
max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,c[1]){case 2:switch(c[2]){case "case":case "default":throw"__break__";default:h.push(this.parseFullExpr())}break;case 7:throw"__break__";default:h.push(this.parseFullExpr())}}catch(k){if("__break__"!=k)throw k;}d.expr=1==h.length?h[0]:0==h.length?this.mk(E.EBlock([]),this.tokenMin,this.tokenMin):this.mk(E.EBlock(h),h[0].pmin,h[h.length-1].pmax);break;case "default":null!=m&&this.unexpected(c);this.ensure(I.TDoubleDot);
d=[];try{for(;;)switch(c=this.token(),this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,c[1]){case 2:switch(c[2]){case "case":case "default":throw"__break__";default:d.push(this.parseFullExpr())}break;case 7:throw"__break__";default:d.push(this.parseFullExpr())}}catch(q){if("__break__"!=q)throw q;}m=1==d.length?d[0]:0==d.length?this.mk(E.EBlock([]),this.tokenMin,this.tokenMin):this.mk(E.EBlock(d),d[0].pmin,d[d.length-1].pmax);
break;default:this.unexpected(c)}break;case 7:throw"__break__";default:this.unexpected(c)}}catch(l){if("__break__"!=l)throw l;}return this.mk(E.ESwitch(a,g,m),b,this.tokenMax);default:return null}},parseExprNext:function(a){var b=this.token();switch(b[1]){case 3:var c=b[2];if(this.unops.get(c)){var f;if(!(f=this.isBlock(a)))switch(a.e[1]){case 3:f=!0;break;default:f=!1}return f?(this.tokens.push({t:b,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,
a):this.parseExprNext(this.mk(E.EUnop(c,!1,a),a.pmin,null))}return this.makeBinop(c,a,this.parseExpr());case 8:b=this.token();c=null;switch(b[1]){case 2:c=b[2];break;default:this.unexpected(b)}return this.parseExprNext(this.mk(E.EField(a,c),a.pmin,null));case 4:return this.parseExprNext(this.mk(E.ECall(a,this.parseExprList(I.TPClose)),a.pmin,null));case 11:return b=this.parseExpr(),this.ensure(I.TBkClose),this.parseExprNext(this.mk(E.EArray(a,b),a.pmin,null));case 13:return b=this.parseExpr(),this.ensure(I.TDoubleDot),
c=this.parseExpr(),this.mk(E.ETernary(a,b,c),a.pmin,c.pmax);default:return this.tokens.push({t:b,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,a}},parseType:function(){var a=this.token();switch(a[1]){case 2:for(var b=[a[2]];;){a=this.token();if(a!=I.TDot)break;a=this.token();switch(a[1]){case 2:b.push(a[2]);break;default:this.unexpected(a)}}var c=null;switch(a[1]){case 3:if("<"==a[2]){c=[];try{for(;;){c.push(this.parseType());a=this.token();switch(a[1]){case 9:continue;
case 3:if(">"==a[2])throw"__break__";}this.unexpected(a)}}catch(f){if("__break__"!=f)throw f;}}else this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax;break;default:this.tokens.push({t:a,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax}return this.parseTypeNext(Xb.CTPath(b,c));case 4:return a=this.parseType(),this.ensure(I.TPClose),this.parseTypeNext(Xb.CTParent(a));case 6:b=[];
try{for(;;)switch(a=this.token(),a[1]){case 7:throw"__break__";case 2:c=a[2];this.ensure(I.TDoubleDot);b.push({name:c,t:this.parseType()});a=this.token();switch(a[1]){case 9:break;case 7:throw"__break__";default:this.unexpected(a)}break;default:this.unexpected(a)}}catch(m){if("__break__"!=m)throw m;}return this.parseTypeNext(Xb.CTAnon(b));default:return this.unexpected(a)}},parseTypeNext:function(a){var b=this.token();switch(b[1]){case 3:if("->"!=b[2])return this.tokens.push({t:b,min:this.tokenMin,
max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,a;break;default:return this.tokens.push({t:b,min:this.tokenMin,max:this.tokenMax}),this.tokenMin=this.oldTokenMin,this.tokenMax=this.oldTokenMax,a}b=this.parseType();switch(b[1]){case 1:return b[2].unshift(a),b;default:return Xb.CTFun([a],b)}},parseExprList:function(a){var b=[],c=this.token();if(c==a)return b;this.tokens.push({t:c,min:this.tokenMin,max:this.tokenMax});this.tokenMin=this.oldTokenMin;this.tokenMax=this.oldTokenMax;
try{for(;;)switch(b.push(this.parseExpr()),c=this.token(),c[1]){case 9:break;default:if(c==a)throw"__break__";this.unexpected(c)}}catch(f){if("__break__"!=f)throw f;}return b},readChar:function(){this.readPos++;try{return this.input.readByte()}catch(a){return a instanceof F&&(a=a.val),0}},readString:function(a){for(var b=0,c=new ud,f=!1,m=this.line,g=this.input,d=this.readPos-1;;){try{this.readPos++,b=g.readByte()}catch(e){throw e instanceof F&&(e=e.val),this.line=m,new F(new mc(ja.EUnterminatedString,
d,d));}if(f)switch(f=!1,b){case 110:c.writeByte(10);break;case 114:c.writeByte(13);break;case 116:c.writeByte(9);break;case 39:case 34:case 92:c.writeByte(b);break;case 47:this.allowJSON?c.writeByte(b):this.invalidChar(b);break;case 117:if(!this.allowJSON)throw new F(this.invalidChar(b));var h=null;try{this.readPos++,this.readPos++,this.readPos++,this.readPos++,h=g.readString(4)}catch(k){throw k instanceof F&&(k=k.val),this.line=m,new F(new mc(ja.EUnterminatedString,d,d));}for(var q=0,l=0;4>l;){var x=
l++,q=q<<4,x=G.cca(h,x);if(null!=x)switch(x){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:q+=x-48;break;case 65:case 66:case 67:case 68:case 69:case 70:q+=x-55;break;case 97:case 98:case 99:case 100:case 101:case 102:q+=x-87;break;default:this.invalidChar(x)}else this.invalidChar(x)}127>=q?c.writeByte(q):(2047>=q?c.writeByte(192|q>>6):(c.writeByte(224|q>>12),c.writeByte(128|q>>6&63)),c.writeByte(128|q&63));break;default:this.invalidChar(b)}else if(92==b)f=!0;else if(b==
a)break;else 10==b&&this.line++,c.writeByte(b)}return c.getBytes().toString()},token:function(){var a=this.tokens.pop();if(null!=a)return this.tokenMin=a.min,this.tokenMax=a.max,a.t;this.oldTokenMin=this.tokenMin;this.oldTokenMax=this.tokenMax;this.tokenMin=0>this["char"]?this.readPos:this.readPos-1;a=this._token();this.tokenMax=0>this["char"]?this.readPos-1:this.readPos-2;return a},_token:function(){var a;0>this["char"]?a=this.readChar():(a=this["char"],this["char"]=-1);for(;;){switch(a){case 0:return I.TEof;
case 32:case 9:case 13:this.tokenMin++;break;case 10:this.line++;this.tokenMin++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var b=1*(a-48),c=0;;)switch(a=this.readChar(),c*=10,a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.push(I.TOp("...")),a=b|0,I.TConst(a==b?ub.CInt(a):ub.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);
for(var f=0;;)switch(a=this.readChar(),a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f=(f<<4)+a-48;break;case 65:case 66:case 67:case 68:case 69:case 70:f=(f<<4)+(a-55);break;case 97:case 98:case 99:case 100:case 101:case 102:f=(f<<4)+(a-87);break;default:return this["char"]=a,I.TConst(ub.CInt(f))}break;default:return this["char"]=a,a=b|0,I.TConst(0<c?ub.CFloat(10*b/c):a==b?ub.CInt(a):ub.CFloat(b))}break;case 59:return I.TSemicolon;case 40:return I.TPOpen;case 41:return I.TPClose;
case 44:return I.TComma;case 46:a=this.readChar();switch(a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=10*b+(a-48);break;default:return this["char"]=a,I.TConst(ub.CFloat(b/c))}break;case 46:return a=this.readChar(),46!=a&&this.invalidChar(a),I.TOp("...");default:return this["char"]=a,I.TDot}break;case 123:return I.TBrOpen;case 125:return I.TBrClose;
case 91:return I.TBkOpen;case 93:return I.TBkClose;case 39:return I.TConst(ub.CString(this.readString(39)));case 34:return I.TConst(ub.CString(this.readString(34)));case 63:return I.TQuestion;case 58:return I.TDoubleDot;default:if(this.ops[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.ops[a]){if(47==G.cca(b,0))return this.tokenComment(b,a);this["char"]=a;return I.TOp(b)}b+=String.fromCharCode(a)}if(this.idents[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.idents[a])return this["char"]=
a,I.TId(b);b+=String.fromCharCode(a)}this.invalidChar(a)}a=this.readChar()}return null},tokenComment:function(a,b){var c=G.cca(a,1),f=this.input;if(47==c){try{for(;10!=b&&13!=b;)this.readPos++,b=f.readByte();this["char"]=b}catch(m){m instanceof F&&(m=m.val)}return this.token()}if(42==c){c=this.line;try{for(;;){for(;42!=b;)10==b&&this.line++,this.readPos++,b=f.readByte();this.readPos++;b=f.readByte();if(47==b)break}}catch(g){throw g instanceof F&&(g=g.val),this.line=c,new F(new mc(ja.EUnterminatedComment,
this.tokenMin,this.tokenMin));}return this.token()}this["char"]=b;return I.TOp(a)},constString:function(a){switch(a[1]){case 0:return a=a[2],null==a?"null":""+a;case 1:return a=a[2],null==a?"null":""+a;case 2:return a[2]}},tokenString:function(a){switch(a[1]){case 0:return"<eof>";case 1:return this.constString(a[2]);case 2:return a[2];case 3:return a[2];case 4:return"(";case 5:return")";case 6:return"{";case 7:return"}";case 8:return".";case 9:return",";case 10:return";";case 11:return"[";case 12:return"]";
case 13:return"?";case 14:return":"}},__class__:ee};var F=function(a){Error.call(this);this.val=a;Object.prototype.hasOwnProperty.call(a,"name")?this.name=X.field(a,"name"):this.name="Error";Object.prototype.hasOwnProperty.call(a,"message")?this.message=X.field(a,"message"):this.message=N.string(a);Error.captureStackTrace&&Error.captureStackTrace(this,F)};q["js._Boot.HaxeError"]=F;F.__name__=!0;F.__super__=Error;F.prototype=u(Error.prototype,{__class__:F});var T=function(){};q["js.Boot"]=T;T.__name__=
!0;T.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};T.__trace=function(a,b){var c;c=null!=b?b.fileName+":"+b.lineNumber+": ":"";c+=T.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var f=0,m=b.customParams;f<m.length;){var g=m[f];++f;c+=","+T.__string_rec(g,"")}var e;"undefined"!=typeof document&&null!=(e=document.getElementById("haxe:trace"))?e.innerHTML+=T.__unhtml(c)+"<br/>":"undefined"!=typeof d&&null!=d.log&&d.log(c)};T.getClass=
function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=T.__nativeClassName(a);return null!=a?T.__resolveNativeClass(a):null};T.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var f=2,m=a.length;f<m;)var g=f++,c=2!=g?c+(","+T.__string_rec(a[g],
b)):c+T.__string_rec(a[g],b);return c+")"}c=a.length;f="[";b+="\t";for(m=0;m<c;)g=m++,f+=(0<g?",":"")+T.__string_rec(a[g],b);return f+"]"}try{f=a.toString}catch(d){return d instanceof F&&(d=d.val),"???"}if(null!=f&&f!=Object.toString&&"function"==typeof f&&(c=a.toString(),"[object Object]"!=c))return c;c=null;f="{\n";b+="\t";m=null!=a.hasOwnProperty;for(c in a)m&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=f.length&&(f+=", \n"),
f+=b+c+" : "+T.__string_rec(a[c],b));b=b.substring(1);return f+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};T.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var f=0,m=c.length;f<m;){var g=f++,g=c[g];if(g==b||T.__interfLoop(g,b))return!0}return T.__interfLoop(a.__super__,b)};T.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Tf:return(a|0)===a;case Mc:return"number"==typeof a;case wf:return"boolean"==
typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Uf:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||T.__interfLoop(T.getClass(a),b))return!0}else{if("object"==typeof b&&T.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Vf&&null!=a.__name__||b==Wf&&null!=a.__ename__?!0:a.__enum__==b}};T.__cast=function(a,b){if(T.__instanceof(a,b))return a;throw new F("Cannot cast "+N.string(a)+" to "+N.string(b));};T.__nativeClassName=
function(a){a=T.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};T.__isNativeObj=function(a){return null!=T.__nativeClassName(a)};T.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var Yb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};q["js.html.compat.ArrayBuffer"]=Yb;Yb.__name__=!0;Yb.sliceImpl=
function(a,b){var c=new jb(this,a,null==b?null:b-a),f=new he(c.byteLength);(new jb(f)).set(c);return f};Yb.prototype={slice:function(a,b){return new Yb(this.a.slice(a,b))},__class__:Yb};var te=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new F(Za.OutsideBounds);};q["js.html.compat.DataView"]=te;te.__name__=!0;te.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];
return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,f=this.buf.a[c++],m=this.buf.a[c++],g=this.buf.a[c++],c=this.buf.a[c++];return b?f|m<<8|g<<16|c<<24:c|g<<8|m<<16|f<<24},getUint32:function(a,b){var c=this.getInt32(a,
b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Vb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),f=this.getInt32(a+4,b);return Vb.i64ToDouble(b?c:f,b?f:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>
8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Vb.floatToI32(b),c)},setFloat64:function(a,b,c){b=Vb.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),
this.setUint32(a,b.low))},__class__:te};var oc=function(){};q["js.html.compat.Uint8Array"]=oc;oc.__name__=!0;oc._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var f=b++;c[f]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Yb(c)}else if(T.__instanceof(a,Yb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Yb(c);
else throw new F("TODO "+N.string(a));c.subarray=oc._subarray;c.set=oc._set;return c};oc._set=function(a,b){if(T.__instanceof(a.buffer,Yb)){if(a.byteLength+b>this.byteLength)throw new F("set() outside of range");for(var c=0,f=a.byteLength;c<f;){var m=c++;this[m+b]=a[m]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new F("set() outside of range");c=0;for(f=a.length;c<f;)m=c++,this[m+b]=a[m]}else throw new F("TODO");};oc._subarray=function(a,b){var c=oc._new(this.slice(a,
b));c.byteOffset=a;return c};var ue=function(){this.enabled=!0;this.audio=new aa;this.font=new aa;this.image=new aa};q["lime.AssetCache"]=ue;ue.__name__=!0;ue.prototype={clear:function(a){if(null==a)this.audio=new aa,this.font=new aa,this.image=new aa;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();W.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),W.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),W.startsWith(c,
a)&&this.image.remove(c)}},__class__:ue};var Pa=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Void_Void"]=Pa;Pa.__name__=!0;Pa.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var g=f++;if(c>this.priorities[g]){this.listeners.splice(g,0,a);this.priorities.splice(g,0,c);this.repeat.splice(g,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=
--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(){for(var a=this.listeners,b=this.repeat,c=0;c<a.length;)a[c](),b[c]?c++:this.remove(a[c])},__class__:Pa};var Y=function(){};q["lime.Assets"]=Y;Y.__name__=!0;Y.exists=function(a,b){Y.initialize();null==b&&(b="BINARY");var c=a.substring(0,a.indexOf(":")),f;f=a.indexOf(":")+1;f=G.substr(a,f,null);c=Y.getLibrary(c);return null!=c?c.exists(f,b):!1};Y.getFont=
function(a,b){null==b&&(b=!0);Y.initialize();if(b&&Y.cache.enabled&&Y.cache.font.exists(a))return Y.cache.font.get(a);var c=a.substring(0,a.indexOf(":")),f;f=a.indexOf(":")+1;f=G.substr(a,f,null);var m=Y.getLibrary(c);if(null!=m)if(m.exists(f,"FONT")){if(m.isLocal(f,"FONT"))return c=m.getFont(f),b&&Y.cache.enabled&&Y.cache.font.set(a,c),c;Ka.trace('[Assets] Font asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:234,className:"lime.Assets",methodName:"getFont"})}else Ka.trace('[Assets] There is no Font asset with an ID of "'+
a+'"',{fileName:"Assets.hx",lineNumber:240,className:"lime.Assets",methodName:"getFont"});else Ka.trace('[Assets] There is no asset library named "'+c+'"',{fileName:"Assets.hx",lineNumber:246,className:"lime.Assets",methodName:"getFont"});return null};Y.getImage=function(a,b){null==b&&(b=!0);Y.initialize();if(b&&Y.cache.enabled&&Y.cache.image.exists(a)){var c=Y.cache.image.get(a);if(Y.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),f;f=a.indexOf(":")+1;f=G.substr(a,f,null);var m=Y.getLibrary(c);
if(null!=m)if(m.exists(f,"IMAGE")){if(m.isLocal(f,"IMAGE"))return c=m.getImage(f),b&&Y.cache.enabled&&Y.cache.image.set(a,c),c;Ka.trace('[Assets] Image asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:304,className:"lime.Assets",methodName:"getImage"})}else Ka.trace('[Assets] There is no Image asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:310,className:"lime.Assets",methodName:"getImage"});else Ka.trace('[Assets] There is no asset library named "'+c+
'"',{fileName:"Assets.hx",lineNumber:316,className:"lime.Assets",methodName:"getImage"});return null};Y.getLibrary=function(a){if(null==a||""==a)a="default";return Y.libraries.get(a)};Y.getText=function(a){Y.initialize();var b=a.substring(0,a.indexOf(":")),c;c=a.indexOf(":")+1;c=G.substr(a,c,null);var f=Y.getLibrary(b);if(null!=f)if(f.exists(c,"TEXT")){if(f.isLocal(c,"TEXT"))return f.getText(c);Ka.trace('[Assets] String asset "'+a+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:407,
className:"lime.Assets",methodName:"getText"})}else Ka.trace('[Assets] There is no String asset with an ID of "'+a+'"',{fileName:"Assets.hx",lineNumber:413,className:"lime.Assets",methodName:"getText"});else Ka.trace('[Assets] There is no asset library named "'+b+'"',{fileName:"Assets.hx",lineNumber:419,className:"lime.Assets",methodName:"getText"});return null};Y.initialize=function(){Y.initialized||(Y.registerLibrary("default",new lc),Y.initialized=!0)};Y.isValidImage=function(a){return!0};Y.registerLibrary=
function(a,b){if(Y.libraries.exists(a)){if(Y.libraries.get(a)==b)return;Y.unloadLibrary(a)}null!=b&&b.onChange.add(Y.library_onChange);Y.libraries.set(a,b)};Y.unloadLibrary=function(a){Y.initialize();var b=Y.libraries.get(a);null!=b&&(Y.cache.clear(a+":"),b.onChange.remove(Y.library_onChange),b.unload());Y.libraries.remove(a)};Y.library_onChange=function(){Y.cache.clear();Y.onChange.dispatch()};var ve=function(a){this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=
-1;zc.init()};q["lime._backend.html5.HTML5Application"]=ve;ve.__name__=!0;ve.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;
case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;
case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",z(this,this.handleKeyEvent),!1);window.addEventListener("keyup",z(this,this.handleKeyEvent),!1);window.addEventListener("focus",z(this,this.handleWindowEvent),!1);window.addEventListener("blur",z(this,this.handleWindowEvent),!1);window.addEventListener("resize",z(this,this.handleWindowEvent),
!1);window.addEventListener("beforeunload",z(this,this.handleWindowEvent),!1);for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var g=(new Date).getTime(),d=Math.max(0,16-(g-a)),e=window.setTimeout(function(){b(g+
d)},d);a=g+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&
(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(z(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?
this.parent.windows[0].onKeyDown.dispatch(b,c):this.parent.windows[0].onKeyUp.dispatch(b,c)}},handleWindowEvent:function(a){if(null!=this.parent.windows[0])switch(a.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();break;case "blur":this.parent.windows[0].onFocusOut.dispatch();this.parent.windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.windows[0].__width;var b=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();
this.parent.windows[0].__width==a&&this.parent.windows[0].__height==b||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},__class__:ve};var pc=function(){};q["lime._backend.html5.HTML5Mouse"]=pc;pc.__name__=!0;pc.__cursor=null;pc.__hidden=null;pc.set_cursor=function(a){if(pc.__cursor!=a){if(!pc.__hidden)for(var b=
0,c=kb.current.windows;b<c.length;){var f=c[b];++b;switch(a[1]){case 0:f.backend.element.style.cursor="default";break;case 1:f.backend.element.style.cursor="crosshair";break;case 3:f.backend.element.style.cursor="move";break;case 4:f.backend.element.style.cursor="pointer";break;case 5:f.backend.element.style.cursor="nesw-resize";break;case 6:f.backend.element.style.cursor="ns-resize";break;case 7:f.backend.element.style.cursor="nwse-resize";break;case 8:f.backend.element.style.cursor="ew-resize";
break;case 9:f.backend.element.style.cursor="text";break;case 10:f.backend.element.style.cursor="wait";break;case 11:f.backend.element.style.cursor="wait";break;default:f.backend.element.style.cursor="auto"}}pc.__cursor=a}return pc.__cursor};var we=function(a){this.parent=a};q["lime._backend.html5.HTML5Renderer"]=we;we.__name__=!0;we.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",z(this,
this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",z(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=Ta.DOM(this.parent.window.backend.div),this.parent.type=za.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=Ta.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=za.CANVAS)},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();
this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:we};var ia=function(a){this.unusedTouchesPool=new zb;this.currentTouches=new Kb;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element)};q["lime._backend.html5.HTML5Window"]=ia;ia.__name__=!0;ia.textInput=null;ia.prototype={close:function(){this.parent.application.removeWindow(this.parent)},
create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=ia.windowID++;T.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform",
"translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),
this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,
z(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",z(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",z(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",z(this,this.handleTouchEvent),!0)}},getDisplay:function(){return Nc.getDisplay(0)},handleFocusEvent:function(a){this.enableTextEvents&&tc.delay(function(){ia.textInput.focus()},
20)},handleInputEvent:function(a){""!=ia.textInput.value&&(this.parent.onTextInput.dispatch(ia.textInput.value),ia.textInput.value="")},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),
b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY),a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button);break;case "mousemove":this.parent.onMouseMove.dispatch(b,c)}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){var a=
this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+
"px",this.div.style.height=this.element.clientHeight+"px")}else a=Math.min(this.element.clientWidth/this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*a+"px",this.canvas.style.height=this.setHeight*a+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px"):(this.div.style.width=this.setWidth*a+"px",this.div.style.height=
this.setHeight*a+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px")},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());for(var c=0,f=a.changedTouches;c<f.length;){var m=f[c];++c;var g=0,d=0;null!=b?(g=this.parent.__width/
b.width*(m.clientX-b.left),d=this.parent.__height/b.height*(m.clientY-b.top)):(g=m.clientX,d=m.clientY);switch(a.type){case "touchstart":var e=this.unusedTouchesPool.pop();null==e?e=new Db(g/this.setWidth,d/this.setHeight,m.identifier,0,0,m.force,this.parent.id):(e.x=g/this.setWidth,e.y=d/this.setHeight,e.id=m.identifier,e.dx=0,e.dy=0,e.pressure=m.force,e.device=this.parent.id);this.currentTouches.h[m.identifier]=e;Db.onStart.dispatch(e);null==this.primaryTouch&&(this.primaryTouch=e);e==this.primaryTouch&&
this.parent.onMouseDown.dispatch(g,d,0);break;case "touchend":e=this.currentTouches.h[m.identifier];if(null!=e){var h=e.x,k=e.y;e.x=g/this.setWidth;e.y=d/this.setHeight;e.dx=e.x-h;e.dy=e.y-k;e.pressure=m.force;Db.onEnd.dispatch(e);this.currentTouches.remove(m.identifier);this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.parent.onMouseUp.dispatch(g,d,0),this.primaryTouch=null)}break;case "touchmove":e=this.currentTouches.h[m.identifier],null!=e&&(h=e.x,k=e.y,e.x=g/this.setWidth,e.y=d/this.setHeight,
e.dx=e.x-h,e.dy=e.y-k,e.pressure=m.force,Db.onMove.dispatch(e),e==this.primaryTouch&&this.parent.onMouseMove.dispatch(g,d))}}},resize:function(a,b){},setEnableTextEvents:function(a){a?(null==ia.textInput&&(ia.textInput=window.document.createElement("input"),ia.textInput.type="text",ia.textInput.style.position="absolute",ia.textInput.style.opacity="0",ia.textInput.style.color="transparent",ia.textInput.value="",ia.textInput.autocapitalize="off",ia.textInput.autocorrect="off",ia.textInput.autocomplete=
"off",ia.textInput.style.left="0px",ia.textInput.style.top="50%",(new Ob("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(ia.textInput.style.fontSize="0px",ia.textInput.style.width="0px",ia.textInput.style.height="0px"):(ia.textInput.style.width="1px",ia.textInput.style.height="1px"),ia.textInput.style.pointerEvents="none",ia.textInput.style.zIndex="-10000000",window.document.body.appendChild(ia.textInput)),this.enableTextEvents||(ia.textInput.addEventListener("input",z(this,
this.handleInputEvent),!0),ia.textInput.addEventListener("blur",z(this,this.handleFocusEvent),!0)),ia.textInput.focus()):null!=ia.textInput&&(ia.textInput.removeEventListener("input",z(this,this.handleInputEvent),!0),ia.textInput.removeEventListener("blur",z(this,this.handleFocusEvent),!0),ia.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){return!1},__class__:ia};var zd=function(){};q["lime.app.IModule"]=zd;zd.__name__=!0;zd.prototype={__class__:zd};var ed=function(){this.onExit=
new Ac};q["lime.app.Module"]=ed;ed.__name__=!0;ed.__interfaces__=[zd];ed.prototype={onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,
b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,f){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,f){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,f){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},
onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__class__:ed};var kb=function(){this.onUpdate=new Ac;this.onExit=
new Ac;null==kb.current&&(kb.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new Kb;this.backend=new ve(this);this.onExit.add(z(this,this.onModuleExit));this.onUpdate.add(z(this,this.update));Ad.onConnect.add(z(this,this.onGamepadConnect));Bd.onConnect.add(z(this,this.onJoystickConnect));Db.onStart.add(z(this,this.onTouchStart));Db.onMove.add(z(this,this.onTouchMove));Db.onEnd.add(z(this,this.onTouchEnd))};q["lime.app.Application"]=kb;kb.__name__=!0;kb.current=null;
kb.__super__=ed;kb.prototype=u(ed.prototype,{addModule:function(a){this.modules.push(a);if(0<this.windows.length){for(var b=0,c=this.windows;b<c.length;){var f=c[b];++b;a.onWindowCreate(f)}if(null==this.preloader||this.preloader.complete)a.onPreloadComplete()}},addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(z(this,this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(z(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(f){a(c,
f)}}(z(this,this.onRenderContextRestored),a));this.renderers.push(a)},createWindow:function(a){a.onActivate.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowActivate),a));a.onClose.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowClose),a));a.onCreate.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowCreate),a));a.onDeactivate.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowDeactivate),a));a.onEnter.add(function(a,b){return function(){a(b)}}(z(this,
this.onWindowEnter),a));a.onFocusIn.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowFocusOut),a));a.onFullscreen.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onKeyDown),a));a.onKeyUp.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onKeyUp),a));a.onLeave.add(function(a,b){return function(){a(b)}}(z(this,
this.onWindowLeave),a));a.onMinimize.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,b){return function(m,d,e){a(b,m,d,e)}}(z(this,this.onMouseDown),a));a.onMouseMove.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onMouseMove),a));a.onMouseMoveRelative.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,b){return function(m,d,e){a(b,m,d,e)}}(z(this,this.onMouseUp),
a));a.onMouseWheel.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onMouseWheel),a));a.onMove.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onWindowMove),a));a.onResize.add(function(a,b){return function(m,d){a(b,m,d)}}(z(this,this.onWindowResize),a));a.onRestore.add(function(a,b){return function(){a(b)}}(z(this,this.onWindowRestore),a));a.onTextEdit.add(function(a,b){return function(m,d,e){a(b,m,d,e)}}(z(this,this.onTextEdit),a));a.onTextInput.add(function(a,b){return function(m){a(b,
m)}}(z(this,this.onTextInput),a));if(null==a.renderer){var b=new xe(a);this.addRenderer(b)}a.create(this);this.windows.push(a);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){kb.current=this;return this.backend.exec()},onGamepadAxisMove:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onGamepadAxisMove(a,b,c)}},onGamepadButtonDown:function(a,b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onGamepadButtonDown(a,b)}},onGamepadButtonUp:function(a,
b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onGamepadButtonUp(a,b)}},onGamepadConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onGamepadConnect(a)}a.onAxisMove.add(function(a,b){return function(c,f){a(b,c,f)}}(z(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,b){return function(c){a(b,c)}}(z(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,b){return function(c){a(b,c)}}(z(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,
b){return function(){a(b)}}(z(this,this.onGamepadDisconnect),a))},onGamepadDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onGamepadDisconnect(a)}},onJoystickAxisMove:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onJoystickAxisMove(a,b,c)}},onJoystickButtonDown:function(a,b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onJoystickButtonDown(a,b)}},onJoystickButtonUp:function(a,b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];
++c;m.onJoystickButtonUp(a,b)}},onJoystickConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onJoystickConnect(a)}a.onAxisMove.add(function(a,b){return function(c,f){a(b,c,f)}}(z(this,this.onJoystickAxisMove),a));a.onButtonDown.add(function(a,b){return function(c){a(b,c)}}(z(this,this.onJoystickButtonDown),a));a.onButtonUp.add(function(a,b){return function(c){a(b,c)}}(z(this,this.onJoystickButtonUp),a));a.onDisconnect.add(function(a,b){return function(){a(b)}}(z(this,this.onJoystickDisconnect),
a));a.onHatMove.add(function(a,b){return function(c,f){a(b,c,f)}}(z(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,b){return function(c,f){a(b,c,f)}}(z(this,this.onJoystickTrackballMove),a))},onJoystickDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onJoystickDisconnect(a)}},onJoystickHatMove:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onJoystickHatMove(a,b,c)}},onJoystickTrackballMove:function(a,b,c){for(var f=0,m=this.modules;f<
m.length;){var d=m[f];++f;d.onJoystickTrackballMove(a,b,c)}},onKeyDown:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onKeyDown(a,b,c)}},onKeyUp:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onKeyUp(a,b,c)}},onModuleExit:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onModuleExit(a)}this.backend.exit()},onMouseDown:function(a,b,c,f){for(var m=0,d=this.modules;m<d.length;){var e=d[m];++m;e.onMouseDown(a,b,c,f)}},onMouseMove:function(a,
b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onMouseMove(a,b,c)}},onMouseMoveRelative:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onMouseMoveRelative(a,b,c)}},onMouseUp:function(a,b,c,f){for(var m=0,d=this.modules;m<d.length;){var e=d[m];++m;e.onMouseUp(a,b,c,f)}},onMouseWheel:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onMouseWheel(a,b,c)}},onPreloadComplete:function(){for(var a=0,b=this.modules;a<b.length;){var c=b[a];++a;
c.onPreloadComplete()}},onPreloadProgress:function(a,b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onPreloadProgress(a,b)}},onRenderContextLost:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onRenderContextLost(a)}},onRenderContextRestored:function(a,b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onRenderContextRestored(a,b)}},onTextEdit:function(a,b,c,f){for(var m=0,d=this.modules;m<d.length;){var e=d[m];++m;e.onTextEdit(a,b,c,f)}},onTextInput:function(a,
b){for(var c=0,f=this.modules;c<f.length;){var m=f[c];++c;m.onTextInput(a,b)}},onTouchEnd:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onTouchEnd(a)}},onTouchMove:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onTouchMove(a)}},onTouchStart:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onTouchStart(a)}},onWindowActivate:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowActivate(a)}},onWindowClose:function(a){for(var b=
0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowClose(a)}this.removeWindow(a)},onWindowCreate:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowCreate(a)}},onWindowDeactivate:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowDeactivate(a)}},onWindowEnter:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowEnter(a)}},onWindowFocusIn:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowFocusIn(a)}},
onWindowFocusOut:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowFocusOut(a)}},onWindowFullscreen:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowFullscreen(a)}},onWindowLeave:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowLeave(a)}},onWindowMinimize:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowMinimize(a)}},onWindowMove:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=
m[f];++f;d.onWindowMove(a,b,c)}},onWindowResize:function(a,b,c){for(var f=0,m=this.modules;f<m.length;){var d=m[f];++f;d.onWindowResize(a,b,c)}},onWindowRestore:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.onWindowRestore(a)}},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(G.remove(this.windows,a),this.windowByID.remove(a.id),a.close(),this.windows[0]==a&&(this.window=null))},render:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];
++b;f.render(a)}},setPreloader:function(a){null!=this.preloader&&(this.preloader.onProgress.remove(z(this,this.onPreloadProgress)),this.preloader.onComplete.remove(z(this,this.onPreloadComplete)));this.preloader=a;if(a.complete)this.onPreloadComplete();else a.onProgress.add(z(this,this.onPreloadProgress)),a.onComplete.add(z(this,this.onPreloadComplete))},update:function(a){for(var b=0,c=this.modules;b<c.length;){var f=c[b];++b;f.update(a)}},__class__:kb});var Cd=function(){this.listeners=[];this.priorities=
[];this.repeat=[]};q["lime.app.Event_Float_Float_Int_Void"]=Cd;Cd.__name__=!0;Cd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,
1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b,c){for(var f=this.listeners,m=this.repeat,d=0;d<f.length;)f[d](a,b,c),m[d]?d++:this.remove(f[d])},__class__:Cd};var Oc=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Float_Float_Void"]=Oc;Oc.__name__=!0;Oc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,
0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,f=this.repeat,m=0;m<c.length;)c[m](a,b),f[m]?m++:this.remove(c[m])},__class__:Oc};var Dd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Int_Float_Void"]=
Dd;Dd.__name__=!0;Dd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:Dd};var Ed=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Int_Int_Void"]=Ed;Ed.__name__=!0;Ed.prototype={add:function(a,b,c){null==c&&
(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,f=this.repeat,
m=0;m<c.length;)c[m](a,b),f[m]?m++:this.remove(c[m])},__class__:Ed};var Ac=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Int_Void"]=Ac;Ac.__name__=!0;Ac.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=
this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,f=0;f<b.length;)b[f](a),c[f]?f++:this.remove(b[f])},__class__:Ac};var ye=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=ye;ye.__name__=!0;ye.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=
this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:ye};var ze=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_String_Int_Int_Void"]=ze;ze.__name__=!0;ze.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,
0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:ze};var Ae=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_String_Void"]=Ae;Ae.__name__=!0;Ae.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);
return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},has:function(a){for(var b=0,c=this.listeners;b<c.length;){var f=c[b];++b;if(X.compareMethods(f,a))return!0}return!1},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,f=0;f<b.length;)b[f](a),c[f]?f++:this.remove(b[f])},__class__:Ae};var Be=
function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_graphics_RenderContext_Void"]=Be;Be.__name__=!0;Be.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],
a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,f=0;f<b.length;)b[f](a),c[f]?f++:this.remove(b[f])},__class__:Be};var Ce=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_net_URLLoader_Int_Int_Void"]=Ce;Ce.__name__=!0;Ce.prototype={remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,
1),this.repeat.splice(b,1))},dispatch:function(a,b,c){for(var f=this.listeners,m=this.repeat,d=0;d<f.length;)f[d](a,b,c),m[d]?d++:this.remove(f[d])},__class__:Ce};var De=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_net_URLLoader_Int_Void"]=De;De.__name__=!0;De.prototype={remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,
b){for(var c=this.listeners,f=this.repeat,m=0;m<c.length;)c[m](a,b),f[m]?m++:this.remove(c[m])},__class__:De};var Fd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_net_URLLoader_String_Void"]=Fd;Fd.__name__=!0;Fd.prototype={remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,f=this.repeat,
m=0;m<c.length;)c[m](a,b),f[m]?m++:this.remove(c[m])},__class__:Fd};var Gd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_net_URLLoader_Void"]=Gd;Gd.__name__=!0;Gd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},
remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,f=0;f<b.length;)b[f](a),c[f]?f++:this.remove(b[f])},__class__:Gd};var Ee=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Ee;Ee.__name__=!0;Ee.prototype={add:function(a,b,c){null==c&&(c=0);null==
b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:Ee};var Hd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_GamepadButton_Void"]=Hd;Hd.__name__=!0;Hd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<
m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:Hd};var Fe=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_Gamepad_Void"]=Fe;Fe.__name__=!0;Fe.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,
0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:Fe};var Ge=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_Joystick_Void"]=Ge;Ge.__name__=!0;Ge.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,
0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:Ge};var Id=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Id;Id.__name__=!0;Id.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);
this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,f=this.repeat,m=0;m<c.length;)c[m](a,b),f[m]?m++:this.remove(c[m])},__class__:Id};var fd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};q["lime.app.Event_lime_ui_Touch_Void"]=fd;fd.__name__=!0;fd.prototype={add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var f=0,m=this.priorities.length;f<m;){var d=f++;if(c>this.priorities[d]){this.listeners.splice(d,0,a);this.priorities.splice(d,0,c);this.repeat.splice(d,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)X.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,
c=this.repeat,f=0;f<b.length;)b[f](a),c[f]?f++:this.remove(b[f])},__class__:fd};var Qa=function(){this.loaded=this.total=0;this.onProgress=new Ed;this.onComplete=new Pa;this.onProgress.add(z(this,this.update))};q["lime.app.Preloader"]=Qa;Qa.__name__=!0;Qa.prototype={create:function(a){},load:function(a,b){for(var c=null,f=0,m=a.length;f<m;){var d=f++,c=a[d];switch(b[d]){case "IMAGE":Qa.images.exists(c)||(d=new Image,Qa.images.set(c,d),d.onload=z(this,this.image_onLoad),d.src=c,this.total++);break;
case "BINARY":Qa.loaders.exists(c)||(d=new Jd,d.set_dataFormat(lb.BINARY),Qa.loaders.set(c,d),this.total++);break;case "TEXT":Qa.loaders.exists(c)||(d=new Jd,Qa.loaders.set(c,d),this.total++);break;case "FONT":this.total++,this.loadFont(c)}}for(c=Qa.loaders.keys();c.hasNext();)f=c.next(),m=Qa.loaders.get(f),m.onComplete.add(z(this,this.loader_onComplete)),m.load(new He(f));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(sf=window.document.fonts,z(sf,sf.load)))window.document.fonts.load("1em '"+
a+"'").then(function(a){b.loaded++;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var f=c.style;f.position="absolute";f.left="-10000px";f.top="-10000px";f.fontSize="300px";f.fontFamily="sans-serif";f.fontVariant="normal";f.fontStyle="normal";f.fontWeight="normal";f.letterSpacing="0";window.document.body.appendChild(c);var d=c.offsetWidth;f.fontFamily="'"+a+"', sans-serif";var g=null,e=!1;a=function(){if(c.offsetWidth!=
d){if(!e)return e=!0,!1;b.loaded++;null!=g&&window.clearInterval(g);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(g=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},__class__:Qa};var xf=function(){};q["lime.audio.ALAudioContext"]=xf;xf.__name__=!0;var yf=function(){};q["lime.audio.ALCAudioContext"]=yf;yf.__name__=!0;var zf=function(){};q["lime.audio.AudioBuffer"]=zf;zf.__name__=!0;var Zb=q["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Zb.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=Zb;c.toString=l;return c};Zb.HTML5=function(a){a=["HTML5",1,a];a.__enum__=
Zb;a.toString=l;return a};Zb.WEB=function(a){a=["WEB",2,a];a.__enum__=Zb;a.toString=l;return a};Zb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Zb;a.toString=l;return a};Zb.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=Zb;a.toString=l;return a};var zc=function(){};q["lime.audio.AudioManager"]=zc;zc.__name__=!0;zc.context=null;zc.init=function(a){if(null==zc.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,zc.context=Zb.WEB(new AudioContext)}catch(b){b instanceof
F&&(b=b.val),zc.context=Zb.HTML5(new Ie)}else zc.context=a};var Af=function(){};q["lime.audio.FlashAudioContext"]=Af;Af.__name__=!0;var Ie=function(){};q["lime.audio.HTML5AudioContext"]=Ie;Ie.__name__=!0;Ie.prototype={__class__:Ie};var ef=function(){};q["lime.graphics.ConsoleRenderContext"]=ef;ef.__name__=!0;ef.prototype={__class__:ef};var Bf=function(){};q["lime.graphics.FlashRenderContext"]=Bf;Bf.__name__=!0;var Jb=function(a,b,c,f,d,g,e){null==d&&(d=-1);null==f&&(f=-1);null==c&&(c=0);null==b&&
(b=0);this.offsetX=b;this.offsetY=c;this.width=f;this.height=d;if(null==e)if(null!=kb.current&&null!=kb.current.renderers[0])switch(kb.current.renderers[0].context[1]){case 2:case 1:this.type=Na.CANVAS;break;case 3:this.type=Na.FLASH;break;default:this.type=Na.DATA}else this.type=Na.DATA;else this.type=e;if(null==a){if(0<f&&0<d)switch(this.type[1]){case 0:this.buffer=new Bc(null,f,d);U.createCanvas(this,f,d);null!=g&&this.fillRect(new Lb(0,0,f,d),g);break;case 1:a=f*d*4,a=null!=a?new jb(a):null,this.buffer=
new Bc(a,f,d),null!=g&&this.fillRect(new Lb(0,0,f,d),g)}}else this.__fromImageBuffer(a)};q["lime.graphics.Image"]=Jb;Jb.__name__=!0;Jb.fromCanvas=function(a){if(null==a)return null;var b=new Bc(null,a.width,a.height);b.set_src(a);return new Jb(b)};Jb.fromImageElement=function(a){if(null==a)return null;var b=new Bc(null,a.width,a.height);b.set_src(a);return new Jb(b)};Jb.prototype={clone:function(){if(null!=this.buffer){this.type==Na.CANVAS&&null==this.buffer.__srcImage&&(U.convertToCanvas(this),U.sync(this,
!0));var a=new Jb(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.dirty=this.dirty;return a}return new Jb(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:U.colorTransform(this,a,b);break;case 1:U.convertToData(this);Ia.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),
$b.__toFlashColorTransform(b))}},copyChannel:function(a,b,c,f,d){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(d==ab.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type[1]){case 0:U.copyChannel(this,a,b,c,f,d);break;case 1:U.convertToData(this);Ia.copyChannel(this,a,b,c,f,d);break;case 2:var g;switch(f[1]){case 0:g=1;break;case 1:g=2;break;case 2:g=4;break;case 3:g=8}var e;switch(d[1]){case 0:e=
1;break;case 1:e=2;break;case 2:e=4;break;case 3:e=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),g,e)}},copyPixels:function(a,b,c,f,d,g){null==g&&(g=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=
b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),0>c.x&&(b.width+=c.x,b.x=-c.x,c.x=0),0>c.y&&(b.height+=c.y,b.y=-c.y,c.y=0),this.type[1]){case 0:U.convertToCanvas(this);U.copyPixels(this,a,b,c,f,d,g);break;case 1:U.convertToData(this);U.convertToData(a);Ia.copyPixels(this,a,b,c,f,d,g);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=f&&null!=d&&d.offset(f.offsetX,f.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,
b.__toFlashRectangle(),c.__toFlashPoint(),null!=f?f.buffer.get_src():null,null!=d?d.__toFlashPoint():null,g)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:U.fillRect(this,a,b,c);break;case 1:U.convertToData(this);if(0==this.buffer.data.length)break;Ia.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<
24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},getPixel:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return U.getPixel(this,a,b,c);case 1:return U.convertToData(this),Ia.getPixel(this,a,b,c);case 2:if(a=this.buffer.__srcBitmapData.getPixel(a+this.offsetX,b+this.offsetY),null!=c)switch(c){case 1:return a;case 2:return(a&
255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>24&255;default:return(a>>16&255)<<24|(a>>8&255)<<16|(a&255)<<8|a>>24&255}else return(a>>16&255)<<24|(a>>8&255)<<16|(a&255)<<8|a>>24&255;default:return 0}},getPixel32:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type[1]){case 0:return U.getPixel32(this,a,b,c);case 1:return U.convertToData(this),Ia.getPixel32(this,a,b,c);case 2:if(a=this.buffer.__srcBitmapData.getPixel32(a+this.offsetX,b+this.offsetY),null!=
c)switch(c){case 1:return a;case 2:return(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>24&255;default:return(a>>16&255)<<24|(a>>8&255)<<16|(a&255)<<8|a>>24&255}else return(a>>16&255)<<24|(a>>8&255)<<16|(a&255)<<8|a>>24&255;default:return 0}},setPixel32:function(a,b,c,f){if(!(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height))switch(this.type[1]){case 0:U.setPixel32(this,a,b,c,f);break;case 1:U.convertToData(this);Ia.setPixel32(this,a,b,c,f);break;case 2:if(null!=f)switch(f){case 1:break;case 2:c=
(c&255)<<24|(c>>8&255)<<16|(c>>16&255)<<8|c>>24&255;break;default:c=(c&255)<<24|(c>>24&255)<<16|(c>>16&255)<<8|c>>8&255}else c=(c&255)<<24|(c>>24&255)<<16|(c>>16&255)<<8|c>>8&255;this.buffer.__srcBitmapData.setPixel32(a+this.offsetX,b+this.offsetY,c)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-
this.height,0>=a.height)?null:a},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(U.convertToCanvas(this),U.sync(this,!1),U.createImageData(this));return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){if(this.buffer.format!=a)switch(this.type[1]){case 1:Ia.setFormat(this,a)}return this.buffer.format=
a},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 1:U.convertToData(this),Ia.multiplyAlpha(this)}else if(!a&&this.buffer.premultiplied)switch(this.type[1]){case 1:U.convertToData(this),Ia.unmultiplyAlpha(this)}return a},
get_rect:function(){return new Lb(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&U.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:Jb,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",
get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var Bc=function(a,b,c,f,d){null==f&&(f=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=f;this.format=null==d?0:d;this.transparent=!0};q["lime.graphics.ImageBuffer"]=Bc;Bc.__name__=!0;Bc.prototype={clone:function(){var a=new Bc(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,
b=null!=b?new jb(b):null;a.data=b;b=this.data;b=null!=b?new jb(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?
(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){T.__instanceof(a,
Image)?this.__srcImage=a:T.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Bc,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var ab=q["lime.graphics.ImageChannel"]={__ename__:!0,__constructs__:["RED","GREEN","BLUE","ALPHA"]};ab.RED=["RED",0];ab.RED.toString=l;ab.RED.__enum__=ab;ab.GREEN=["GREEN",1];ab.GREEN.toString=l;ab.GREEN.__enum__=ab;ab.BLUE=
["BLUE",2];ab.BLUE.toString=l;ab.BLUE.__enum__=ab;ab.ALPHA=["ALPHA",3];ab.ALPHA.toString=l;ab.ALPHA.__enum__=ab;var Na=q["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Na.CANVAS=["CANVAS",0];Na.CANVAS.toString=l;Na.CANVAS.__enum__=Na;Na.DATA=["DATA",1];Na.DATA.toString=l;Na.DATA.__enum__=Na;Na.FLASH=["FLASH",2];Na.FLASH.toString=l;Na.FLASH.__enum__=Na;Na.CUSTOM=["CUSTOM",3];Na.CUSTOM.toString=l;Na.CUSTOM.__enum__=Na;var Ta=q["lime.graphics.RenderContext"]=
{__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};Ta.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=Ta;a.toString=l;return a};Ta.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=Ta;a.toString=l;return a};Ta.DOM=function(a){a=["DOM",2,a];a.__enum__=Ta;a.toString=l;return a};Ta.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Ta;a.toString=l;return a};Ta.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=Ta;a.toString=l;return a};Ta.CONSOLE=function(a){a=["CONSOLE",5,
a];a.__enum__=Ta;a.toString=l;return a};Ta.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=Ta;a.toString=l;return a};Ta.NONE=["NONE",7];Ta.NONE.toString=l;Ta.NONE.__enum__=Ta;var xe=function(a){this.onRender=new Pa;this.onContextRestored=new Be;this.onContextLost=new Pa;this.window=a;this.backend=new we(this);this.window.renderer=this};q["lime.graphics.Renderer"]=xe;xe.__name__=!0;xe.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:xe};var za=q["lime.graphics.RendererType"]=
{__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};za.OPENGL=["OPENGL",0];za.OPENGL.toString=l;za.OPENGL.__enum__=za;za.CANVAS=["CANVAS",1];za.CANVAS.toString=l;za.CANVAS.__enum__=za;za.DOM=["DOM",2];za.DOM.toString=l;za.DOM.__enum__=za;za.FLASH=["FLASH",3];za.FLASH.toString=l;za.FLASH.__enum__=za;za.CAIRO=["CAIRO",4];za.CAIRO.toString=l;za.CAIRO.__enum__=za;za.CONSOLE=["CONSOLE",5];za.CONSOLE.toString=l;za.CONSOLE.__enum__=za;za.CUSTOM=["CUSTOM",6];za.CUSTOM.toString=
l;za.CUSTOM.__enum__=za;var ff=function(){};q["lime.graphics.cairo.Cairo"]=ff;ff.__name__=!0;ff.prototype={arc:function(a,b,c,f,d){},clip:function(){},curveTo:function(a,b,c,f,d,g){},fill:function(){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(a,b,c,f){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},
get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:ff,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var gf={};q["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=gf;gf.__name__=!0;gf.fromImage=function(a){return null};var gd={};q["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=gd;gd.__name__=!0;gd.__properties__=
{set_filter:"set_filter"};gd.createForSurface=function(a){return 0};gd.set_filter=function(a,b){return b};var hf={};q["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=hf;hf.__name__=!0;hf.flush=function(a){};var tf=function(){};q["lime.graphics.opengl.GL"]=tf;tf.__name__=!0;tf.context=null;var U=function(){};q["lime.graphics.utils.ImageCanvasUtil"]=U;U.__name__=!0;U.colorTransform=function(a,b,c){U.convertToCanvas(a);U.createImageData(a);Ia.colorTransform(a,b,c)};U.convertToCanvas=function(a){var b=
a.buffer;null!=b.__srcImage?(null==b.__srcCanvas&&(U.createCanvas(a,b.__srcImage.width,b.__srcImage.height),b.__srcContext.drawImage(b.__srcImage,0,0)),b.__srcImage=null):null!=b.data&&null==b.__srcCanvas&&(U.createCanvas(a,b.width,b.height),U.createImageData(a))};U.convertToData=function(a){null==a.buffer.data&&(U.convertToCanvas(a),U.sync(a,!1),U.createImageData(a),a.buffer.__srcCanvas=null,a.buffer.__srcContext=null)};U.copyChannel=function(a,b,c,f,d,g){U.convertToCanvas(b);U.createImageData(b);
U.convertToCanvas(a);U.createImageData(a);Ia.copyChannel(a,b,c,f,d,g)};U.copyPixels=function(a,b,c,f,d,g,e){null==e&&(e=!1);null==f||f.x>=a.width||f.y>=a.height||null==c||1>c.width||1>c.height||(null!=d&&d.get_transparent()&&(null==g&&(g=new yc),b=a.clone(),b.copyChannel(d,new Lb(g.x,g.y,c.width,c.height),new yc(c.x,c.y),ab.ALPHA,ab.ALPHA)),U.sync(a,!0),e||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(f.x+a.offsetX,f.y+a.offsetY,c.width+a.offsetX,c.height+a.offsetY),U.sync(b,
!1),null!=b.buffer.get_src()&&a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,f.x+a.offsetX|0,f.y+a.offsetY|0,c.width|0,c.height|0))};U.createCanvas=function(a,b,c){var f=a.buffer;null==f.__srcCanvas&&(f.__srcCanvas=window.document.createElement("canvas"),f.__srcCanvas.width=b,f.__srcCanvas.height=c,a.get_transparent()?f.__srcContext=f.__srcCanvas.getContext("2d"):(a.get_transparent()||f.__srcCanvas.setAttribute("moz-opaque","true"),f.__srcContext=
f.__srcCanvas.getContext("2d",{alpha:!1})),f.__srcContext.mozImageSmoothingEnabled=!1,f.__srcContext.msImageSmoothingEnabled=!1,f.__srcContext.imageSmoothingEnabled=!1)};U.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new jb(b):null;a.data=b}};U.fillRect=
function(a,b,c,f){U.convertToCanvas(a);U.sync(a,!0);if(0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==(c&255))a.buffer.__srcCanvas.width=a.buffer.width;else{var d,g;1==f?(f=c>>16&255,d=c>>8&255,g=c&255,c=a.get_transparent()?c>>24&255:255):(f=c>>24&255,d=c>>16&255,g=c>>8&255,c=a.get_transparent()?c&255:255);a.buffer.__srcContext.fillStyle="rgba("+f+", "+d+", "+g+", "+c/255+")";a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)}};
U.getPixel=function(a,b,c,f){U.convertToCanvas(a);U.createImageData(a);return Ia.getPixel(a,b,c,f)};U.getPixel32=function(a,b,c,f){U.convertToCanvas(a);U.createImageData(a);return Ia.getPixel32(a,b,c,f)};U.setPixel32=function(a,b,c,f,d){U.convertToCanvas(a);U.createImageData(a);Ia.setPixel32(a,b,c,f,d)};U.sync=function(a,b){a.dirty&&null!=a.buffer.__srcImageData&&a.type!=Na.DATA&&(a.buffer.__srcContext.putImageData(a.buffer.__srcImageData,0,0),a.buffer.data=null,a.dirty=!1);b&&(a.buffer.__srcImageData=
null,a.buffer.data=null)};var Ia=function(){};q["lime.graphics.utils.ImageDataUtil"]=Ia;Ia.__name__=!0;Ia.colorTransform=function(a,b,c){var f=a.buffer.data;if(null!=f){var d=a.buffer.format,g=a.buffer.premultiplied;b=new dc(a,b);var e=$b.getAlphaTable(c),h=$b.getRedTable(c),k=$b.getGreenTable(c);c=$b.getBlueTable(c);for(var q,l,t,x=0,u=b.height;x<u;){q=x++;q=b.offset+b.stride*q;for(var r=0,v=b.width;r<v;){l=r++;l=q+4*l;switch(d){case 2:t=(f[l+2]&255)<<24|(f[l+1]&255)<<16|(f[l]&255)<<8|f[l+3]&255;
break;case 0:t=(f[l]&255)<<24|(f[l+1]&255)<<16|(f[l+2]&255)<<8|f[l+3]&255;break;case 1:t=(f[l+1]&255)<<24|(f[l+2]&255)<<16|(f[l+3]&255)<<8|f[l]&255}if(g&&0!=(t&255)&&255!=(t&255)){D.unmult=255/(t&255);var w;w=Math.round((t>>24&255)*D.unmult);w=D.__clamp[w];var z;z=Math.round((t>>16&255)*D.unmult);z=D.__clamp[z];var y=Math.round((t>>8&255)*D.unmult);t=(w&255)<<24|(z&255)<<16|(D.__clamp[y]&255)<<8|t&255}t=(h[t>>24&255]&255)<<24|(k[t>>16&255]&255)<<16|(c[t>>8&255]&255)<<8|e[t&255]&255;g&&(0==(t&255)?
0!=t&&(t=0):255!=(t&255)&&(D.a16=D.__alpha16[t&255],t=((t>>24&255)*D.a16>>16&255)<<24|((t>>16&255)*D.a16>>16&255)<<16|((t>>8&255)*D.a16>>16&255)<<8|t&255));switch(d){case 2:f[l]=t>>8&255;f[l+1]=t>>16&255;f[l+2]=t>>24&255;f[l+3]=t&255;break;case 0:f[l]=t>>24&255;f[l+1]=t>>16&255;f[l+2]=t>>8&255;f[l+3]=t&255;break;case 1:f[l]=t&255,f[l+1]=t>>24&255,f[l+2]=t>>16&255,f[l+3]=t>>8&255}}}a.dirty=!0}};Ia.copyChannel=function(a,b,c,f,d,g){var e;switch(g[1]){case 0:e=0;break;case 1:e=1;break;case 2:e=2;break;
case 3:e=3}var h;switch(d[1]){case 0:h=0;break;case 1:h=1;break;case 2:h=2;break;case 3:h=3}d=b.buffer.data;g=a.buffer.data;if(null!=d&&null!=g){c=new dc(b,c);f=new dc(a,new Lb(f.x,f.y,c.width,c.height));var k=b.buffer.format,q=a.buffer.format;b=b.buffer.premultiplied;for(var l=a.buffer.premultiplied,t,x,u,r,v=0,w=0,z=f.height;w<z;){x=w++;t=c.offset+c.stride*x;x=f.offset+f.stride*x;for(var y=0,A=f.width;y<A;){y++;switch(k){case 2:u=(d[t+2]&255)<<24|(d[t+1]&255)<<16|(d[t]&255)<<8|d[t+3]&255;break;
case 0:u=(d[t]&255)<<24|(d[t+1]&255)<<16|(d[t+2]&255)<<8|d[t+3]&255;break;case 1:u=(d[t+1]&255)<<24|(d[t+2]&255)<<16|(d[t+3]&255)<<8|d[t]&255}if(b&&0!=(u&255)&&255!=(u&255)){D.unmult=255/(u&255);var B;B=Math.round((u>>24&255)*D.unmult);B=D.__clamp[B];var C;C=Math.round((u>>16&255)*D.unmult);C=D.__clamp[C];var F=Math.round((u>>8&255)*D.unmult);u=(B&255)<<24|(C&255)<<16|(D.__clamp[F]&255)<<8|u&255}switch(q){case 2:r=(g[x+2]&255)<<24|(g[x+1]&255)<<16|(g[x]&255)<<8|g[x+3]&255;break;case 0:r=(g[x]&255)<<
24|(g[x+1]&255)<<16|(g[x+2]&255)<<8|g[x+3]&255;break;case 1:r=(g[x+1]&255)<<24|(g[x+2]&255)<<16|(g[x+3]&255)<<8|g[x]&255}l&&0!=(r&255)&&255!=(r&255)&&(D.unmult=255/(r&255),B=Math.round((r>>24&255)*D.unmult),B=D.__clamp[B],C=Math.round((r>>16&255)*D.unmult),C=D.__clamp[C],F=Math.round((r>>8&255)*D.unmult),r=(B&255)<<24|(C&255)<<16|(D.__clamp[F]&255)<<8|r&255);switch(h){case 0:v=u>>24&255;break;case 1:v=u>>16&255;break;case 2:v=u>>8&255;break;case 3:v=u&255}switch(e){case 0:r=(v&255)<<24|(r>>16&255)<<
16|(r>>8&255)<<8|r&255;v;break;case 1:r=(r>>24&255)<<24|(v&255)<<16|(r>>8&255)<<8|r&255;v;break;case 2:r=(r>>24&255)<<24|(r>>16&255)<<16|(v&255)<<8|r&255;v;break;case 3:r=(r>>24&255)<<24|(r>>16&255)<<16|(r>>8&255)<<8|v&255,v}l&&(0==(r&255)?0!=r&&(r=0):255!=(r&255)&&(D.a16=D.__alpha16[r&255],r=((r>>24&255)*D.a16>>16&255)<<24|((r>>16&255)*D.a16>>16&255)<<16|((r>>8&255)*D.a16>>16&255)<<8|r&255));switch(q){case 2:g[x]=r>>8&255;g[x+1]=r>>16&255;g[x+2]=r>>24&255;g[x+3]=r&255;break;case 0:g[x]=r>>24&255;
g[x+1]=r>>16&255;g[x+2]=r>>8&255;g[x+3]=r&255;break;case 1:g[x]=r&255,g[x+1]=r>>24&255,g[x+2]=r>>16&255,g[x+3]=r>>8&255}t+=4;x+=4}}a.dirty=!0}};Ia.copyPixels=function(a,b,c,f,d,g,e){null==e&&(e=!1);var h=b.buffer.data,k=a.buffer.data;if(null!=h&&null!=k){c=new dc(b,c);f=new dc(a,new Lb(f.x,f.y,c.width,c.height));var q=b.buffer.format,l=a.buffer.format,t=b.buffer.premultiplied,x=a.buffer.premultiplied,r;if(e&&b.get_transparent()){var u,v,w,z,y;if(null==d){var A=0;for(b=f.height;A<b;){g=A++;d=c.offset+
c.stride*g;g=f.offset+f.stride*g;e=0;for(var B=f.width;e<B;){e++;switch(q){case 2:r=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255;break;case 0:r=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:r=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<8|h[d]&255}if(t&&0!=(r&255)&&255!=(r&255)){D.unmult=255/(r&255);var C;C=Math.round((r>>24&255)*D.unmult);C=D.__clamp[C];var F;F=Math.round((r>>16&255)*D.unmult);F=D.__clamp[F];var I=Math.round((r>>8&255)*D.unmult);r=(C&255)<<
24|(F&255)<<16|(D.__clamp[I]&255)<<8|r&255}switch(l){case 2:y=(k[g+2]&255)<<24|(k[g+1]&255)<<16|(k[g]&255)<<8|k[g+3]&255;break;case 0:y=(k[g]&255)<<24|(k[g+1]&255)<<16|(k[g+2]&255)<<8|k[g+3]&255;break;case 1:y=(k[g+1]&255)<<24|(k[g+2]&255)<<16|(k[g+3]&255)<<8|k[g]&255}x&&0!=(y&255)&&255!=(y&255)&&(D.unmult=255/(y&255),C=Math.round((y>>24&255)*D.unmult),C=D.__clamp[C],F=Math.round((y>>16&255)*D.unmult),F=D.__clamp[F],I=Math.round((y>>8&255)*D.unmult),y=(C&255)<<24|(F&255)<<16|(D.__clamp[I]&255)<<8|
y&255);u=(r&255)/255;v=(y&255)/255;w=1-u;z=u+v*w;0==z?y=0:(C=Math.round(((r>>24&255)*u+(y>>24&255)*v*w)/z),C=D.__clamp[C],y=(C&255)<<24|(y>>16&255)<<16|(y>>8&255)<<8|y&255,C,C=Math.round(((r>>16&255)*u+(y>>16&255)*v*w)/z),C=D.__clamp[C],y=(y>>24&255)<<24|(C&255)<<16|(y>>8&255)<<8|y&255,C,C=Math.round(((r>>8&255)*u+(y>>8&255)*v*w)/z),C=D.__clamp[C],y=(y>>24&255)<<24|(y>>16&255)<<16|(C&255)<<8|y&255,C,C=Math.round(255*z),C=D.__clamp[C],y=(y>>24&255)<<24|(y>>16&255)<<16|(y>>8&255)<<8|C&255,C);x&&(0==
(y&255)?0!=y&&(y=0):255!=(y&255)&&(D.a16=D.__alpha16[y&255],y=((y>>24&255)*D.a16>>16&255)<<24|((y>>16&255)*D.a16>>16&255)<<16|((y>>8&255)*D.a16>>16&255)<<8|y&255));switch(l){case 2:k[g]=y>>8&255;k[g+1]=y>>16&255;k[g+2]=y>>24&255;k[g+3]=y&255;break;case 0:k[g]=y>>24&255;k[g+1]=y>>16&255;k[g+2]=y>>8&255;k[g+3]=y&255;break;case 1:k[g]=y&255,k[g+1]=y>>24&255,k[g+2]=y>>16&255,k[g+3]=y>>8&255}d+=4;g+=4}}}else{null==g&&(g=new yc);b=d.buffer.data;e=d.buffer.format;B=d.buffer.premultiplied;C=new dc(d,new Lb(g.x,
g.y,f.width,f.height));var G;F=0;for(I=C.height;F<I;){G=F++;d=c.offset+c.stride*G;g=f.offset+f.stride*G;G=C.offset+C.stride*G;for(var H=0,J=C.width;H<J;){H++;switch(q){case 2:r=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255;break;case 0:r=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:r=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<8|h[d]&255}t&&0!=(r&255)&&255!=(r&255)&&(D.unmult=255/(r&255),z=Math.round((r>>24&255)*D.unmult),z=D.__clamp[z],u=Math.round((r>>
16&255)*D.unmult),u=D.__clamp[u],v=Math.round((r>>8&255)*D.unmult),r=(z&255)<<24|(u&255)<<16|(D.__clamp[v]&255)<<8|r&255);switch(l){case 2:y=(k[g+2]&255)<<24|(k[g+1]&255)<<16|(k[g]&255)<<8|k[g+3]&255;break;case 0:y=(k[g]&255)<<24|(k[g+1]&255)<<16|(k[g+2]&255)<<8|k[g+3]&255;break;case 1:y=(k[g+1]&255)<<24|(k[g+2]&255)<<16|(k[g+3]&255)<<8|k[g]&255}x&&0!=(y&255)&&255!=(y&255)&&(D.unmult=255/(y&255),z=Math.round((y>>24&255)*D.unmult),z=D.__clamp[z],u=Math.round((y>>16&255)*D.unmult),u=D.__clamp[u],v=
Math.round((y>>8&255)*D.unmult),y=(z&255)<<24|(u&255)<<16|(D.__clamp[v]&255)<<8|y&255);switch(e){case 2:A=(b[G+2]&255)<<24|(b[G+1]&255)<<16|(b[G]&255)<<8|b[G+3]&255;break;case 0:A=(b[G]&255)<<24|(b[G+1]&255)<<16|(b[G+2]&255)<<8|b[G+3]&255;break;case 1:A=(b[G+1]&255)<<24|(b[G+2]&255)<<16|(b[G+3]&255)<<8|b[G]&255}B&&0!=(A&255)&&255!=(A&255)&&(D.unmult=255/(A&255),z=Math.round((A>>24&255)*D.unmult),z=D.__clamp[z],u=Math.round((A>>16&255)*D.unmult),u=D.__clamp[u],v=Math.round((A>>8&255)*D.unmult),A=(z&
255)<<24|(u&255)<<16|(D.__clamp[v]&255)<<8|A&255);u=(A&255)/255;v=(y&255)/255;w=1-u;z=u+v*w;if(0==z)y=0;else{var E;E=Math.round(((r>>24&255)*u+(y>>24&255)*v*w)/z);E=D.__clamp[E];y=(E&255)<<24|(y>>16&255)<<16|(y>>8&255)<<8|y&255;E;E=Math.round(((r>>16&255)*u+(y>>16&255)*v*w)/z);E=D.__clamp[E];y=(y>>24&255)<<24|(E&255)<<16|(y>>8&255)<<8|y&255;E;u=Math.round(((r>>8&255)*u+(y>>8&255)*v*w)/z);u=D.__clamp[u];y=(y>>24&255)<<24|(y>>16&255)<<16|(u&255)<<8|y&255;u;z=Math.round(255*z);z=D.__clamp[z];y=(y>>24&
255)<<24|(y>>16&255)<<16|(y>>8&255)<<8|z&255;z}x&&(0==(y&255)?0!=y&&(y=0):255!=(y&255)&&(D.a16=D.__alpha16[y&255],y=((y>>24&255)*D.a16>>16&255)<<24|((y>>16&255)*D.a16>>16&255)<<16|((y>>8&255)*D.a16>>16&255)<<8|y&255));switch(l){case 2:k[g]=y>>8&255;k[g+1]=y>>16&255;k[g+2]=y>>24&255;k[g+3]=y&255;break;case 0:k[g]=y>>24&255;k[g+1]=y>>16&255;k[g+2]=y>>8&255;k[g+3]=y&255;break;case 1:k[g]=y&255,k[g+1]=y>>24&255,k[g+2]=y>>16&255,k[g+3]=y>>8&255}d+=4;g+=4}}}}else for(y=0,A=f.height;y<A;)for(g=y++,d=c.offset+
c.stride*g,g=f.offset+f.stride*g,b=0,e=f.width;b<e;){b++;switch(q){case 2:r=(h[d+2]&255)<<24|(h[d+1]&255)<<16|(h[d]&255)<<8|h[d+3]&255;break;case 0:r=(h[d]&255)<<24|(h[d+1]&255)<<16|(h[d+2]&255)<<8|h[d+3]&255;break;case 1:r=(h[d+1]&255)<<24|(h[d+2]&255)<<16|(h[d+3]&255)<<8|h[d]&255}t&&0!=(r&255)&&255!=(r&255)&&(D.unmult=255/(r&255),B=Math.round((r>>24&255)*D.unmult),B=D.__clamp[B],C=Math.round((r>>16&255)*D.unmult),C=D.__clamp[C],F=Math.round((r>>8&255)*D.unmult),r=(B&255)<<24|(C&255)<<16|(D.__clamp[F]&
255)<<8|r&255);x&&(0==(r&255)?0!=r&&(r=0):255!=(r&255)&&(D.a16=D.__alpha16[r&255],r=((r>>24&255)*D.a16>>16&255)<<24|((r>>16&255)*D.a16>>16&255)<<16|((r>>8&255)*D.a16>>16&255)<<8|r&255));switch(l){case 2:k[g]=r>>8&255;k[g+1]=r>>16&255;k[g+2]=r>>24&255;k[g+3]=r&255;break;case 0:k[g]=r>>24&255;k[g+1]=r>>16&255;k[g+2]=r>>8&255;k[g+3]=r&255;break;case 1:k[g]=r&255,k[g+1]=r>>24&255,k[g+2]=r>>16&255,k[g+3]=r>>8&255}d+=4;g+=4}a.dirty=!0}};Ia.fillRect=function(a,b,c,f){switch(f){case 1:c=(c>>16&255)<<24|(c>>
8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);f=a.buffer.data;if(null!=f){var d=a.buffer.format,g=a.buffer.premultiplied;b=new dc(a,b);for(var e,h=0,k=b.height;h<k;){e=h++;e=b.offset+b.stride*e;for(var q=0,l=b.width;q<l;){var r=q++,r=e+4*r;g&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(D.a16=D.__alpha16[c&255],c=((c>>24&255)*D.a16>>16&255)<<24|((c>>16&255)*D.a16>>16&
255)<<16|((c>>8&255)*D.a16>>16&255)<<8|c&255));switch(d){case 2:f[r]=c>>8&255;f[r+1]=c>>16&255;f[r+2]=c>>24&255;f[r+3]=c&255;break;case 0:f[r]=c>>24&255;f[r+1]=c>>16&255;f[r+2]=c>>8&255;f[r+3]=c&255;break;case 1:f[r]=c&255,f[r+1]=c>>24&255,f[r+2]=c>>16&255,f[r+3]=c>>8&255}}}a.dirty=!0}};Ia.getPixel=function(a,b,c,f){var d,g=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);switch(a.buffer.format){case 2:d=(g[b+2]&255)<<24|(g[b+1]&255)<<16|(g[b]&255)<<8|g[b+3]&255;break;case 0:d=(g[b]&
255)<<24|(g[b+1]&255)<<16|(g[b+2]&255)<<8|g[b+3]&255;break;case 1:d=(g[b+1]&255)<<24|(g[b+2]&255)<<16|(g[b+3]&255)<<8|g[b]&255}a.buffer.premultiplied&&0!=(d&255)&&255!=(d&255)&&(D.unmult=255/(d&255),a=Math.round((d>>24&255)*D.unmult),a=D.__clamp[a],g=Math.round((d>>16&255)*D.unmult),g=D.__clamp[g],b=Math.round((d>>8&255)*D.unmult),d=(a&255)<<24|(g&255)<<16|(D.__clamp[b]&255)<<8|d&255);d=(d>>24&255)<<24|(d>>16&255)<<16|(d>>8&255)<<8|0;0;switch(f){case 1:return function(a){a=0;return a=(d&255)<<24|
(d>>24&255)<<16|(d>>16&255)<<8|d>>8&255}(this);case 2:return function(a){a=0;return a=(d>>8&255)<<24|(d>>16&255)<<16|(d>>24&255)<<8|d&255}(this);default:return d}};Ia.getPixel32=function(a,b,c,f){var d,g=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);switch(a.buffer.format){case 2:d=(g[b+2]&255)<<24|(g[b+1]&255)<<16|(g[b]&255)<<8|g[b+3]&255;break;case 0:d=(g[b]&255)<<24|(g[b+1]&255)<<16|(g[b+2]&255)<<8|g[b+3]&255;break;case 1:d=(g[b+1]&255)<<24|(g[b+2]&255)<<16|(g[b+3]&255)<<8|g[b]&
255}a.buffer.premultiplied&&0!=(d&255)&&255!=(d&255)&&(D.unmult=255/(d&255),a=Math.round((d>>24&255)*D.unmult),a=D.__clamp[a],g=Math.round((d>>16&255)*D.unmult),g=D.__clamp[g],b=Math.round((d>>8&255)*D.unmult),d=(a&255)<<24|(g&255)<<16|(D.__clamp[b]&255)<<8|d&255);switch(f){case 1:return function(a){a=0;return a=(d&255)<<24|(d>>24&255)<<16|(d>>16&255)<<8|d>>8&255}(this);case 2:return function(a){a=0;return a=(d>>8&255)<<24|(d>>16&255)<<16|(d>>24&255)<<8|d&255}(this);default:return d}};Ia.multiplyAlpha=
function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,f=b.length/4|0,d,g=0;g<f;){var e=g++,h=4*e;switch(c){case 2:d=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255;break;case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255}e*=4;0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(D.a16=D.__alpha16[d&255],d=((d>>24&255)*D.a16>>16&255)<<24|((d>>16&255)*D.a16>>16&255)<<16|((d>>8&
255)*D.a16>>16&255)<<8|d&255);switch(c){case 2:b[e]=d>>8&255;b[e+1]=d>>16&255;b[e+2]=d>>24&255;b[e+3]=d&255;break;case 0:b[e]=d>>24&255;b[e+1]=d>>16&255;b[e+2]=d>>8&255;b[e+3]=d&255;break;case 1:b[e]=d&255,b[e+1]=d>>24&255,b[e+2]=d>>16&255,b[e+3]=d>>8&255}}a.buffer.premultiplied=!0;a.dirty=!0}};Ia.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var f,d=c.length/4|0,g,e,h,k,q,l,r,x,t,u,v,w;switch(a.get_format()){case 0:g=0;e=1;h=2;k=3;break;case 1:g=1;e=2;h=3;k=0;break;case 2:g=2,e=1,h=0,k=
3}switch(b){case 0:q=0;l=1;r=2;x=3;break;case 1:q=1;l=2;r=3;x=0;break;case 2:q=2,l=1,r=0,x=3}for(var y=0;y<d;)f=4*y++,t=c[f+g],u=c[f+e],v=c[f+h],w=c[f+k],c[f+q]=t,c[f+l]=u,c[f+r]=v,c[f+x]=w;a.buffer.format=b;a.dirty=!0}};Ia.setPixel32=function(a,b,c,f,d){switch(d){case 1:f=(f>>16&255)<<24|(f>>8&255)<<16|(f&255)<<8|f>>24&255;break;case 2:f=(f>>8&255)<<24|(f>>16&255)<<16|(f>>24&255)<<8|f&255;break}a.get_transparent()||(f=(f>>24&255)<<24|(f>>16&255)<<16|(f>>8&255)<<8|255,255);d=a.buffer.data;b=4*(c+
a.offsetY)*a.buffer.width+4*(b+a.offsetX);a.buffer.premultiplied&&(0==(f&255)?0!=f&&(f=0):255!=(f&255)&&(D.a16=D.__alpha16[f&255],f=((f>>24&255)*D.a16>>16&255)<<24|((f>>16&255)*D.a16>>16&255)<<16|((f>>8&255)*D.a16>>16&255)<<8|f&255));switch(a.buffer.format){case 2:d[b]=f>>8&255;d[b+1]=f>>16&255;d[b+2]=f>>24&255;d[b+3]=f&255;break;case 0:d[b]=f>>24&255;d[b+1]=f>>16&255;d[b+2]=f>>8&255;d[b+3]=f&255;break;case 1:d[b]=f&255,d[b+1]=f>>24&255,d[b+2]=f>>16&255,d[b+3]=f>>8&255}a.dirty=!0};Ia.unmultiplyAlpha=
function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,f=b.length/4|0,d,g=0;g<f;){var e=g++,h=4*e;switch(c){case 2:d=(b[h+2]&255)<<24|(b[h+1]&255)<<16|(b[h]&255)<<8|b[h+3]&255;break;case 0:d=(b[h]&255)<<24|(b[h+1]&255)<<16|(b[h+2]&255)<<8|b[h+3]&255;break;case 1:d=(b[h+1]&255)<<24|(b[h+2]&255)<<16|(b[h+3]&255)<<8|b[h]&255}if(0!=(d&255)&&255!=(d&255)){D.unmult=255/(d&255);var h=Math.round((d>>24&255)*D.unmult),h=D.__clamp[h],k;k=Math.round((d>>16&255)*D.unmult);k=D.__clamp[k];var q=
Math.round((d>>8&255)*D.unmult);d=(h&255)<<24|(k&255)<<16|(D.__clamp[q]&255)<<8|d&255}e*=4;switch(c){case 2:b[e]=d>>8&255;b[e+1]=d>>16&255;b[e+2]=d>>24&255;b[e+3]=d&255;break;case 0:b[e]=d>>24&255;b[e+1]=d>>16&255;b[e+2]=d>>8&255;b[e+3]=d&255;break;case 1:b[e]=d&255,b[e+1]=d>>24&255,b[e+2]=d>>16&255,b[e+3]=d>>8&255}}a.buffer.premultiplied=!1;a.dirty=!0}};var dc=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>
a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};q["lime.graphics.utils._ImageDataUtil.ImageDataView"]=dc;dc.__name__=!0;dc.prototype={__class__:dc};var $b={};q["lime.math._ColorMatrix.ColorMatrix_Impl_"]=$b;$b.__name__=
!0;$b.getAlphaTable=function(a){var b;b=new jb(256);var c=a[18];a=255*a[19];for(var f,d=0;256>d;){var g=d++;f=Math.floor(g*c+a);255<f&&(f=255);0>f&&(f=0);b[g]=f}return b};$b.getBlueTable=function(a){var b;b=new jb(256);var c=a[12];a=255*a[14];for(var f,d=0;256>d;){var g=d++;f=Math.floor(g*c+a);255<f&&(f=255);0>f&&(f=0);b[g]=f}return b};$b.getGreenTable=function(a){var b;b=new jb(256);var c=a[6];a=255*a[9];for(var f,d=0;256>d;){var g=d++;f=Math.floor(g*c+a);255<f&&(f=255);0>f&&(f=0);b[g]=f}return b};
$b.getRedTable=function(a){var b;b=new jb(256);var c=a[0];a=255*a[4];for(var f,d=0;256>d;){var g=d++;f=Math.floor(g*c+a);255<f&&(f=255);0>f&&(f=0);b[g]=f}return b};$b.__toFlashColorTransform=function(a){return null};var wd=function(a,b,c,f,d,g){null==g&&(g=0);null==d&&(d=0);null==f&&(f=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=f;this.tx=d;this.ty=g};q["lime.math.Matrix3"]=wd;wd.__name__=!0;wd.prototype={__class__:wd};var Lb=function(a,b,c,f){null==f&&(f=0);
null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=f};q["lime.math.Rectangle"]=Lb;Lb.__name__=!0;Lb.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashRectangle:function(){return null},__class__:Lb};var yc=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};q["lime.math.Vector2"]=yc;yc.__name__=!0;yc.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:yc};var Cf=function(){};q["lime.math.Vector4"]=
Cf;Cf.__name__=!0;var D={};q["lime.math.color._RGBA.RGBA_Impl_"]=D;D.__name__=!0;D.__alpha16=null;D.__clamp=null;D.a16=null;D.unmult=null;var Jd=function(a){this.onSecurityError=new Fd;this.onProgress=new Ce;this.onOpen=new Gd;this.onIOError=new Fd;this.onHTTPStatus=new De;this.onComplete=new Gd;this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(lb.TEXT);null!=a&&this.load(a)};q["lime.net.URLLoader"]=Jd;Jd.__name__=!0;Jd.prototype={getData:function(){return null},load:function(a){this.requestUrl(a.url,
a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this,c=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",z(this,this.__onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var f;try{f=a.status}catch(d){d instanceof F&&(d=d.val),f=null}void 0==f&&(f=null);null!=f&&c.onHTTPStatus.dispatch(b,f);null!=f&&200<=f&&400>f?c.__onData(a.response):null==f?c.onIOError.dispatch(b,"Failed to connect or resolve host"):12029==f?c.onIOError.dispatch(b,
"Failed to connect to host"):12007==f?c.onIOError.dispatch(b,"Unknown host"):0==f?(c.onIOError.dispatch(b,"Unable to make request (may be blocked due to cross-domain permissions)"),c.onSecurityError.dispatch(b,"Unable to make request (may be blocked due to cross-domain permissions)")):c.onIOError.dispatch(b,"Http Error #"+a.status)}}},requestUrl:function(a,b,c,f){var d=new XMLHttpRequest;this.registerEvents(d);var g="";if(T.__instanceof(c,qb))switch(this.dataFormat[1]){case 0:g=c.data.buffer;break;
default:g=c.readUTFBytes(c.length)}else if(T.__instanceof(c,uf))for(var e=0,h=X.fields(c);e<h.length;){var k=h[e];++e;0!=g.length&&(g+="&");g+=encodeURIComponent(k)+"="+W.urlEncode(X.field(c,k))}else null!=c&&(g=c.toString());try{if("GET"==b&&null!=g&&""!=g){var q=1>=a.split("?").length;d.open("GET",a+(q?"?":"&")+N.string(g),!0);g=""}else d.open(T.__cast(b,String),a,!0)}catch(l){l instanceof F&&(l=l.val);this.onIOError.dispatch(this,l.toString());return}switch(this.dataFormat[1]){case 0:d.responseType=
"arraybuffer"}for(a=0;a<f.length;)b=f[a],++a,d.setRequestHeader(b.name,b.value);d.send(g);this.onOpen.dispatch(this);this.getData=function(){return null!=d.response?d.response:d.responseText}},__onData:function(a){a=this.getData();switch(this.dataFormat[1]){case 0:this.data=qb.__ofBuffer(a);break;default:this.data=N.string(a)}this.onComplete.dispatch(this)},__onProgress:function(a){this.bytesLoaded=a.loaded;this.bytesTotal=a.total;this.onProgress.dispatch(this,this.bytesLoaded,this.bytesTotal)},set_dataFormat:function(a){a!=
lb.BINARY||X.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=lb.TEXT;return this.dataFormat},__class__:Jd,__properties__:{set_dataFormat:"set_dataFormat"}};var lb=q["lime.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};lb.BINARY=["BINARY",0];lb.BINARY.toString=l;lb.BINARY.__enum__=lb;lb.TEXT=["TEXT",1];lb.TEXT.toString=l;lb.TEXT.__enum__=lb;lb.VARIABLES=["VARIABLES",2];lb.VARIABLES.toString=l;lb.VARIABLES.__enum__=lb;var He=function(a){null!=
a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};q["lime.net.URLRequest"]=He;He.__name__=!0;He.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;if("string"==typeof this.data||T.__instanceof(this.data,qb))a=a.slice(),a.push(new Je("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:He};var Je=function(a,b){null==b&&(b="");null==
a&&(a="");this.name=a;this.value=b};q["lime.net.URLRequestHeader"]=Je;Je.__name__=!0;Je.prototype={__class__:Je};var uf=function(){};q["lime.net.URLVariables"]=uf;uf.__name__=!0;var Pc=function(){};q["lime.system.Clipboard"]=Pc;Pc.__name__=!0;Pc.__properties__={set_text:"set_text",get_text:"get_text"};Pc.get_text=function(){return null};Pc.set_text=function(a){return null};var Ke=function(){};q["lime.system.Display"]=Ke;Ke.__name__=!0;Ke.prototype={__class__:Ke};var Le=function(a,b,c,f){this.width=
a;this.height=b;this.refreshRate=c;this.pixelFormat=f};q["lime.system.DisplayMode"]=Le;Le.__name__=!0;Le.prototype={__class__:Le};var Nc=function(){};q["lime.system.System"]=Nc;Nc.__name__=!0;Nc.embed=h.lime.embed=function(a,b,c,f,d){var g=null,g="string"==typeof a?window.document.getElementById(T.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=f&&(f=W.replace(f,"#",""),a=-1<f.indexOf("0x")?N.parseInt(f):N.parseInt("0x"+f));null==b&&(b=0);null==c&&(c=0);R.config.windows[0].background=
a;R.config.windows[0].element=g;R.config.windows[0].width=b;R.config.windows[0].height=c;R.config.assetsPrefix=d;R.create()};Nc.getDisplay=function(a){return 0==a?(a=new Ke,a.id=0,a.name="Generic Display",a.currentMode=new Le(window.screen.width,window.screen.height,60,1),a.supportedModes=[a.currentMode],a.bounds=new Lb(0,0,a.currentMode.width,a.currentMode.height),a):null};Nc.getTimer=function(){return(new Date).getTime()};var Gc=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};
q["lime.text.Font"]=Gc;Gc.__name__=!0;Gc.prototype={__fromFile:function(a){this.__fontPath=a},__class__:Gc};var Ad=function(){this.onDisconnect=new Pa;this.onButtonUp=new Hd;this.onButtonDown=new Hd;this.onAxisMove=new Ee};q["lime.ui.Gamepad"]=Ad;Ad.__name__=!0;Ad.prototype={__class__:Ad};var Bd=function(){this.onTrackballMove=new Dd;this.onHatMove=new ye;this.onDisconnect=new Pa;this.onButtonUp=new Ac;this.onButtonDown=new Ac;this.onAxisMove=new Dd};q["lime.ui.Joystick"]=Bd;Bd.__name__=!0;Bd.prototype=
{__class__:Bd};var Sa={};q["lime.ui._KeyModifier.KeyModifier_Impl_"]=Sa;Sa.__name__=!0;Sa.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};Sa.get_altKey=function(a){return 0<(a&256)||0<(a&512)};Sa.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};Sa.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};Sa.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var Kd=function(){};q["lime.ui.Mouse"]=Kd;Kd.__name__=!0;Kd.__properties__=
{set_cursor:"set_cursor"};Kd.set_cursor=function(a){return pc.set_cursor(a)};var Z=q["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};Z.ARROW=["ARROW",0];Z.ARROW.toString=l;Z.ARROW.__enum__=Z;Z.CROSSHAIR=["CROSSHAIR",1];Z.CROSSHAIR.toString=l;Z.CROSSHAIR.__enum__=Z;Z.DEFAULT=["DEFAULT",2];Z.DEFAULT.toString=l;Z.DEFAULT.__enum__=Z;Z.MOVE=["MOVE",3];Z.MOVE.toString=l;Z.MOVE.__enum__=
Z;Z.POINTER=["POINTER",4];Z.POINTER.toString=l;Z.POINTER.__enum__=Z;Z.RESIZE_NESW=["RESIZE_NESW",5];Z.RESIZE_NESW.toString=l;Z.RESIZE_NESW.__enum__=Z;Z.RESIZE_NS=["RESIZE_NS",6];Z.RESIZE_NS.toString=l;Z.RESIZE_NS.__enum__=Z;Z.RESIZE_NWSE=["RESIZE_NWSE",7];Z.RESIZE_NWSE.toString=l;Z.RESIZE_NWSE.__enum__=Z;Z.RESIZE_WE=["RESIZE_WE",8];Z.RESIZE_WE.toString=l;Z.RESIZE_WE.__enum__=Z;Z.TEXT=["TEXT",9];Z.TEXT.toString=l;Z.TEXT.__enum__=Z;Z.WAIT=["WAIT",10];Z.WAIT.toString=l;Z.WAIT.__enum__=Z;Z.WAIT_ARROW=
["WAIT_ARROW",11];Z.WAIT_ARROW.toString=l;Z.WAIT_ARROW.__enum__=Z;Z.CUSTOM=["CUSTOM",12];Z.CUSTOM.toString=l;Z.CUSTOM.__enum__=Z;var Db=function(a,b,c,f,d,g,e){this.x=a;this.y=b;this.id=c;this.dx=f;this.dy=d;this.pressure=g;this.device=e};q["lime.ui.Touch"]=Db;Db.__name__=!0;Db.prototype={__class__:Db};var Qc=function(a){this.onTextInput=new Ae;this.onTextEdit=new ze;this.onRestore=new Pa;this.onResize=new Ed;this.onMove=new Oc;this.onMouseWheel=new Oc;this.onMouseUp=new Cd;this.onMouseMoveRelative=
new Oc;this.onMouseMove=new Oc;this.onMouseDown=new Cd;this.onMinimize=new Pa;this.onLeave=new Pa;this.onKeyUp=new Id;this.onKeyDown=new Id;this.onFullscreen=new Pa;this.onFocusOut=new Pa;this.onFocusIn=new Pa;this.onEnter=new Pa;this.onDeactivate=new Pa;this.onCreate=new Pa;this.onClose=new Pa;this.onActivate=new Pa;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&
(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new ia(this)};q["lime.ui.Window"]=Qc;Qc.__name__=!0;Qc.prototype={close:function(){this.backend.close()},create:function(a){this.application=
a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},get_display:function(){return this.backend.getDisplay()},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:Qc,__properties__:{get_display:"get_display",set_width:"set_width",
set_height:"set_height",set_fullscreen:"set_fullscreen"}};var qb=function(a){null==a&&(a=0);this.length=this.position=this.allocated=0;0<a&&(this.allocated=a);this.___resizeBuffer(this.allocated);this.set_length(this.allocated)};q["lime.utils.ByteArray"]=qb;qb.__name__=!0;qb.__ofBuffer=function(a){var b=new qb;b.set_length(b.allocated=a.byteLength);b.data=new Df(a);b.byteView=new jb(a);return b};qb.prototype={readUTFBytes:function(a){var b="";for(a=this.position+a;this.position<a;){var c=this.data,
f=c.getUint8(this.position++);if(128>f){if(0==f)break;b+=String.fromCharCode(f)}else if(224>f)b+=String.fromCharCode((f&63)<<6|c.getUint8(this.position++)&127);else if(240>f)var d=c.getUint8(this.position++),b=b+String.fromCharCode((f&31)<<12|(d&127)<<6|c.getUint8(this.position++)&127);else var d=c.getUint8(this.position++),g=c.getUint8(this.position++),b=b+String.fromCharCode((f&15)<<18|(d&127)<<12|g<<6&127|c.getUint8(this.position++)&127)}return b},writeByte:function(a){var b=this.position+1;this.length<
b&&(this.allocated<b?this.___resizeBuffer(this.allocated=N["int"](Math.max(b,2*this.allocated))):this.allocated>2*b&&this.___resizeBuffer(this.allocated=b),this.length=b,b);this.data.setInt8(this.position,a);this.position+=1},writeUTFBytes:function(a){for(var b=0,c=a.length;b<c;){var f=b++,f=a.charCodeAt(f);127>=f?this.writeByte(f):(2047>=f?this.writeByte(192|f>>6):(65535>=f?this.writeByte(224|f>>12):(this.writeByte(240|f>>18),this.writeByte(128|f>>12&63)),this.writeByte(128|f>>6&63)),this.writeByte(128|
f&63))}},__get:function(a){return this.data.getInt8(a)},___resizeBuffer:function(a){var b=this.byteView,c=new jb(a);null!=b&&(b.length<=a?c.set(b):c.set(b.subarray(0,a)));this.byteView=c;this.data=new Df(c.buffer)},__set:function(a,b){this.data.setUint8(a,b)},set_length:function(a){this.allocated<a?this.___resizeBuffer(this.allocated=N["int"](Math.max(a,2*this.allocated))):this.allocated>2*a&&this.___resizeBuffer(this.allocated=a);return this.length=a},__class__:qb,__properties__:{set_length:"set_length"}};
var Me=function(){};q["openfl.IAssetCache"]=Me;Me.__name__=!0;Me.prototype={__class__:Me,__properties__:{get_enabled:"get_enabled"}};var Ld=function(){this.__enabled=!0;this.bitmapData=new aa;this.font=new aa;this.sound=new aa};q["openfl.AssetCache"]=Ld;Ld.__name__=!0;Ld.__interfaces__=[Me];Ld.prototype={getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},hasFont:function(a){return this.font.exists(a)},
setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Ld,__properties__:{get_enabled:"get_enabled"}};var pa=function(){};q["openfl.Assets"]=pa;pa.__name__=!0;pa.exists=function(a,b){return Y.exists(a,b)};pa.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&pa.cache.get_enabled()&&pa.cache.hasBitmapData(a)){var c=pa.cache.getBitmapData(a);if(pa.isValidBitmapData(c))return c}c=Y.getImage(a,!1);return null!=
c?(c=Ha.fromImage(c),b&&pa.cache.get_enabled()&&pa.cache.setBitmapData(a,c),c):null};pa.getFont=function(a,b){null==b&&(b=!0);if(b&&pa.cache.get_enabled()&&pa.cache.hasFont(a))return pa.cache.getFont(a);var c=Y.getFont(a,!1);return null!=c?(c=Cc.__fromLimeFont(c),b&&pa.cache.get_enabled()&&pa.cache.setFont(a,c),c):new Cc};pa.getText=function(a){return Y.getText(a)};pa.isValidBitmapData=function(a){return null!=a&&null!=a.image};var Md=function(){Ma.call(this);this.__currentFrame=0;this.__currentLabels=
[];this.__totalFrames=0;this.enabled=!0};q["openfl.display.MovieClip"]=Md;Md.__name__=!0;Md.__super__=Ma;Md.prototype=u(Ma.prototype,{__class__:Md});var jc=function(){ea.call(this);this.applicationDomain=Rc.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};q["openfl.display.LoaderInfo"]=jc;jc.__name__=!0;jc.create=function(a){var b=new jc;b.uncaughtErrorEvents=new Nd;null!=a?b.loader=a:b.url=jc.__rootURL;return b};jc.__super__=ea;jc.prototype=u(ea.prototype,
{__class__:jc});var Rc=function(a){this.parentDomain=null!=a?a:Rc.currentDomain};q["openfl.system.ApplicationDomain"]=Rc;Rc.__name__=!0;Rc.prototype={__class__:Rc};var Nd=function(a){ea.call(this,a)};q["openfl.events.UncaughtErrorEvents"]=Nd;Nd.__name__=!0;Nd.__super__=ea;Nd.prototype=u(ea.prototype,{__class__:Nd});var fa=function(){};q["openfl.Lib"]=fa;fa.__name__=!0;fa.application=null;fa.embed=h.openfl.embed=function(a,b,c,f,d){Nc.embed(a,b,c,f,d)};fa.getTimer=function(){return Nc.getTimer()};
fa.getURL=function(a,b){null==b&&(b="_blank");window.open(a.url,b)};var Sc=function(){this.length=0};q["openfl.VectorData"]=Sc;Sc.__name__=!0;Sc.prototype={__class__:Sc};var ac=function(a){this.renderSession=a};q["openfl._internal.renderer.AbstractMaskManager"]=ac;ac.__name__=!0;ac.prototype={pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:ac};var Ua=function(a,b){this.width=a;this.height=b};q["openfl._internal.renderer.AbstractRenderer"]=
Ua;Ua.__name__=!0;Ua.prototype={render:function(a){},resize:function(a,b){},__class__:Ua};var hd=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};q["openfl._internal.renderer.DrawCommandBuffer"]=hd;hd.__name__=!0;hd.prototype={append:function(a){for(var b=new ec(a),c=0,f=a.types;c<f.length;){var d=f[c];++c;switch(d[1]){case 0:b.advance();b.prev=A.BEGIN_BITMAP_FILL;d=b;this.beginBitmapFill(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],
d.buffer.b[d.bPos+1]);break;case 1:b.advance();b.prev=A.BEGIN_FILL;d=b;this.beginFill(d.buffer.i[d.iPos],d.buffer.f[d.fPos]);break;case 2:b.advance();b.prev=A.BEGIN_GRADIENT_FILL;d=b;this.beginGradientFill(d.buffer.o[d.oPos],d.buffer.ii[d.iiPos],d.buffer.ff[d.ffPos],d.buffer.ii[d.iiPos+1],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+2],d.buffer.o[d.oPos+3],d.buffer.o[d.oPos+4]);break;case 3:b.advance();b.prev=A.CUBIC_CURVE_TO;d=b;this.cubicCurveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+
3],d.buffer.f[d.fPos+4],d.buffer.f[d.fPos+5],d.buffer.f[d.fPos+6]);break;case 4:b.advance();b.prev=A.CURVE_TO;d=b;this.curveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 5:b.advance();b.prev=A.DRAW_CIRCLE;d=b;this.drawCircle(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2]);break;case 6:b.advance();b.prev=A.DRAW_ELLIPSE;d=b;this.drawEllipse(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 7:b.advance();
b.prev=A.DRAW_PATH;d=b;this.drawPath(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+2]);break;case 8:b.advance();b.prev=A.DRAW_RECT;d=b;this.drawRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]);break;case 9:b.advance();b.prev=A.DRAW_ROUND_RECT;d=b;this.drawRoundRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],d.buffer.f[d.fPos+5]);break;case 10:b.advance();b.prev=A.DRAW_TILES;d=b;this.drawTiles(d.buffer.ts[d.tsPos],
d.buffer.ff[d.ffPos],d.buffer.b[d.bPos],d.buffer.i[d.iPos],d.buffer.i[d.iPos+1]);break;case 11:b.advance();b.prev=A.DRAW_TRIANGLES;d=b;this.drawTriangles(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+2],d.buffer.o[d.oPos+3],d.buffer.o[d.oPos+4],d.buffer.i[d.iPos]);break;case 12:b.advance();b.prev=A.END_FILL;this.endFill();break;case 13:b.advance();b.prev=A.LINE_BITMAP_STYLE;d=b;this.lineBitmapStyle(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1]);break;
case 14:b.advance();b.prev=A.LINE_GRADIENT_STYLE;d=b;this.lineGradientStyle(d.buffer.o[d.oPos],d.buffer.ii[d.iiPos],d.buffer.ff[d.ffPos],d.buffer.ii[d.iiPos+1],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+2],d.buffer.o[d.oPos+3],d.buffer.o[d.oPos+4]);break;case 15:b.advance();b.prev=A.LINE_STYLE;d=b;this.lineStyle(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.o[d.oPos+2],d.buffer.o[d.oPos+3],d.buffer.o[d.oPos+4],d.buffer.o[d.oPos+5],d.buffer.o[d.oPos+6],d.buffer.o[d.oPos+7]);break;case 16:b.advance();
b.prev=A.LINE_TO;d=b;this.lineTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1]);break;case 17:b.advance();b.prev=A.MOVE_TO;d=b;this.moveTo(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1]);break;case 18:b.advance(),b.prev=A.OVERRIDE_MATRIX,d=b,this.overrideMatrix(d.buffer.o[d.oPos])}}b.destroy();return a},beginBitmapFill:function(a,b,c,f){this.types.push(A.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(f)},beginFill:function(a,b){this.types.push(A.BEGIN_FILL);this.i.push(a);this.f.push(b)},
beginGradientFill:function(a,b,c,f,d,g,e,h){this.types.push(A.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(f);this.o.push(d);this.o.push(g);this.o.push(e);this.o.push(h)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(a,
b,c,f,d,g){this.types.push(A.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(f);this.f.push(d);this.f.push(g)},curveTo:function(a,b,c,f){this.types.push(A.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(f)},drawCircle:function(a,b,c){this.types.push(A.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,f){this.types.push(A.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(f)},drawPath:function(a,b,c){this.types.push(A.DRAW_PATH);
this.o.push(a);this.o.push(b);this.o.push(c)},drawRect:function(a,b,c,f){this.types.push(A.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(f)},drawRoundRect:function(a,b,c,f,d,g){this.types.push(A.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(f);this.f.push(d);this.f.push(g)},drawTiles:function(a,b,c,f,d){this.types.push(A.DRAW_TILES);this.ts.push(a);this.ff.push(b);this.b.push(c);this.i.push(f);this.i.push(d)},drawTriangles:function(a,b,c,f,d,g){this.types.push(A.DRAW_TRIANGLES);
this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(f);this.o.push(d);this.i.push(g)},endFill:function(){this.types.push(A.END_FILL)},lineBitmapStyle:function(a,b,c,f){this.types.push(A.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(f)},lineGradientStyle:function(a,b,c,f,d,g,e,h){this.types.push(A.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(f);this.o.push(d);this.o.push(g);this.o.push(e);this.o.push(h)},lineStyle:function(a,b,
c,f,d,g,e,h){this.types.push(A.LINE_STYLE);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(f);this.o.push(d);this.o.push(g);this.o.push(e);this.o.push(h)},lineTo:function(a,b){this.types.push(A.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.types.push(A.MOVE_TO);this.f.push(a);this.f.push(b)},overrideMatrix:function(a){this.types.push(A.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:hd,__properties__:{get_length:"get_length"}};
var ec=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=A.UNKNOWN};q["openfl._internal.renderer.DrawCommandReader"]=ec;ec.__name__=!0;ec.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=
3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=6;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;break;case 11:this.oPos+=5;this.iPos+=1;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 15:this.oPos+=8;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=
0},__class__:ec};var A=q["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};A.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];A.BEGIN_BITMAP_FILL.toString=l;A.BEGIN_BITMAP_FILL.__enum__=A;A.BEGIN_FILL=["BEGIN_FILL",
1];A.BEGIN_FILL.toString=l;A.BEGIN_FILL.__enum__=A;A.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];A.BEGIN_GRADIENT_FILL.toString=l;A.BEGIN_GRADIENT_FILL.__enum__=A;A.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];A.CUBIC_CURVE_TO.toString=l;A.CUBIC_CURVE_TO.__enum__=A;A.CURVE_TO=["CURVE_TO",4];A.CURVE_TO.toString=l;A.CURVE_TO.__enum__=A;A.DRAW_CIRCLE=["DRAW_CIRCLE",5];A.DRAW_CIRCLE.toString=l;A.DRAW_CIRCLE.__enum__=A;A.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];A.DRAW_ELLIPSE.toString=l;A.DRAW_ELLIPSE.__enum__=A;A.DRAW_PATH=
["DRAW_PATH",7];A.DRAW_PATH.toString=l;A.DRAW_PATH.__enum__=A;A.DRAW_RECT=["DRAW_RECT",8];A.DRAW_RECT.toString=l;A.DRAW_RECT.__enum__=A;A.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9];A.DRAW_ROUND_RECT.toString=l;A.DRAW_ROUND_RECT.__enum__=A;A.DRAW_TILES=["DRAW_TILES",10];A.DRAW_TILES.toString=l;A.DRAW_TILES.__enum__=A;A.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];A.DRAW_TRIANGLES.toString=l;A.DRAW_TRIANGLES.__enum__=A;A.END_FILL=["END_FILL",12];A.END_FILL.toString=l;A.END_FILL.__enum__=A;A.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",
13];A.LINE_BITMAP_STYLE.toString=l;A.LINE_BITMAP_STYLE.__enum__=A;A.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];A.LINE_GRADIENT_STYLE.toString=l;A.LINE_GRADIENT_STYLE.__enum__=A;A.LINE_STYLE=["LINE_STYLE",15];A.LINE_STYLE.toString=l;A.LINE_STYLE.__enum__=A;A.LINE_TO=["LINE_TO",16];A.LINE_TO.toString=l;A.LINE_TO.__enum__=A;A.MOVE_TO=["MOVE_TO",17];A.MOVE_TO.toString=l;A.MOVE_TO.__enum__=A;A.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];A.OVERRIDE_MATRIX.toString=l;A.OVERRIDE_MATRIX.__enum__=A;A.UNKNOWN=
["UNKNOWN",19];A.UNKNOWN.toString=l;A.UNKNOWN.__enum__=A;var Ea=function(){};q["openfl._internal.renderer.GraphicsPaths"]=Ea;Ea.__name__=!0;Ea.ellipse=function(a,b,c,f,d,g){var e=2*Math.PI/g,h=0;for(g+=1;h<g;){var k=h++;a.push(b+Math.sin(e*k)*f);a.push(c+Math.cos(e*k)*d)}};Ea.cubicCurveTo=function(a,b,c,f,d,g,e){for(var h=0,k=0,q=0,l=0,r=0,x=a[a.length-2],t=a[a.length-1],u=0,v=h=0,w=1;21>w;)v=w++/20,h=1-v,k=h*h,q=k*h,l=v*v,r=l*v,u=q*x+3*k*v*b+3*h*l*f+r*g,h=q*t+3*k*v*c+3*h*l*d+r*e,a.push(u),a.push(h)};
Ea.curveTo=function(a,b,c,f,d){for(var g=0,e=0,h=a[a.length-2],k=a[a.length-1],q=e=g=0,l=1;21>l;)q=l++/20,g=h+(b-h)*q,e=k+(c-k)*q,g+=(b+(f-b)*q-g)*q,e+=(c+(d-c)*q-e)*q,a.push(g),a.push(e)};Ea.roundRectangle=function(a,b,c,f,d,g,e){f=b+f;d=c+d;var h=-g+g*Ea.SIN45,k=-g+g*Ea.TAN22,q=-e+e*Ea.SIN45,l=-e+e*Ea.TAN22;a.push(f);a.push(d-e);Ea.curveTo(a,f,d+l,f+h,d+q);Ea.curveTo(a,f+k,d,f-g,d);a.push(b+g);a.push(d);Ea.curveTo(a,b-k,d,b-h,d+q);Ea.curveTo(a,b,d+l,b,d-e);a.push(b);a.push(c+e);Ea.curveTo(a,b,c-
l,b-h,c-q);Ea.curveTo(a,b-k,c,b+g,c);a.push(f-g);a.push(c);Ea.curveTo(a,f+k,c,f+h,c-q);Ea.curveTo(a,f,c-l,f,c+e);a.push(f);a.push(d-e)};var Tc=function(){};q["openfl._internal.renderer.PolyK"]=Tc;Tc.__name__=!0;Tc.triangulate=function(a,b){var c=!0,f=b.length>>1;if(3>f)return[];var d;d=[];for(var g=0;g<f;){var e=g++;d.push(e)}for(var g=0,e=f,h=!1;3<e;){var k=d[g%e],q=d[(g+1)%e],l=d[(g+2)%e],r=b[2*k],x=b[2*k+1],t=b[2*q],u=b[2*q+1],v=b[2*l],w=b[2*l+1],h=!1;if(Tc._convex(r,x,t,u,v,w,c))for(var h=!0,
y=0;y<e;){var z=y++,z=d[z];if(z!=k&&z!=q&&z!=l&&Tc._PointInTriangle(b[2*z],b[2*z+1],r,x,t,u,v,w)){h=!1;break}}if(h)a.push(k),a.push(q),a.push(l),d.splice((g+1)%e,1),e--,g=0;else if(g++>3*e)if(c){a=[];c=[];for(d=0;d<f;)g=d++,c.push(g);d=c;g=0;e=f;c=!1}else return Ka.trace("Warning: shape too complex to fill",{fileName:"PolyK.hx",lineNumber:104,className:"openfl._internal.renderer.PolyK",methodName:"triangulate"}),[]}a.push(d[0]);a.push(d[1]);a.push(d[2]);return a};Tc._PointInTriangle=function(a,b,
c,f,d,g,e,h){e=e-c|0;h=h-f|0;d=d-c|0;g=g-f|0;a=a-c|0;c=b-f|0;b=e*e+h*h;f=e*d+h*g;e=e*a+h*c;h=d*d+g*g;d=d*a+g*c;g=1/(b*h-f*f);h=(h*e-f*d)*g;e=(b*d-f*e)*g;return 0<=h&&0<=e&&1>h+e};Tc._convex=function(a,b,c,f,d,g,e){return 0<=(b-f)*(d-c)+(c-a)*(g-f)==e};var Dc=function(){};q["openfl._internal.renderer.RenderSession"]=Dc;Dc.__name__=!0;Dc.prototype={__class__:Dc};var jf=function(){};q["openfl._internal.renderer.cairo.CairoBitmap"]=jf;jf.__name__=!0;jf.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=
b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);var f=a.__worldTransform,d=a.get_scrollRect();b.roundPixels?(f=f.__toMatrix3(),f.tx=Math.round(f.tx),f.ty=Math.round(f.ty),c.set_matrix(f)):c.set_matrix(f.__toMatrix3());f=a.bitmapData.getSurface();null!=f&&(f=gd.createForSurface(f),gd.set_filter(f,a.smoothing?1:3),null!=d?(c.pushGroup(),c.set_source(f),c.newPath(),c.rectangle(d.x,d.y,d.width,d.height),c.fill(),c.popGroupToSource()):c.set_source(f),
1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));null!=a.__mask&&b.maskManager.popMask()}}};var va=function(){};q["openfl._internal.renderer.cairo.CairoGraphics"]=va;va.__name__=!0;va.cairo=null;va.drawRoundRect=function(a,b,c,f,d,g){-1==g&&(g=d);d*=0.5;g*=0.5;d>c/2&&(d=c/2);g>f/2&&(g=f/2);c=a+c;f=b+f;var e=-d+d*va.SIN45,h=-d+d*va.TAN22,k=-g+g*va.SIN45,q=-g+g*va.TAN22;va.cairo.moveTo(c,f-g);va.quadraticCurveTo(c,f+q,c+e,f+k);va.quadraticCurveTo(c+h,f,c-d,f);va.cairo.lineTo(a+d,f);va.quadraticCurveTo(a-
h,f,a-e,f+k);va.quadraticCurveTo(a,f+q,a,f-g);va.cairo.lineTo(a,b+g);va.quadraticCurveTo(a,b-q,a-e,b-k);va.quadraticCurveTo(a-h,b,a+d,b);va.cairo.lineTo(c-d,b);va.quadraticCurveTo(c+h,b,c+e,b-k);va.quadraticCurveTo(c,b-q,c,b+g);va.cairo.lineTo(c,f-g)};va.quadraticCurveTo=function(a,b,c,f){var d=null;va.cairo.get_hasCurrentPoint()?d=va.cairo.get_currentPoint():(va.cairo.moveTo(a,b),d=new yc(a,b));va.cairo.curveTo(d.x+0.6666666666666666*(a-d.x),d.y+0.6666666666666666*(b-d.y),c+0.6666666666666666*(a-
c),f+0.6666666666666666*(b-f),c,f)};va.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,f=new ec(a.__commands),d=0,g=a.__commands.types;d<g.length;){var e=g[d];++d;switch(e[1]){case 3:f.advance();f.prev=A.CUBIC_CURVE_TO;e=f;c.curveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+3]-0,e.buffer.f[e.fPos+4]-0,e.buffer.f[e.fPos+5]-0,e.buffer.f[e.fPos+6]-0);break;case 4:f.advance();f.prev=A.CURVE_TO;e=f;va.quadraticCurveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+
1]-0,e.buffer.f[e.fPos+2]-0,e.buffer.f[e.fPos+3]-0);break;case 5:f.advance();f.prev=A.DRAW_CIRCLE;e=f;c.arc(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],0,2*Math.PI);break;case 6:var h;f.advance();f.prev=A.DRAW_ELLIPSE;h=f;var e=h.buffer.f[h.fPos],k=h.buffer.f[h.fPos+1],q=h.buffer.f[h.fPos+2],l=h.buffer.f[h.fPos+3],e=e-0,k=k-0;h=q/2*0.5522848;var r=l/2*0.5522848,x=e+q,t=k+l,q=e+q/2,l=k+l/2;c.moveTo(e,l);c.curveTo(e,l-r,q-h,k,q,k);c.curveTo(q+h,k,x,l-r,x,l);c.curveTo(x,l+r,q+h,
t,q,t);c.curveTo(q-h,t,e,l+r,e,l);break;case 8:f.advance();f.prev=A.DRAW_RECT;e=f;c.rectangle(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 9:f.advance();f.prev=A.DRAW_ROUND_RECT;e=f;va.drawRoundRect(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 16:f.advance();f.prev=A.LINE_TO;e=f;c.lineTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;case 17:f.advance();
f.prev=A.MOVE_TO;e=f;c.moveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;default:f.advance(),f.prev=e}}f.destroy()}};var Od=function(a){this.renderSession=a};q["openfl._internal.renderer.cairo.CairoMaskManager"]=Od;Od.__name__=!0;Od.__super__=ac;Od.prototype=u(ac.prototype,{pushMask:function(a){var b=this.renderSession.cairo;b.save();var c=a.__getWorldTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.cairo;
c.save();c.set_matrix(new wd(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Od});var id=function(a,b,c){Ua.call(this,a,b);this.cairo=c;this.renderSession=new Dc;this.renderSession.cairo=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Od(this.renderSession)};q["openfl._internal.renderer.cairo.CairoRenderer"]=
id;id.__name__=!0;id.__super__=Ua;id.prototype=u(Ua.prototype,{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:id});var Ze=function(){};q["openfl._internal.renderer.cairo.CairoShape"]=Ze;Ze.__name__=!0;Ze.render=function(a,b){};var kf=function(){};q["openfl._internal.renderer.cairo.CairoTextField"]=kf;kf.__name__=!0;kf.render=function(a,
b){};var lf=function(){};q["openfl._internal.renderer.canvas.CanvasBitmap"]=lf;lf.__name__=!0;lf.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);a.bitmapData.__sync();c.globalAlpha=a.__worldAlpha;var f=a.__worldTransform,d=a.get_scrollRect();b.roundPixels?c.setTransform(f.a,f.b,f.c,f.d,f.tx|0,f.ty|0):c.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty);a.smoothing||(c.mozImageSmoothingEnabled=
!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==d?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),d.x,d.y,d.width,d.height,d.x,d.y,d.width,d.height);a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=a.__mask&&b.maskManager.popMask()}}};var v=function(){};q["openfl._internal.renderer.canvas.CanvasGraphics"]=v;v.__name__=!0;v.bitmapFill=null;v.bitmapRepeat=null;v.bounds=null;v.graphics=
null;v.hasFill=null;v.hasStroke=null;v.hitTesting=null;v.inversePendingMatrix=null;v.pendingMatrix=null;v.context=null;v.closePath=function(){null!=v.context.strokeStyle&&(v.context.closePath(),v.context.stroke(),v.context.beginPath())};v.createBitmapFill=function(a,b){a.__sync();return v.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};v.createGradientPattern=function(a,b,c,f,d,g,e,h){g=null;switch(a[1]){case 0:null==d&&(d=new ra);g=d.transformPoint(new la(1638.4,0));g=v.context.createRadialGradient(d.tx,
d.ty,0,d.tx,d.ty,(g.x-d.tx)/2);break;case 1:d=null!=d?d:new ra,g=d.transformPoint(new la(-819.2,0)),d=d.transformPoint(new la(819.2,0)),g=v.context.createLinearGradient(g.x,g.y,d.x,d.y)}d=0;for(a=b.length;d<a;){var k=d++,q=b[k];e=c[k];h=(q&16711680)>>>16;var l=(q&65280)>>>8,q=q&255,k=f[k]/255;0>k&&(k=0);1<k&&(k=1);g.addColorStop(k,"rgba("+h+", "+l+", "+q+", "+e+")")}return g};v.createTempPatternCanvas=function(a,b,c,f){var d=window.document.createElement("canvas"),g=d.getContext("2d");d.width=c;d.height=
f;g.fillStyle=g.createPattern(a.image.get_src(),b?"repeat":"no-repeat");g.beginPath();g.moveTo(0,0);g.lineTo(0,f);g.lineTo(c,f);g.lineTo(c,0);g.lineTo(0,0);g.closePath();v.hitTesting||g.fill();return d};v.drawRoundRect=function(a,b,c,f,d,g){-1==g&&(g=d);d*=0.5;g*=0.5;d>c/2&&(d=c/2);g>f/2&&(g=f/2);c=a+c;f=b+f;var e=-d+d*v.SIN45,h=-d+d*v.TAN22,k=-g+g*v.SIN45,q=-g+g*v.TAN22;v.context.moveTo(c,f-g);v.context.quadraticCurveTo(c,f+q,c+e,f+k);v.context.quadraticCurveTo(c+h,f,c-d,f);v.context.lineTo(a+d,
f);v.context.quadraticCurveTo(a-h,f,a-e,f+k);v.context.quadraticCurveTo(a,f+q,a,f-g);v.context.lineTo(a,b+g);v.context.quadraticCurveTo(a,b-q,a-e,b-k);v.context.quadraticCurveTo(a-h,b,a+d,b);v.context.lineTo(c-d,b);v.context.quadraticCurveTo(c+h,b,c+e,b-k);v.context.quadraticCurveTo(c,b-q,c,b+g);v.context.lineTo(c,f-g)};v.endFill=function(){v.context.beginPath();v.playCommands(v.fillCommands,!1);v.fillCommands.clear()};v.endStroke=function(){v.context.beginPath();v.playCommands(v.strokeCommands,!0);
v.context.closePath();v.strokeCommands.clear()};v.hitTest=function(a,b,c){if(!(0==a.__commands.get_length()||null==v.bounds||0>=v.bounds.width||0>=v.bounds.height)){v.hitTesting=!0;b-=v.bounds.x;c-=v.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));v.context=a.__context;v.fillCommands.clear();v.strokeCommands.clear();v.hasFill=!1;v.hasStroke=!1;v.bitmapFill=null;v.bitmapRepeat=!1;v.context.beginPath();var d=new ec(a.__commands),
e=0;for(a=a.__commands.types;e<a.length;){var g=a[e];++e;switch(g[1]){case 3:d.advance();d.prev=A.CUBIC_CURVE_TO;g=d;v.fillCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5],g.buffer.f[g.fPos+6]);v.strokeCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5],g.buffer.f[g.fPos+6]);break;case 4:d.advance();d.prev=A.CURVE_TO;g=d;v.fillCommands.curveTo(g.buffer.f[g.fPos],
g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);v.strokeCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 16:d.advance();d.prev=A.LINE_TO;g=d;v.fillCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);v.strokeCommands.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 17:d.advance();d.prev=A.MOVE_TO;g=d;v.fillCommands.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);v.strokeCommands.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+
1]);break;case 14:d.advance();d.prev=A.LINE_GRADIENT_STYLE;g=d;v.strokeCommands.lineGradientStyle(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4]);break;case 13:d.advance();d.prev=A.LINE_BITMAP_STYLE;g=d;v.strokeCommands.lineBitmapStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 15:d.advance();d.prev=A.LINE_STYLE;g=d;v.strokeCommands.lineStyle(g.buffer.o[g.oPos],
g.buffer.o[g.oPos+1],1,g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4],g.buffer.o[g.oPos+5],g.buffer.o[g.oPos+6],g.buffer.o[g.oPos+7]);break;case 12:d.advance();d.prev=A.END_FILL;d;v.endFill();v.endStroke();if(v.hasFill&&v.context.isPointInPath(b,c)||v.hasStroke&&v.context.isPointInStroke(b,c))return d.destroy(),!0;v.hasFill=!1;v.bitmapFill=null;break;case 0:case 1:case 2:v.endFill();v.endStroke();if(v.hasFill&&v.context.isPointInPath(b,c)||v.hasStroke&&v.context.isPointInStroke(b,c))return d.destroy(),
!0;g==A.BEGIN_BITMAP_FILL?(d.advance(),d.prev=A.BEGIN_BITMAP_FILL,g=d,v.fillCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]),v.strokeCommands.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1])):g==A.BEGIN_GRADIENT_FILL?(d.advance(),d.prev=A.BEGIN_GRADIENT_FILL,g=d,v.fillCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+
1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4]),v.strokeCommands.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4])):(d.advance(),d.prev=A.BEGIN_FILL,g=d,v.fillCommands.beginFill(g.buffer.i[g.iPos],1),v.strokeCommands.beginFill(g.buffer.i[g.iPos],1));break;case 5:d.advance();d.prev=A.DRAW_CIRCLE;g=d;v.fillCommands.drawCircle(g.buffer.f[g.fPos],
g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);v.strokeCommands.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);break;case 6:d.advance();d.prev=A.DRAW_ELLIPSE;g=d;v.fillCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);v.strokeCommands.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 8:d.advance();d.prev=A.DRAW_RECT;g=d;v.fillCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+
1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);v.strokeCommands.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 9:d.advance();d.prev=A.DRAW_ROUND_RECT;g=d;v.fillCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);v.strokeCommands.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+
5]);break;default:d.advance(),d.prev=g}}0<v.fillCommands.get_length()&&v.endFill();0<v.strokeCommands.get_length()&&v.endStroke();d.destroy();if(v.hasFill&&v.context.isPointInPath(b,c)||v.hasStroke&&v.context.isPointInStroke(b,c))return!0}return!1};v.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.length,g=1,h=e+1;g<h;)d=g++,b&&0==d%3||(d=a.data[d-1],c<d&&(c=d));g=new Sc;g.data=[];g.length=0;g.fixed=!1;h=1;for(e+=1;h<e;)if(d=h++,!b||0!=d%3){if(!g.fixed){g.length++;if(g.data.length<
g.length){var k;k=Array(g.data.length+10);xc.blit(g.data,0,k,0,g.data.length);g.data=k}g.data[g.length-1]=a.data[d-1]/c}g.length}return{max:c,uvt:g}};v.playCommands=function(a,b){null==b&&(b=!1);v.bounds=v.graphics.__bounds;for(var c=v.bounds.x,d=v.bounds.y,e=0,g=0,h=!1,k=0,q=0,l=new ec(a),r=0,t=a.types;r<t.length;){var x=t[r];++r;switch(x[1]){case 3:l.advance();l.prev=A.CUBIC_CURVE_TO;x=l;v.context.bezierCurveTo(x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+3]-c,x.buffer.f[x.fPos+
4]-d,x.buffer.f[x.fPos+5]-c,x.buffer.f[x.fPos+6]-d);break;case 4:l.advance();l.prev=A.CURVE_TO;x=l;v.context.quadraticCurveTo(x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+2]-c,x.buffer.f[x.fPos+3]-d);break;case 5:l.advance();l.prev=A.DRAW_CIRCLE;x=l;v.context.moveTo(x.buffer.f[x.fPos]-c+x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+1]-d);v.context.arc(x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+2],0,2*Math.PI,!0);break;case 6:var u;l.advance();l.prev=A.DRAW_ELLIPSE;u=l;
var x=u.buffer.f[u.fPos],w=u.buffer.f[u.fPos+1],y=u.buffer.f[u.fPos+2],z=u.buffer.f[u.fPos+3],x=x-c,w=w-d;u=y/2*0.5522848;var C=z/2*0.5522848,B=x+y,D=w+z,y=x+y/2,z=w+z/2;v.context.moveTo(x,z);v.context.bezierCurveTo(x,z-C,y-u,w,y,w);v.context.bezierCurveTo(y+u,w,B,z-C,B,z);v.context.bezierCurveTo(B,z+C,y+u,D,y,D);v.context.bezierCurveTo(y-u,D,x,z+C,x,z);break;case 9:l.advance();l.prev=A.DRAW_ROUND_RECT;x=l;v.drawRoundRect(x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+
3],x.buffer.f[x.fPos+4],x.buffer.f[x.fPos+5]);break;case 16:l.advance();l.prev=A.LINE_TO;g=l;v.context.lineTo(g.buffer.f[g.fPos]-c,g.buffer.f[g.fPos+1]-d);e=g.buffer.f[g.fPos];g=g.buffer.f[g.fPos+1];break;case 17:l.advance();l.prev=A.MOVE_TO;q=l;v.context.moveTo(q.buffer.f[q.fPos]-c,q.buffer.f[q.fPos+1]-d);e=q.buffer.f[q.fPos];g=q.buffer.f[q.fPos+1];h=!0;k=q.buffer.f[q.fPos];q=q.buffer.f[q.fPos+1];break;case 15:l.advance();l.prev=A.LINE_STYLE;x=l;b&&v.hasStroke&&(v.context.closePath(),v.hitTesting||
v.context.stroke(),v.context.beginPath());v.context.moveTo(e-c,g-d);if(null==x.buffer.o[x.oPos])v.hasStroke=!1;else{v.context.lineWidth=0<x.buffer.o[x.oPos]?x.buffer.o[x.oPos]:1;v.context.lineJoin=null==x.buffer.o[x.oPos+6]?"round":N.string(x.buffer.o[x.oPos+6]).toLowerCase();if(null==x.buffer.o[x.oPos+5])v.context.lineCap="round";else switch(x.buffer.o[x.oPos+5][1]){case 0:v.context.lineCap="butt";break;default:v.context.lineCap=N.string(x.buffer.o[x.oPos+5]).toLowerCase()}v.context.miterLimit=null==
x.buffer.o[x.oPos+7]?3:x.buffer.o[x.oPos+7];1==x.buffer.o[x.oPos+2]||null==x.buffer.o[x.oPos+2]?v.context.strokeStyle=null==x.buffer.o[x.oPos+1]?"#000000":"#"+W.hex(x.buffer.o[x.oPos+1]&16777215,6):(w=(x.buffer.o[x.oPos+1]&16711680)>>>16,u=(x.buffer.o[x.oPos+1]&65280)>>>8,C=x.buffer.o[x.oPos+1]&255,v.context.strokeStyle=null==x.buffer.o[x.oPos+1]?"#000000":"rgba("+w+", "+u+", "+C+", "+x.buffer.o[x.oPos+2]+")");v.hasStroke=!0}break;case 14:l.advance();l.prev=A.LINE_GRADIENT_STYLE;x=l;b&&v.hasStroke&&
v.closePath();v.context.moveTo(e-c,g-d);v.context.strokeStyle=v.createGradientPattern(x.buffer.o[x.oPos],x.buffer.ii[x.iiPos],x.buffer.ff[x.ffPos],x.buffer.ii[x.iiPos+1],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.o[x.oPos+4]);v.hasStroke=!0;break;case 13:l.advance();l.prev=A.LINE_BITMAP_STYLE;x=l;b&&v.hasStroke&&v.closePath();v.context.moveTo(e-c,g-d);v.context.strokeStyle=v.createBitmapFill(x.buffer.o[x.oPos],x.buffer.b[x.bPos]);v.hasStroke=!0;break;case 0:l.advance();
l.prev=A.BEGIN_BITMAP_FILL;x=l;v.context.fillStyle=v.createBitmapFill(x.buffer.o[x.oPos],!0);v.hasFill=!0;null!=x.buffer.o[x.oPos+1]?(v.pendingMatrix=x.buffer.o[x.oPos+1],v.inversePendingMatrix=x.buffer.o[x.oPos+1].clone(),v.inversePendingMatrix.invert()):(v.pendingMatrix=null,v.inversePendingMatrix=null);break;case 1:l.advance();l.prev=A.BEGIN_FILL;x=l;0.005>x.buffer.f[x.fPos]?v.hasFill=!1:(v.context.fillStyle=1==x.buffer.f[x.fPos]?"#"+W.hex(x.buffer.i[x.iPos],6):"rgba("+((x.buffer.i[x.iPos]&16711680)>>>
16)+", "+((x.buffer.i[x.iPos]&65280)>>>8)+", "+(x.buffer.i[x.iPos]&255)+", "+x.buffer.f[x.fPos]+")",v.bitmapFill=null,v.hasFill=!0);break;case 2:l.advance();l.prev=A.BEGIN_GRADIENT_FILL;x=l;v.context.fillStyle=v.createGradientPattern(x.buffer.o[x.oPos],x.buffer.ii[x.iiPos],x.buffer.ff[x.ffPos],x.buffer.ii[x.iiPos+1],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.o[x.oPos+4]);v.bitmapFill=null;v.hasFill=!0;break;case 8:l.advance();l.prev=A.DRAW_RECT;x=l;w=!1;null!=v.bitmapFill&&
(D=B=y=u=0,C=!0,null!=v.pendingMatrix?0!=v.pendingMatrix.b||0!=v.pendingMatrix.c?C=!1:(B=v.inversePendingMatrix.transformPoint(new la(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1])),y=v.inversePendingMatrix.transformPoint(new la(x.buffer.f[x.fPos]+x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+1]+x.buffer.f[x.fPos+3])),u=B.y,D=B.x,B=y.y,y=y.x):(u=x.buffer.f[x.fPos+1],D=x.buffer.f[x.fPos],B=x.buffer.f[x.fPos+1]+x.buffer.f[x.fPos+3],y=x.buffer.f[x.fPos]+x.buffer.f[x.fPos+2]),C&&0<=u&&0<=D&&y<=v.bitmapFill.width&&
B<=v.bitmapFill.height&&(w=!0,v.hitTesting||v.context.drawImage(v.bitmapFill.image.get_src(),D,u,y-D,B-u,x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3])));w||v.context.rect(x.buffer.f[x.fPos]-c,x.buffer.f[x.fPos+1]-d,x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3]);break;default:l.advance(),l.prev=x}}l.destroy();b&&v.hasStroke&&(v.hasFill&&h?v.context.lineTo(k-c,q-d):h&&e==k&&g==q&&v.context.closePath(),v.hitTesting||v.context.stroke());b||!v.hasFill&&null==v.bitmapFill||
(v.context.translate(-v.bounds.x,-v.bounds.y),null!=v.pendingMatrix?(v.context.transform(v.pendingMatrix.a,v.pendingMatrix.b,v.pendingMatrix.c,v.pendingMatrix.d,v.pendingMatrix.tx,v.pendingMatrix.ty),v.hitTesting||v.context.fill(),v.context.transform(v.inversePendingMatrix.a,v.inversePendingMatrix.b,v.inversePendingMatrix.c,v.inversePendingMatrix.d,v.inversePendingMatrix.tx,v.inversePendingMatrix.ty)):v.hitTesting||v.context.fill(),v.context.translate(v.bounds.x,v.bounds.y),v.context.closePath())};
v.render=function(a,b){if(a.__dirty){v.hitTesting=!1;v.graphics=a;v.bounds=a.__bounds;if(!a.__visible||0==a.__commands.get_length()||null==v.bounds||0>=v.bounds.width||0>=v.bounds.height)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));v.context=a.__context;a.__canvas.width=Math.ceil(v.bounds.width);a.__canvas.height=Math.ceil(v.bounds.height);v.fillCommands.clear();v.strokeCommands.clear();
v.hasFill=!1;v.hasStroke=!1;v.bitmapFill=null;v.bitmapRepeat=!1;var c=new ec(a.__commands),d=0,e=a.__commands.types;try{for(;d<e.length;){var g=e[d];++d;switch(g[1]){case 3:var h;c.advance();c.prev=A.CUBIC_CURVE_TO;h=c;v.fillCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5],h.buffer.f[h.fPos+6]);v.strokeCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+
5],h.buffer.f[h.fPos+6]);break;case 4:var k;c.advance();c.prev=A.CURVE_TO;k=c;v.fillCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);v.strokeCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 16:var l;c.advance();c.prev=A.LINE_TO;l=c;v.fillCommands.lineTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);v.strokeCommands.lineTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);break;case 17:var q;c.advance();
c.prev=A.MOVE_TO;q=c;v.fillCommands.moveTo(q.buffer.f[q.fPos],q.buffer.f[q.fPos+1]);v.strokeCommands.moveTo(q.buffer.f[q.fPos],q.buffer.f[q.fPos+1]);break;case 12:c.advance();c.prev=A.END_FILL;c;v.endFill();v.endStroke();v.hasFill=!1;v.bitmapFill=null;break;case 15:var r;c.advance();c.prev=A.LINE_STYLE;r=c;v.strokeCommands.lineStyle(r.buffer.o[r.oPos],r.buffer.o[r.oPos+1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.o[r.oPos+4],r.buffer.o[r.oPos+5],r.buffer.o[r.oPos+6],r.buffer.o[r.oPos+7]);
break;case 14:var t;c.advance();c.prev=A.LINE_GRADIENT_STYLE;t=c;v.strokeCommands.lineGradientStyle(t.buffer.o[t.oPos],t.buffer.ii[t.iiPos],t.buffer.ff[t.ffPos],t.buffer.ii[t.iiPos+1],t.buffer.o[t.oPos+1],t.buffer.o[t.oPos+2],t.buffer.o[t.oPos+3],t.buffer.o[t.oPos+4]);break;case 13:var x;c.advance();c.prev=A.LINE_BITMAP_STYLE;x=c;v.strokeCommands.lineBitmapStyle(x.buffer.o[x.oPos],x.buffer.o[x.oPos+1],x.buffer.b[x.bPos],x.buffer.b[x.bPos+1]);break;case 0:case 1:case 2:v.endFill();v.endStroke();if(g==
A.BEGIN_BITMAP_FILL){var u;c.advance();c.prev=A.BEGIN_BITMAP_FILL;u=c;v.fillCommands.beginBitmapFill(u.buffer.o[u.oPos],u.buffer.o[u.oPos+1],u.buffer.b[u.bPos],u.buffer.b[u.bPos+1]);v.strokeCommands.beginBitmapFill(u.buffer.o[u.oPos],u.buffer.o[u.oPos+1],u.buffer.b[u.bPos],u.buffer.b[u.bPos+1])}else if(g==A.BEGIN_GRADIENT_FILL){var w;c.advance();c.prev=A.BEGIN_GRADIENT_FILL;w=c;v.fillCommands.beginGradientFill(w.buffer.o[w.oPos],w.buffer.ii[w.iiPos],w.buffer.ff[w.ffPos],w.buffer.ii[w.iiPos+1],w.buffer.o[w.oPos+
1],w.buffer.o[w.oPos+2],w.buffer.o[w.oPos+3],w.buffer.o[w.oPos+4]);v.strokeCommands.beginGradientFill(w.buffer.o[w.oPos],w.buffer.ii[w.iiPos],w.buffer.ff[w.ffPos],w.buffer.ii[w.iiPos+1],w.buffer.o[w.oPos+1],w.buffer.o[w.oPos+2],w.buffer.o[w.oPos+3],w.buffer.o[w.oPos+4])}else{var y;c.advance();c.prev=A.BEGIN_FILL;y=c;v.fillCommands.beginFill(y.buffer.i[y.iPos],y.buffer.f[y.fPos]);v.strokeCommands.beginFill(y.buffer.i[y.iPos],y.buffer.f[y.fPos])}break;case 5:var z;c.advance();c.prev=A.DRAW_CIRCLE;z=
c;v.fillCommands.drawCircle(z.buffer.f[z.fPos],z.buffer.f[z.fPos+1],z.buffer.f[z.fPos+2]);v.strokeCommands.drawCircle(z.buffer.f[z.fPos],z.buffer.f[z.fPos+1],z.buffer.f[z.fPos+2]);break;case 6:var B;c.advance();c.prev=A.DRAW_ELLIPSE;B=c;v.fillCommands.drawEllipse(B.buffer.f[B.fPos],B.buffer.f[B.fPos+1],B.buffer.f[B.fPos+2],B.buffer.f[B.fPos+3]);v.strokeCommands.drawEllipse(B.buffer.f[B.fPos],B.buffer.f[B.fPos+1],B.buffer.f[B.fPos+2],B.buffer.f[B.fPos+3]);break;case 8:var C;c.advance();c.prev=A.DRAW_RECT;
C=c;v.fillCommands.drawRect(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1],C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3]);v.strokeCommands.drawRect(C.buffer.f[C.fPos],C.buffer.f[C.fPos+1],C.buffer.f[C.fPos+2],C.buffer.f[C.fPos+3]);break;case 9:var D;c.advance();c.prev=A.DRAW_ROUND_RECT;D=c;v.fillCommands.drawRoundRect(D.buffer.f[D.fPos],D.buffer.f[D.fPos+1],D.buffer.f[D.fPos+2],D.buffer.f[D.fPos+3],D.buffer.f[D.fPos+4],D.buffer.f[D.fPos+5]);v.strokeCommands.drawRoundRect(D.buffer.f[D.fPos],D.buffer.f[D.fPos+
1],D.buffer.f[D.fPos+2],D.buffer.f[D.fPos+3],D.buffer.f[D.fPos+4],D.buffer.f[D.fPos+5]);break;case 11:v.endFill();v.endStroke();var F;c.advance();c.prev=A.DRAW_TRIANGLES;F=c;var G=F.buffer.o[F.oPos],I=F.buffer.o[F.oPos+1],E=F.buffer.o[F.oPos+2],H=null,J=null==v.bitmapFill;if(J&&null!=E)throw"__break__";if(!J){if(null==E){var L;L=new Sc;L.data=[];L.length=0;L.fixed=!1;for(var E=L,K=0,N=G.length/2|0;K<N;){var M=K++;if(!E.fixed){E.length++;if(E.data.length<E.length){var O;O=Array(E.data.length+10);xc.blit(E.data,
0,O,0,E.data.length);E.data=O}E.data[E.length-1]=G.data[2*M]/v.bitmapFill.width}E.length;if(!E.fixed){E.length++;if(E.data.length<E.length){var Q;Q=Array(E.data.length+10);xc.blit(E.data,0,Q,0,E.data.length);E.data=Q}E.data[E.length-1]=G.data[2*M+1]/v.bitmapFill.height}E.length}}var R=v.normalizeUVT(E,E.length!=G.length),P=R.max,E=R.uvt,H=1<P?v.createTempPatternCanvas(v.bitmapFill,v.bitmapRepeat,v.bounds.width|0,v.bounds.height|0):v.createTempPatternCanvas(v.bitmapFill,v.bitmapRepeat,v.bitmapFill.width,
v.bitmapFill.height)}for(var K=0,T=I.length,S,U,W,X,Y,Z,$,ba,ga,aa,ca,da,ea,fa,ha,ma,na,ia,ja,ka,la,oa,ra,sa,ua,va,wa,xa;K<T;){S=K;U=K+1;W=K+2;X=2*I.data[S];Y=2*I.data[S]+1;Z=2*I.data[U];$=2*I.data[U]+1;ba=2*I.data[W];ga=2*I.data[W]+1;aa=G.data[X];ca=G.data[Y];da=G.data[Z];ea=G.data[$];fa=G.data[ba];ha=G.data[ga];switch(F.buffer.o[F.oPos+3][1]){case 2:if(!(0>(da-aa)*(ha-ca)-(ea-ca)*(fa-aa))){K+=3;continue}break;case 0:if(0>(da-aa)*(ha-ca)-(ea-ca)*(fa-aa)){K+=3;continue}}J?(v.context.beginPath(),v.context.moveTo(aa,
ca),v.context.lineTo(da,ea),v.context.lineTo(fa,ha),v.context.closePath(),v.hitTesting||v.context.fill()):(v.context.save(),v.context.beginPath(),v.context.moveTo(aa,ca),v.context.lineTo(da,ea),v.context.lineTo(fa,ha),v.context.closePath(),v.context.clip(),ma=E.data[X]*H.width,ia=E.data[Z]*H.width,ka=E.data[ba]*H.width,na=E.data[Y]*H.height,ja=E.data[$]*H.height,la=E.data[ga]*H.height,oa=ma*(la-ja)-ia*la+ka*ja+(ia-ka)*na,0!=oa&&(ra=-(na*(fa-da)-ja*fa+la*da+(ja-la)*aa)/oa,sa=(ja*ha+na*(ea-ha)-la*ea+
(la-ja)*ca)/oa,ua=(ma*(fa-da)-ia*fa+ka*da+(ia-ka)*aa)/oa,va=-(ia*ha+ma*(ea-ha)-ka*ea+(ka-ia)*ca)/oa,wa=(ma*(la*da-ja*fa)+na*(ia*fa-ka*da)+(ka*ja-ia*la)*aa)/oa,xa=(ma*(la*ea-ja*ha)+na*(ia*ha-ka*ea)+(ka*ja-ia*la)*ca)/oa,v.context.transform(ra,sa,ua,va,wa,xa),v.context.drawImage(H,0,0),v.context.restore()));K+=3}break;case 10:var V;c.advance();c.prev=A.DRAW_TILES;V=c;var ya=0<(V.buffer.i[V.iPos]&1),Ba=v.bounds.x,Ca=v.bounds.y,za=0<(V.buffer.i[V.iPos]&2),Fa=0<(V.buffer.i[V.iPos]&16),Ka=0<(V.buffer.i[V.iPos]&
4),Ga=0<(V.buffer.i[V.iPos]&8),Da=0<(V.buffer.i[V.iPos]&32),Ia=0<(V.buffer.i[V.iPos]&64),Ja=0<(V.buffer.i[V.iPos]&65536);Fa&&(za=ya=!1);var La=K=H=0,Ea=0,qa=3;Da&&(qa=Ia?8:6);ya&&(H=qa,qa++);za&&(K=qa,qa++);Fa&&(Ea=qa,qa+=4);Ka&&(qa+=3);Ga&&(La=qa,qa++);var Ma=V.buffer.ff[V.ffPos].length;0<=V.buffer.i[V.iPos+1]&&Ma>V.buffer.i[V.iPos+1]&&(Ma=V.buffer.i[V.iPos+1]);var pa=0,ta=null,Aa=null,Pa=-1,Qa;V.buffer.ts[V.tsPos].__bitmap.__sync();Qa=V.buffer.ts[V.tsPos].__bitmap.image.get_src();Ja&&(v.context.globalCompositeOperation=
"lighter");for(;pa<Ma;){var Na;Na=Da?-1:V.buffer.ff[V.ffPos][pa+2]|0;Da||Na==Pa?Da&&(ta=V.buffer.ts[V.tsPos].__rectTile,ta.setTo(V.buffer.ff[V.ffPos][pa+2],V.buffer.ff[V.ffPos][pa+3],V.buffer.ff[V.ffPos][pa+4],V.buffer.ff[V.ffPos][pa+5]),Aa=V.buffer.ts[V.tsPos].__point,Ia?(Aa.x=V.buffer.ff[V.ffPos][pa+6],Aa.y=V.buffer.ff[V.ffPos][pa+7]):(Aa.x=0,Aa.y=0)):(ta=V.buffer.ts[V.tsPos].__tileRects[Na],Aa=V.buffer.ts[V.tsPos].__centerPoints[Na],Pa=Na);if(null!=ta&&0<ta.width&&0<ta.height&&null!=Aa){v.context.save();
v.context.translate(V.buffer.ff[V.ffPos][pa]-Ba,V.buffer.ff[V.ffPos][pa+1]-Ca);za&&v.context.rotate(V.buffer.ff[V.ffPos][pa+K]);var Oa=1;ya&&(Oa=V.buffer.ff[V.ffPos][pa+H]);Fa&&v.context.transform(V.buffer.ff[V.ffPos][pa+Ea],V.buffer.ff[V.ffPos][pa+Ea+1],V.buffer.ff[V.ffPos][pa+Ea+2],V.buffer.ff[V.ffPos][pa+Ea+3],0,0);Ga&&(v.context.globalAlpha=V.buffer.ff[V.ffPos][pa+La]);v.context.drawImage(Qa,ta.x,ta.y,ta.width,ta.height,-Aa.x*Oa,-Aa.y*Oa,ta.width*Oa,ta.height*Oa);v.context.restore()}pa+=qa}Ja&&
(v.context.globalCompositeOperation="source-over");break;default:c.advance(),c.prev=g}}}catch(Ra){if("__break__"!=Ra)throw Ra;}0<v.fillCommands.get_length()&&v.endFill();0<v.strokeCommands.get_length()&&v.endStroke();c.destroy();a.__bitmap=Ha.fromCanvas(a.__canvas)}a.set___dirty(!1)}};v.renderMask=function(a,b){if(0!=a.__commands.get_length()){v.context=b.context;for(var c=new ec(a.__commands),d=0,e=a.__commands.types;d<e.length;){var g=e[d];++d;switch(g[1]){case 3:c.advance();c.prev=A.CUBIC_CURVE_TO;
g=c;v.context.bezierCurveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+3]-0,g.buffer.f[g.fPos+4]-0,g.buffer.f[g.fPos+5]-0,g.buffer.f[g.fPos+6]-0);break;case 4:c.advance();c.prev=A.CURVE_TO;g=c;v.context.quadraticCurveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2]-0,g.buffer.f[g.fPos+3]-0);break;case 5:c.advance();c.prev=A.DRAW_CIRCLE;g=c;v.context.arc(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],0,2*Math.PI,!0);break;case 6:var h;c.advance();
c.prev=A.DRAW_ELLIPSE;h=c;var g=h.buffer.f[h.fPos],k=h.buffer.f[h.fPos+1],l=h.buffer.f[h.fPos+2],q=h.buffer.f[h.fPos+3],g=g-0,k=k-0;h=l/2*0.5522848;var r=q/2*0.5522848,t=g+l,x=k+q,l=g+l/2,q=k+q/2;v.context.moveTo(g,q);v.context.bezierCurveTo(g,q-r,l-h,k,l,k);v.context.bezierCurveTo(l+h,k,t,q-r,t,q);v.context.bezierCurveTo(t,q+r,l+h,x,l,x);v.context.bezierCurveTo(l-h,x,g,q+r,g,q);break;case 8:c.advance();c.prev=A.DRAW_RECT;g=c;v.context.rect(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+
2],g.buffer.f[g.fPos+3]);break;case 9:c.advance();c.prev=A.DRAW_ROUND_RECT;g=c;v.drawRoundRect(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);break;case 16:c.advance();c.prev=A.LINE_TO;g=c;v.context.lineTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;case 17:c.advance();c.prev=A.MOVE_TO;g=c;v.context.moveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;default:c.advance(),c.prev=g}}c.destroy()}};var jd=function(a){this.renderSession=
a};q["openfl._internal.renderer.canvas.CanvasMaskManager"]=jd;jd.__name__=!0;jd.__super__=ac;jd.prototype=u(ac.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getWorldTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},
popRect:function(){this.renderSession.context.restore()},__class__:jd});var Pd=function(a,b,c){Ua.call(this,a,b);this.context=c;this.renderSession=new Dc;this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new jd(this.renderSession)};q["openfl._internal.renderer.canvas.CanvasRenderer"]=Pd;Pd.__name__=!0;Pd.__super__=Ua;Pd.prototype=u(Ua.prototype,{render:function(a){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=
1;!a.__transparent&&a.__clearBeforeRender?(this.context.fillStyle=a.__colorString,this.context.fillRect(0,0,a.stageWidth,a.stageHeight)):a.__transparent&&a.__clearBeforeRender&&this.context.clearRect(0,0,a.stageWidth,a.stageHeight);a.__renderCanvas(this.renderSession)},__class__:Pd});var $e=function(){};q["openfl._internal.renderer.canvas.CanvasShape"]=$e;$e.__name__=!0;$e.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(v.render(c,b),null!=c.__canvas)){var d=
b.context,e=a.get_scrollRect();if(0<c.__bounds.width&&0<c.__bounds.height&&(null==e||0<e.width&&0<e.height)){null!=a.__mask&&b.maskManager.pushMask(a.__mask);d.globalAlpha=a.__worldAlpha;var g=a.__worldTransform;b.roundPixels?d.setTransform(g.a,g.b,g.c,g.d,g.tx|0,g.ty|0):d.setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty);null==e?d.drawImage(c.__canvas,c.__bounds.x,c.__bounds.y):d.drawImage(c.__canvas,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+
e.y),e.width,e.height);null!=a.__mask&&b.maskManager.popMask()}}}};var Ba=function(){};q["openfl._internal.renderer.canvas.CanvasTextField"]=Ba;Ba.__name__=!0;Ba.context=null;Ba.render=function(a,b){if(a.__dirty){var c=a.__textEngine;a.__updateLayout();if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus)||(0>=c.width||0>=c.height)&&c.autoSize!=Va.NONE)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{var d=c.bounds;if(null==a.__graphics||
null==a.__graphics.__canvas)null==a.__graphics&&(a.__graphics=new sc),a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=a.__graphics.__canvas.getContext("2d"),a.__graphics.__bounds=new sa(0,0,d.width,d.height);var e=a.__graphics;Ba.context=e.__context;if(null!=c.text&&""!=c.text||c.__hasFocus){var g=c.text;if(c.displayAsPassword){for(var g=g.length,h="",k=0;k<g;)k++,h+="*";g=h}e.__canvas.width=Math.ceil(d.width);e.__canvas.height=Math.ceil(d.height);c.antiAliasType!=
Wb.ADVANCED||c.gridFitType!=mb.PIXEL?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1);if(c.border||c.background)Ba.context.rect(0.5,0.5,d.width-1,d.height-1),c.background&&(Ba.context.fillStyle="#"+W.hex(c.backgroundColor,6),Ba.context.fill()),c.border&&(Ba.context.lineWidth=1,Ba.context.strokeStyle="#"+W.hex(c.borderColor,
6),Ba.context.stroke());Ba.context.textBaseline="top";Ba.context.textAlign="start";for(var d=-a.get_scrollH(),k=h=0,l=a.get_scrollV()-1;k<l;)var q=k++,h=h-c.lineHeights[q];for(var r,k=0,l=(new Ob("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),q=0,t=c.layoutGroups;q<t.length;){var x=t[q];++q;if(!(x.lineIndex<a.get_scrollV()-1)){if(x.lineIndex>a.get_scrollV()+c.bottomScrollV-2)break;Ba.context.font=Fa.getFont(x.format);Ba.context.fillStyle="#"+W.hex(x.format.color,6);l&&(k=0.185*
x.format.size);Ba.context.fillText(g.substring(x.startIndex,x.endIndex),x.offsetX+d,x.offsetY+k+h);if(-1<a.__caretIndex&&c.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&x.startIndex<=a.__caretIndex&&x.endIndex>=a.__caretIndex){for(var u=r=0,w=a.__caretIndex-x.startIndex;u<w;){var v=u++;if(x.advances.length<=v)break;r+=x.advances[v]}Ba.context.fillRect(x.offsetX+r,x.offsetY,1,x.height)}}else if(x.startIndex<=a.__caretIndex&&x.endIndex>=a.__caretIndex||x.startIndex<=a.__selectionIndex&&
x.endIndex>=a.__selectionIndex)r=N["int"](Math.min(a.__selectionIndex,a.__caretIndex)),u=N["int"](Math.max(a.__selectionIndex,a.__caretIndex)),x.startIndex>r&&(r=x.startIndex),x.endIndex<u&&(u=x.endIndex),w=a.getCharBoundaries(r),u>=c.text.length?(v=a.getCharBoundaries(c.text.length-1),v.x+=v.width+2):v=a.getCharBoundaries(u),null!=w&&null!=v&&(Ba.context.fillStyle="#000000",Ba.context.fillRect(w.x,w.y,v.x-w.x,x.height),Ba.context.fillStyle="#FFFFFF",Ba.context.fillText(g.substring(r,u),d+w.x,x.offsetY+
k+h))}}}else if(e.__canvas.width=Math.ceil(d.width),e.__canvas.height=Math.ceil(d.height),c.border||c.background)c.border?Ba.context.rect(0.5,0.5,d.width-1,d.height-1):Ba.context.rect(0,0,d.width,d.height),c.background&&(Ba.context.fillStyle="#"+W.hex(c.backgroundColor,6),Ba.context.fill()),c.border&&(Ba.context.lineWidth=1,Ba.context.lineCap="square",Ba.context.strokeStyle="#"+W.hex(c.borderColor,6),Ba.context.stroke());e.__bitmap=Ha.fromCanvas(a.__graphics.__canvas);a.__dirty=!1;e.set___dirty(!1)}}};
var Qd=function(a,b,c){Ua.call(this,a,b);throw new F("ConsoleRenderer not supported");};q["openfl._internal.renderer.console.ConsoleRenderer"]=Qd;Qd.__name__=!0;Qd.__super__=Ua;Qd.prototype=u(Ua.prototype,{render:function(a){},__class__:Qd});var Rd=function(){};q["openfl._internal.renderer.dom.DOMBitmap"]=Rd;Rd.__name__=!0;Rd.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=
a.__canvas.getContext("2d"),a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),nb.initializeElement(a,a.__canvas,b));a.bitmapData.__sync();a.__canvas.width=a.bitmapData.width;a.__canvas.height=a.bitmapData.height;a.__context.globalAlpha=a.__worldAlpha;a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0);nb.applyStyle(a,b,!0,!1,!0)};Rd.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),
a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,nb.initializeElement(a,a.__image,b));nb.applyStyle(a,b,!0,!0,!0)};var Sd=function(a){this.renderSession=a};q["openfl._internal.renderer.dom.DOMMaskManager"]=Sd;Sd.__name__=!0;Sd.__super__=ac;Sd.prototype=u(ac.prototype,{pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},__class__:Sd});var nb=function(a,b,c){Ua.call(this,a,b);this.element=c;this.renderSession=
new Dc;this.renderSession.element=c;this.renderSession.roundPixels=!0;a=window.getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(RegExp("("+a+")","i"));a[0].toUpperCase();a.substr(1);this.renderSession.vendorPrefix=a;this.renderSession.transformProperty="webkit"==a?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==a?"-webkit-transform-origin":"transform-origin";
this.renderSession.maskManager=new Sd(this.renderSession);this.renderSession.renderer=this};q["openfl._internal.renderer.dom.DOMRenderer"]=nb;nb.__name__=!0;nb.applyStyle=function(a,b,c,d,e){var g=a.__style;c&&a.__worldTransformChanged&&g.setProperty(b.transformProperty,a.__worldTransform.to3DString(b.roundPixels),null);a.__worldZ!=++b.z&&(a.__worldZ=b.z,g.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?g.setProperty("opacity",null==a.__worldAlpha?
"null":""+a.__worldAlpha,null):g.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?g.removeProperty("clip"):(b=sa.__temp,c=ra.__temp,c.copyFrom(a.__worldTransform),c.invert(),a.__worldClip.__transform(b,c),g.setProperty("clip","rect("+b.y+"px, "+b.get_right()+"px, "+b.get_bottom()+"px, "+b.x+"px)",null)))};nb.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,
"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__worldClipChanged=!0;a.__worldTransformChanged=!0;a.__worldVisibleChanged=!0;a.__worldZ=-1};nb.__super__=Ua;nb.prototype=u(Ua.prototype,{render:function(a){this.element.style.background=a.__colorString;this.renderSession.z=1;a.__renderDOM(this.renderSession)},__class__:nb});var af=function(){};q["openfl._internal.renderer.dom.DOMShape"]=af;af.__name__=!0;af.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&
a.__renderable&&null!=c){if(c.__dirty||a.__worldAlphaChanged||null==a.__canvas&&null!=c.__canvas)v.render(c,b),null!=c.__canvas?(null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),nb.initializeElement(a,a.__canvas,b)),a.__canvas.width=c.__canvas.width,a.__canvas.height=c.__canvas.height,a.__context.globalAlpha=a.__worldAlpha,a.__context.drawImage(c.__canvas,0,0)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=
null);if(null!=a.__canvas){if(a.__worldTransformChanged||c.__transformDirty){c.__transformDirty=!1;var d=ra.__temp;d.identity();d.translate(c.__bounds.x,c.__bounds.y);d.concat(a.__worldTransform);a.__style.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null)}nb.applyStyle(a,b,!1,!1,!0)}}else null!=a.__canvas&&
(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var mf=function(){};q["openfl._internal.renderer.dom.DOMTextField"]=mf;mf.__name__=!0;mf.render=function(a,b){var c=a.__textEngine;if(null!=a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||null==a.__div)if(""!=c.text||c.background||c.border||c.type==Mb.INPUT){null==a.__div&&(a.__div=window.document.createElement("div"),nb.initializeElement(a,a.__div,b),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",
function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.selectable?a.__style.setProperty("cursor","text",null):a.__style.setProperty("cursor","inherit",null);a.__div.contentEditable=c.type==Mb.INPUT;var d=a.__style;a.__div.innerHTML=c.text;c.background?d.setProperty("background-color","#"+W.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+W.hex(c.borderColor,6),null):
d.removeProperty("border");d.setProperty("font",Fa.getFont(a.__textFormat),null);d.setProperty("color","#"+W.hex(a.__textFormat.color,6),null);c.autoSize!=Va.NONE?d.setProperty("width","auto",null):d.setProperty("width",c.width+"px",null);d.setProperty("height",c.height+"px",null);switch(a.__textFormat.align[1]){case 3:d.setProperty("text-align","center",null);break;case 1:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&
(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&nb.applyStyle(a,b,!0,!0,!1)}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null,a.__style=null)};var nf=function(){};q["openfl._internal.renderer.opengl.GLBitmap"]=nf;nf.__name__=!0;nf.flipMatrix=function(a,b){var c=a.tx,d=a.ty;a.tx=0;a.ty=0;a.scale(1,-1);a.translate(0,b);a.tx+=c;a.ty-=d};var cb=function(a,b,c,d,e,g){null==g&&(g=!1);null==e&&(e=!1);null==d&&(d=!1);null==b&&(b=600);null==a&&(a=800);this.vpX=this.vpY=this.vpWidth=
this.vpHeight=0;Ua.call(this,a,b);this.transparent=d;this.preserveDrawingBuffer=g;this.width=a;this.height=b;this.viewport=new sa;this.options={alpha:d,antialias:e,premultipliedAlpha:d,stencil:!0,preserveDrawingBuffer:g};this._glContextId=cb.glContextId++;this.gl=c;this.defaultFramebuffer=null;cb.glContexts[this._glContextId]=c;this.projectionMatrix=new ra;this.projection=new la;this.projection.x=this.width/2;this.projection.y=-this.height/2;this.offset=new la(0,0);this.resize(this.width,this.height);
this.contextLost=!1;this.shaderManager=new Ne(c);this.spriteBatch=new Oe(c);this.filterManager=new Pe(c,this.transparent);this.stencilManager=new Qe(c);this.blendModeManager=new Re(c);this.renderSession=new Dc;this.renderSession.gl=this.gl;this.renderSession.drawCount=0;this.renderSession.shaderManager=this.shaderManager;this.renderSession.filterManager=this.filterManager;this.renderSession.blendModeManager=this.blendModeManager;this.renderSession.spriteBatch=this.spriteBatch;this.renderSession.stencilManager=
this.stencilManager;this.renderSession.renderer=this;this.renderSession.defaultFramebuffer=this.defaultFramebuffer;this.renderSession.projectionMatrix=this.projectionMatrix;this.maskManager=new Td(this.renderSession);this.renderSession.maskManager=this.maskManager;this.shaderManager.setShader(this.shaderManager.defaultShader);c.disable(c.DEPTH_TEST);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.colorMask(!0,!0,!0,this.transparent)};q["openfl._internal.renderer.opengl.GLRenderer"]=cb;cb.__name__=!0;cb.renderBitmap=
function(a,b,c){null==c&&(c=!0);if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.__graphics&&null!=a.__graphics.__bitmap){var d=sa.__temp,e=ra.__temp;d.setEmpty();e.identity();a.__getBounds(d,e);d=a.__graphics.__bitmap;e.translate(a.__graphics.__bounds.x,a.__graphics.__bounds.y);e.concat(a.__renderTransform);b.spriteBatch.renderBitmapData(d,c,e,a.__worldColorTransform,a.__worldAlpha,a.__blendMode,fb.ALWAYS)}};cb.__super__=Ua;cb.prototype=u(Ua.prototype,{setViewport:function(a,b,c,d){if(this.vpX!=
a||this.vpY!=b||this.vpWidth!=c||this.vpHeight!=d)this.vpX=a,this.vpY=b,this.vpWidth=c,this.vpHeight=d,this.gl.viewport(a,b,c,d),this.setOrtho(a,b,c,d),this.viewport.setTo(a,b,c,d)},setOrtho:function(a,b,c,d){var e=this.projectionMatrix;e.identity();e.a=1/c*2;e.d=-1/d*2;e.tx=-1-a*e.a;e.ty=1-b*e.d},render:function(a){if(!this.contextLost){var b=this.gl;this.setViewport(0,0,this.width,this.height);b.bindFramebuffer(b.FRAMEBUFFER,this.defaultFramebuffer);this.transparent?b.clearColor(0,0,0,0):b.clearColor(a.__colorSplit[0],
a.__colorSplit[1],a.__colorSplit[2],1);b.clear(b.COLOR_BUFFER_BIT);this.renderDisplayObject(a,this.projection)}},renderDisplayObject:function(a,b,c){this.renderSession.blendModeManager.setBlendMode(S.NORMAL);this.renderSession.drawCount=0;this.renderSession.currentBlendMode=null;this.spriteBatch.begin(this.renderSession);this.filterManager.begin(this.renderSession,c);a.__renderGL(this.renderSession);this.spriteBatch.finish()},resize:function(a,b){this.width=a;this.height=b;Ua.prototype.resize.call(this,
a,b);this.setViewport(0,0,a,b);this.projection.x=a/2;this.projection.y=-b/2},__class__:cb});var Ca=function(a){this.uniforms=new aa;this.attributes=new aa;this.ID=Ca.UID++;this.gl=a;this.program=null};q["openfl._internal.renderer.opengl.shaders2.Shader"]=Ca;Ca.__name__=!0;Ca.compileProgram=function(a,b,c){b=Ca.compileShader(a,b,a.VERTEX_SHADER);c=Ca.compileShader(a,c,a.FRAGMENT_SHADER);var d=a.createProgram();null!=b&&null!=c&&(a.attachShader(d,b),a.attachShader(d,c),a.linkProgram(d),0==a.getProgramParameter(d,
a.LINK_STATUS)&&Ka.trace("Could not initialize shaders",{fileName:"Shader.hx",lineNumber:127,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}));return d};Ca.compileShader=function(a,b,c){b=b.join("\n");c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);return 0==a.getShaderParameter(c,a.COMPILE_STATUS)?(Ka.trace(a.getShaderInfoLog(c),{fileName:"Shader.hx",lineNumber:141,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),
null):c};Ca.prototype={init:function(){this.program=Ca.compileProgram(this.gl,this.vertexSrc,this.fragmentSrc);this.gl.useProgram(this.program)},getAttribLocation:function(a){if(null==this.program)throw new F("Shader isn't initialized");if(this.attributes.exists(a))return this.attributes.get(a);var b=this.gl.getAttribLocation(this.program,a);this.attributes.set(a,b);return b},getUniformLocation:function(a){if(null==this.program)throw new F("Shader isn't initialized");if(this.uniforms.exists(a))return this.uniforms.get(a);
var b=this.gl.getUniformLocation(this.program,a);this.uniforms.set(a,b);return b},enableVertexAttribute:function(a,b,c){var d=this.getAttribLocation(a.name);this.gl.enableVertexAttribArray(d);this.gl.vertexAttribPointer(d,a.components,a.type,a.normalized,b,4*c)},disableVertexAttribute:function(a,b){null==b&&(b=!0);var c=this.getAttribLocation(a.name);this.gl.disableVertexAttribArray(c);if(b)switch(a.components){case 1:this.gl.vertexAttrib1fv(c,a.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(c,
a.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(c,a.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(c,a.defaultValue.subarray(0,4))}},bindVertexArray:function(a){var b=0,c=a.get_stride(),d=0;for(a=a.attributes;d<a.length;){var e=a[d];++d;e.enabled?(this.enableVertexAttribute(e,c,b),b+=Math.floor(e.components*e.getElementsBytes()/4)):this.disableVertexAttribute(e,!0)}},__class__:Ca};var Ud=function(a){Ca.call(this,a);this.vertexSrc=["attribute vec2 aPosition;",
"attribute vec2 aTexCoord0;","attribute vec4 aColor;","uniform mat3 uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((uProjectionMatrix * vec3(aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = aTexCoord0;","   vColor = aColor;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D uSampler0;","uniform vec4 uColorMultiplier;","uniform vec4 uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;",
"vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(uSampler0, vTexCoord);",
"   gl_FragColor = colorTransform(tc, vColor, uColorMultiplier, uColorOffset);","}"];this.init()};q["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Ud;Ud.__name__=!0;Ud.__super__=Ca;Ud.prototype=u(Ca.prototype,{init:function(){Ca.prototype.init.call(this);this.getAttribLocation("aPosition");this.getAttribLocation("aTexCoord0");this.getAttribLocation("aColor");this.getUniformLocation("uProjectionMatrix");this.getUniformLocation("uSampler0");this.getUniformLocation("uColorMultiplier");this.getUniformLocation("uColorOffset")},
__class__:Ud});var Vd=function(a){Ca.call(this,a);this.vertexSrc=["attribute vec2 aPosition;","attribute vec2 aTexCoord0;","attribute vec4 aColor;","uniform mat3 uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((uProjectionMatrix * vec3(aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = aTexCoord0;","   vColor = aColor.bgra;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D uSampler0;","uniform vec3 uColor;",
"uniform bool uUseTexture;","uniform float uAlpha;","uniform vec4 uColorMultiplier;","uniform vec4 uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);",
"   return result;","}","void main(void) {","   if(uUseTexture) {","       tmp = texture2D(uSampler0, vTexCoord);","   } else {","       tmp = vec4(uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, uColorMultiplier, uColorOffset);","}"];this.init()};q["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Vd;Vd.__name__=!0;Vd.__super__=Ca;Vd.prototype=u(Ca.prototype,{init:function(){Ca.prototype.init.call(this);this.getAttribLocation("aPosition");this.getAttribLocation("aTexCoord0");
this.getAttribLocation("aColor");this.getUniformLocation("uSampler0");this.getUniformLocation("uProjectionMatrix");this.getUniformLocation("uColor");this.getUniformLocation("uAlpha");this.getUniformLocation("uUseTexture");this.getUniformLocation("uColorMultiplier");this.getUniformLocation("uColorOffset")},__class__:Vd});var Wd=function(a){Ca.call(this,a);this.vertexSrc=["attribute vec2 aPosition;","uniform mat3 uTranslationMatrix;","uniform mat3 uProjectionMatrix;","uniform vec4 uColor;","uniform float uAlpha;",
"uniform vec4 uColorMultiplier;","uniform vec4 uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((uProjectionMatrix * uTranslationMatrix * vec3(aPosition, 1.0)).xy, 0.0, 1.0);",
"   vColor = colorTransform(uColor, uAlpha, uColorMultiplier, uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};q["openfl._internal.renderer.opengl.shaders2.FillShader"]=Wd;Wd.__name__=!0;Wd.__super__=Ca;Wd.prototype=u(Ca.prototype,{init:function(){Ca.prototype.init.call(this);this.getAttribLocation("aPosition");this.getUniformLocation("uTranslationMatrix");this.getUniformLocation("uProjectionMatrix");
this.getUniformLocation("uColor");this.getUniformLocation("uColorMultiplier");this.getUniformLocation("uColorOffset")},__class__:Wd});var Xd=function(a){Ca.call(this,a);this.vertexSrc=["attribute vec2 aPosition;","uniform mat3 uTranslationMatrix;","uniform mat3 uProjectionMatrix;","uniform mat3 uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((uProjectionMatrix * uTranslationMatrix * vec3(aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (uPatternMatrix * vec3(aPosition, 1)).xy;",
"}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float uAlpha;","uniform vec2 uPatternTL;","uniform vec2 uPatternBR;","uniform sampler2D uSampler0;","uniform vec4 uColorMultiplier;","uniform vec4 uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;",
"   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(uPatternTL, uPatternBR, vPosition);","   vec4 tcol = texture2D(uSampler0, pos);","   gl_FragColor = colorTransform(tcol, uAlpha, uColorMultiplier, uColorOffset);","}"];this.init()};q["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Xd;Xd.__name__=!0;Xd.__super__=Ca;Xd.prototype=u(Ca.prototype,{init:function(){Ca.prototype.init.call(this);
this.getAttribLocation("aPosition");this.getUniformLocation("uTranslationMatrix");this.getUniformLocation("uPatternMatrix");this.getUniformLocation("uProjectionMatrix");this.getUniformLocation("uSampler0");this.getUniformLocation("uPatternTL");this.getUniformLocation("uPatternBR");this.getUniformLocation("uAlpha");this.getUniformLocation("uColorMultiplier");this.getUniformLocation("uColorOffset")},__class__:Xd});var Yd=function(a){Ca.call(this,a);this.vertexSrc=["attribute vec2 aPosition;","attribute vec4 aColor;",
"uniform mat3 uTranslationMatrix;","uniform mat3 uProjectionMatrix;","uniform vec4 uColorMultiplier;","uniform vec4 uColorOffset;","uniform float uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {",
"   gl_Position = vec4((uProjectionMatrix * uTranslationMatrix * vec3(aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(aColor, uAlpha, uColorMultiplier, uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};q["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Yd;Yd.__name__=!0;Yd.__super__=Ca;Yd.prototype=u(Ca.prototype,{init:function(){Ca.prototype.init.call(this);
this.getAttribLocation("aPosition");this.getAttribLocation("aColor");this.getUniformLocation("uTranslationMatrix");this.getUniformLocation("uProjectionMatrix");this.getUniformLocation("uAlpha");this.getUniformLocation("uColorMultiplier");this.getUniformLocation("uColorOffset")},__class__:Yd});var Re=function(a){this.gl=a;this.currentBlendMode=null};q["openfl._internal.renderer.opengl.utils.BlendModeManager"]=Re;Re.__name__=!0;Re.prototype={setBlendMode:function(a,b){null==b&&(b=!1);null==a&&(a=S.NORMAL,
b=!0);if(!b&&this.currentBlendMode==a)return!1;this.currentBlendMode=a;switch(a[1]){case 0:this.gl.blendEquation(32774);this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774);this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774);this.gl.blendFunc(1,769);break;case 13:this.gl.blendEquation(32779);this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:Re};var ta=function(a){null==a&&(a=!0);this.type=da.Polygon;this.points=
null;this.winding=0;this.isRemovable=!0;this.fillIndex=0;this.line=new kd;this.fill=Wa.None;a&&(this.points=[])};q["openfl._internal.renderer.opengl.utils.DrawPath"]=ta;ta.__name__=!0;ta.getStack=function(a,b){return w.build(a,b)};ta.prototype={update:function(a,b,c,d){this.updateLine(a);this.fill=b;this.fillIndex=c;this.winding=d},updateLine:function(a){this.line.width=a.width;this.line.color=a.color;this.line.alpha=null==a.alpha?1:a.alpha;this.line.scaleMode=null==a.scaleMode?gb.NORMAL:a.scaleMode;
this.line.caps=null==a.caps?Eb.ROUND:a.caps;this.line.joints=null==a.joints?Fb.ROUND:a.joints;this.line.miterLimit=a.miterLimit},__class__:ta};var w=function(){};q["openfl._internal.renderer.opengl.utils.PathBuiler"]=w;w.__name__=!0;w.__currentPath=null;w.__drawPaths=null;w.__line=null;w.__fill=null;w.closePath=function(){var a;a=null==w.__currentPath.points?0:w.__currentPath.points.length;if(!(0>=a)&&w.__currentPath.type==da.Polygon&&w.__currentPath.fill!=Wa.None){var b=w.__currentPath.points[0],
c=w.__currentPath.points[1],d=w.__currentPath.points[a-1];b==w.__currentPath.points[a-2]&&c==d||w.lineTo(b,c)}};w.endFill=function(){w.__fill=Wa.None;w.__fillIndex++};w.lineTo=function(a,b){var c=w.__currentPath.points,d=!0;if(1<c.length){var e=c[c.length-1];c[c.length-2]==a&&e==b&&(d=!1)}!0==d&&(w.__currentPath.points.push(a),w.__currentPath.points.push(b))};w.build=function(a,b){var c=null,d=a.__bounds;w.__drawPaths=[];w.__currentPath=new ta;w.__line=new kd;w.__fill=Wa.None;w.__fillIndex=0;c=a.__glStack[cb.glContextId];
null==c&&(c=a.__glStack[cb.glContextId]=new Se(b));if(a.__visible&&0!=a.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height){for(var d=new ec(a.__commands),e=0,g=a.__commands.types;e<g.length;){var h=g[e];++e;switch(h[1]){case 0:d.advance();d.prev=A.BEGIN_BITMAP_FILL;h=d;w.endFill();w.__fill=null!=h.buffer.o[h.oPos]?Wa.Texture(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]):Wa.None;if(null==w.__currentPath.points||0==w.__currentPath.points.length)!w.__currentPath.isRemovable||
null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.points=[],w.__currentPath.type=da.Polygon,w.__drawPaths.push(w.__currentPath);break;case 1:d.advance();d.prev=A.BEGIN_FILL;h=d;w.endFill();w.__fill=0<h.buffer.f[h.fPos]?Wa.Color(h.buffer.i[h.iPos]&16777215,h.buffer.f[h.fPos]):Wa.None;if(null==w.__currentPath.points||0==w.__currentPath.points.length)!w.__currentPath.isRemovable||
null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.points=[],w.__currentPath.type=da.Polygon,w.__drawPaths.push(w.__currentPath);break;case 3:d.advance();d.prev=A.CUBIC_CURVE_TO;h=d;if(null==w.__currentPath.points||0==w.__currentPath.points.length)!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?
w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.type=da.Polygon,w.__currentPath.points.push(0),w.__currentPath.points.push(0),w.__drawPaths.push(w.__currentPath);Ea.cubicCurveTo(w.__currentPath.points,h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5],h.buffer.f[h.fPos+6]);break;case 4:d.advance();d.prev=A.CURVE_TO;h=d;if(null==w.__currentPath.points||
0==w.__currentPath.points.length)!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.type=da.Polygon,w.__currentPath.points.push(0),w.__currentPath.points.push(0),w.__drawPaths.push(w.__currentPath);Ea.curveTo(w.__currentPath.points,h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+
3]);break;case 5:d.advance();d.prev=A.DRAW_CIRCLE;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Circle;w.__currentPath.points=[h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]];w.__drawPaths.push(w.__currentPath);break;case 6:d.advance();d.prev=A.DRAW_ELLIPSE;h=d;!w.__currentPath.isRemovable||
null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Ellipse;w.__currentPath.points=[h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]];w.__drawPaths.push(w.__currentPath);break;case 8:d.advance();d.prev=A.DRAW_RECT;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?
w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Rectangle(!1);w.__currentPath.points=[h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]];w.__drawPaths.push(w.__currentPath);break;case 9:var k;d.advance();d.prev=A.DRAW_ROUND_RECT;k=d;var h=k.buffer.f[k.fPos],l=k.buffer.f[k.fPos+1],q=k.buffer.f[k.fPos+2],r=k.buffer.f[k.fPos+3],t=k.buffer.f[k.fPos+4];k=k.buffer.f[k.fPos+
5];-1==k&&(k=t);t*=0.5;k*=0.5;t>q/2&&(t=q/2);k>r/2&&(k=r/2);!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Rectangle(!0);w.__currentPath.points=[h,l,q,r,t,k];w.__drawPaths.push(w.__currentPath);break;case 12:d.advance();d.prev=A.END_FILL;w.endFill();break;case 15:d.advance();d.prev=A.LINE_STYLE;h=d;
w.__line=new kd;null==h.buffer.o[h.oPos]||isNaN(h.buffer.o[h.oPos])||0>h.buffer.o[h.oPos]?w.__line.width=0:w.__line.width=0==h.buffer.o[h.oPos]?1:h.buffer.o[h.oPos];!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__line.color=null==h.buffer.o[h.oPos+1]?0:h.buffer.o[h.oPos+1];w.__line.alpha=null==h.buffer.o[h.oPos+2]?1:h.buffer.o[h.oPos+2];w.__line.scaleMode=h.buffer.o[h.oPos+4];w.__line.caps=h.buffer.o[h.oPos+5];w.__line.joints=
h.buffer.o[h.oPos+6];w.__line.miterLimit=h.buffer.o[h.oPos+7];w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.points=[];w.__currentPath.type=da.Polygon;w.__drawPaths.push(w.__currentPath);break;case 16:d.advance();d.prev=A.LINE_TO;h=d;w.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 17:d.advance();d.prev=A.MOVE_TO;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():
w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Polygon;w.__currentPath.points.push(h.buffer.f[h.fPos]);w.__currentPath.points.push(h.buffer.f[h.fPos+1]);w.__drawPaths.push(w.__currentPath);break;case 11:d.advance();d.prev=A.DRAW_TRIANGLES;k=d;t=k.buffer.o[k.oPos+2];h=k.buffer.o[k.oPos];l=k.buffer.o[k.oPos+1];q=k.buffer.o[k.oPos+3];r=k.buffer.o[k.oPos+4];k=k.buffer.i[k.iPos];var x;switch(w.__fill[1]){case 1:x=
!0;break;default:x=!1}if(x&&null!=t)continue;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);if(null==t)switch(t=new Sc,t.data=[],t.length=0,t.fixed=!1,x=w.__fill,x[1]){case 2:x=x[2];for(var u=0,v=h.length/2|0;u<v;){var y=u++;if(!t.fixed){t.length++;if(t.data.length<t.length){var z;z=Array(t.data.length+10);xc.blit(t.data,
0,z,0,t.data.length);t.data=z}t.data[t.length-1]=h.data[2*y]/x.width}t.length;t.fixed||(t.length++,t.data.length<t.length&&(z=Array(t.data.length+10),xc.blit(t.data,0,z,0,t.data.length),t.data=z),t.data[t.length-1]=h.data[2*y+1]/x.height);t.length}}w.__currentPath.type=da.DrawTriangles(h,l,t,q,r,k);w.__currentPath.isRemovable=!1;w.__drawPaths.push(w.__currentPath);break;case 10:d.advance();d.prev=A.DRAW_TILES;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?
w.closePath():w.__drawPaths.pop();w.__fillIndex++;w.__currentPath=new ta(!1);w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.DrawTiles(h.buffer.ts[h.tsPos],h.buffer.ff[h.ffPos],h.buffer.b[h.bPos],h.buffer.i[h.iPos],h.buffer.i[h.iPos+1]);w.__currentPath.isRemovable=!1;w.__drawPaths.push(w.__currentPath);break;case 7:d.advance();d.prev=A.DRAW_PATH;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():
w.__drawPaths.pop();switch(h.buffer.o[h.oPos+2]){case qc.EVEN_ODD:w.__currentWinding=0;break;case qc.NON_ZERO:w.__currentWinding=1;break;default:w.__currentWinding=0}q=l=0;for(r=h.buffer.o[h.oPos].length;q<r;)switch(t=q++,t=h.buffer.o[h.oPos].data[t],t){case 1:v=h.buffer.o[h.oPos+1].data[l];y=h.buffer.o[h.oPos+1].data[l+1];l+=2;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,
w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.Polygon;w.__currentPath.points.push(v);w.__currentPath.points.push(y);w.__drawPaths.push(w.__currentPath);break;case 4:v=h.buffer.o[h.oPos+1].data[l+2];y=h.buffer.o[h.oPos+1].data[l+3];l+=4;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=
da.Polygon;w.__currentPath.points.push(v);w.__currentPath.points.push(y);w.__drawPaths.push(w.__currentPath);break;case 2:v=h.buffer.o[h.oPos+1].data[l];y=h.buffer.o[h.oPos+1].data[l+1];l+=2;w.lineTo(v,y);break;case 5:v=h.buffer.o[h.oPos+1].data[l+2];y=h.buffer.o[h.oPos+1].data[l+3];l+=4;w.lineTo(v,y);break;case 3:t=h.buffer.o[h.oPos+1].data[l];k=h.buffer.o[h.oPos+1].data[l+1];v=h.buffer.o[h.oPos+1].data[l+2];y=h.buffer.o[h.oPos+1].data[l+3];l+=4;if(null==w.__currentPath.points||0==w.__currentPath.points.length)!w.__currentPath.isRemovable||
null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.type=da.Polygon,w.__currentPath.points.push(0),w.__currentPath.points.push(0),w.__drawPaths.push(w.__currentPath);Ea.curveTo(w.__currentPath.points,t,k,v,y);break;case 6:t=h.buffer.o[h.oPos+1].data[l];k=h.buffer.o[h.oPos+1].data[l+1];x=h.buffer.o[h.oPos+1].data[l+2];u=h.buffer.o[h.oPos+1].data[l+
3];v=h.buffer.o[h.oPos+1].data[l+4];y=h.buffer.o[h.oPos+1].data[l+5];l+=6;if(null==w.__currentPath.points||0==w.__currentPath.points.length)!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop(),w.__currentPath=new ta,w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding),w.__currentPath.type=da.Polygon,w.__currentPath.points.push(0),w.__currentPath.points.push(0),w.__drawPaths.push(w.__currentPath);Ea.cubicCurveTo(w.__currentPath.points,
t,k,x,u,v,y)}w.__currentWinding=0;break;case 18:d.advance();d.prev=A.OVERRIDE_MATRIX;h=d;!w.__currentPath.isRemovable||null!=w.__currentPath.points&&0!=w.__currentPath.points.length?w.closePath():w.__drawPaths.pop();w.__currentPath=new ta;w.__currentPath.update(w.__line,w.__fill,w.__fillIndex,w.__currentWinding);w.__currentPath.type=da.OverrideMatrix(h.buffer.o[h.oPos]);w.__currentPath.isRemovable=!1;w.__drawPaths.push(w.__currentPath);break;default:d.advance(),d.prev=h}}w.closePath();d.destroy()}a.__drawPaths=
w.__drawPaths;return c};var kd=function(){this.color=this.width=0;this.alpha=1;this.scaleMode=gb.NORMAL;this.caps=Eb.ROUND;this.joints=Fb.ROUND;this.miterLimit=3};q["openfl._internal.renderer.opengl.utils.LineStyle"]=kd;kd.__name__=!0;kd.prototype={__class__:kd};var Wa=q["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:!0,__constructs__:["None","Color","Texture","Gradient"]};Wa.None=["None",0];Wa.None.toString=l;Wa.None.__enum__=Wa;Wa.Color=function(a,b){var c=["Color",1,a,b];c.__enum__=
Wa;c.toString=l;return c};Wa.Texture=function(a,b,c,d){a=["Texture",2,a,b,c,d];a.__enum__=Wa;a.toString=l;return a};Wa.Gradient=["Gradient",3];Wa.Gradient.toString=l;Wa.Gradient.__enum__=Wa;var Pe=function(a,b){this.transparent=b;this.filterStack=[];this.offsetY=this.offsetX=0;this.setContext(a)};q["openfl._internal.renderer.opengl.utils.FilterManager"]=Pe;Pe.__name__=!0;Pe.prototype={begin:function(a,b){this.renderSession=a;this.defaultShader=a.shaderManager.defaultShader;this.height=this.width=
0;this.buffer=b},initShaderBuffers:function(){var a=this.gl;this.vertexBuffer=a.createBuffer();this.uvBuffer=a.createBuffer();this.colorBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();var b=[0,0,1,0,0,1,1,1];this.vertexArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertexArray,a.STATIC_DRAW);b=[0,0,1,0,0,1,1,1];this.uvArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);a.bufferData(a.ARRAY_BUFFER,
this.uvArray,a.STATIC_DRAW);b=[1,16777215,1,16777215,1,16777215,1,16777215];this.colorArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.colorBuffer);a.bufferData(a.ARRAY_BUFFER,this.colorArray,a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,function(a){a=[0,1,2,1,3,2];return null!=a?new Uint16Array(a):null}(this),a.STATIC_DRAW)},setContext:function(a){this.gl=a;this.texturePool=[];this.initShaderBuffers()},__class__:Pe};
var of=function(){};q["openfl._internal.renderer.opengl.utils.FilterTexture"]=of;of.__name__=!0;of.prototype={destroy:function(){this.gl.deleteFramebuffer(this.frameBuffer);this.gl.deleteTexture(this.texture);this.texture=this.frameBuffer=null},__class__:of};var Td=function(a){this.renderSession=a;this.setContext(a.gl);this.clips=[]};q["openfl._internal.renderer.opengl.utils.GLMaskManager"]=Td;Td.__name__=!0;Td.__super__=ac;Td.prototype=u(ac.prototype,{pushRect:function(a,b){if(null!=a){var c=new ra(b.a,
b.b,b.c,b.d,b.tx,b.ty);nf.flipMatrix(c,this.renderSession.renderer.viewport.height);var d=a.clone();d.__transform(d,c);null!=this.currentClip&&(d=this.currentClip.intersection(d));c=null==this.currentClip||d.isEmpty()||this.currentClip.containsRect(d);this.clips.push(d);this.currentClip=d;c&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(a){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.pushMask(a,this.renderSession);
this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.popMask(null,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop();this.clips.pop();this.currentClip=this.clips[this.clips.length-1];this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip;this.currentClip=null},restoreState:function(){this.currentClip=
this.savedClip;this.savedClip=null},setContext:function(a){null!=this.renderSession&&(this.renderSession.gl=a);this.gl=a},__class__:Td});var Gb=function(a,b,c,d,e){null==c&&(c=!1);this.enabled=!0;this.normalized=!1;this.components=a;this.type=b;this.normalized=c;this.name=d;this.defaultValue=null==e?null!=a?new Float32Array(a):null:e};q["openfl._internal.renderer.opengl.utils.VertexAttribute"]=Gb;Gb.__name__=!0;Gb.prototype={copy:function(){return new Gb(this.components,this.type,this.normalized,
this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},__class__:Gb};var sa=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};q["openfl.geom.Rectangle"]=sa;sa.__name__=!0;sa.prototype={clone:function(){return new sa(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<
this.get_bottom()},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()&&a.get_bottom()<this.get_bottom():a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()&&a.get_bottom()<=this.get_bottom()},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},intersection:function(a){var b;b=this.x<a.x?a.x:this.x;var c;c=this.get_right()>a.get_right()?a.get_right():
this.get_right();if(c<=b)return new sa;var d;d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new sa:new sa(b,d,c-b,a-d)},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),g=this.get_bottom();
this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=g-b);e<a+c&&(this.width=a+c-this.x);g<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){return new Lb(this.x,this.y,this.width,this.height)},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,g=e,h=b.a*(this.x+this.width)+b.c*this.y,k=b.b*(this.x+this.width)+b.d*this.y;h<c&&(c=h);k<e&&(e=k);h>d&&(d=h);k>g&&(g=k);h=b.a*(this.x+this.width)+b.c*(this.y+this.height);k=b.b*(this.x+this.width)+
b.d*(this.y+this.height);h<c&&(c=h);k<e&&(e=k);h>d&&(d=h);k>g&&(g=k);h=b.a*this.x+b.c*(this.y+this.height);k=b.b*this.x+b.d*(this.y+this.height);h<c&&(c=h);k<e&&(e=k);h>d&&(d=h);k>g&&(g=k);a.setTo(c+b.tx,e+b.ty,d-c,g-e)},get_bottom:function(){return this.y+this.height},get_left:function(){return this.x},get_right:function(){return this.x+this.width},get_top:function(){return this.y},get_topLeft:function(){return new la(this.x,this.y)},__class__:sa,__properties__:{get_topLeft:"get_topLeft",get_top:"get_top",
get_right:"get_right",get_left:"get_left",get_bottom:"get_bottom"}};var K=function(){};q["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=K;K.__name__=!0;K.overrideMatrix=null;K.buildCircle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=d[0],g=d[1],h=d[2],d=3==d.length?h:d[3];a.type==da.Ellipse&&(h/=2,d/=2,e+=h,g+=d);c&&(e-=K.objectBounds.x,g-=K.objectBounds.y);c=2*Math.PI/40;b=K.prepareBucket(a,b);var k=b.getData(vb.Fill);if(null!=k){var l=k.verts,k=k.indices,q=l.length/2|0;k.push(q);
for(var r=0;41>r;){var t=r++;l.push(e);l.push(g);l.push(e+Math.sin(c*t)*h);l.push(g+Math.cos(c*t)*d);k.push(q++);k.push(q++)}k.push(q-1)}0<a.line.width&&(c=a.points,a.points=[],Ea.ellipse(a.points,e,g,h,d,40),K.buildLine(a,b),a.points=c)};K.buildComplexPoly=function(a,b,c){null==c&&(c=!1);var d=null;if(6<=a.points.length){var e=a.points.slice();if(c)for(var d=0,g=e.length/2|0;d<g;){var h=d++;e[2*h]-=K.objectBounds.x;e[2*h+1]-=K.objectBounds.y}d=K.prepareBucket(a,b);g=d.getData(vb.Fill);g.drawMode=
b.gl.TRIANGLE_FAN;g.verts=e;g=g.indices;e=e.length/2|0;for(h=0;h<e;){var k=h++;g.push(k)}}0<a.line.width&&(null==d&&(d=K.prepareBucket(a,b)),K.buildLine(a,d,c))};K.buildLine=function(a,b,c){null==c&&(c=!1);var d=a.points;if(0!=d.length){b=b.getData(vb.Line);if(c){c=0;for(var e=d.length/2|0;c<e;){var g=c++;d[2*g]-=K.objectBounds.x;d[2*g+1]-=K.objectBounds.y}}e=new la(d[0],d[1]);g=new la(d[d.length-2|0],d[d.length-1|0]);e.x==g.x&&e.y==g.y&&(d=d.slice(),d.pop(),d.pop(),g=new la(d[d.length-2|0],d[d.length-
1|0]),c=g.x+0.5*(e.x-g.x),e=g.y+0.5*(e.y-g.y),d.unshift(e),d.unshift(c),d.push(c),d.push(e));c=b.verts;b=b.indices;var h=d.length/2|0,e=d.length,g=c.length/6|0,k=a.line.width/2,l=K.hex2rgb(a.line.color);a=a.line.alpha;var q=l[0],r=l[1],l=l[2],t,x,u,w,v,y,z,A,B,C,D,E,F,G;u=d[0];w=d[1];v=d[2];y=d[3];A=-(w-y);B=u-v;x=Math.sqrt(Math.abs(A*A+B*B));A=A/x*k;B=B/x*k;c.push(u-A);c.push(w-B);c.push(q);c.push(r);c.push(l);c.push(a);c.push(u+A);c.push(w+B);c.push(q);c.push(r);c.push(l);c.push(a);for(var H=1,
I=h-1;H<I;)B=H++,u=d[2*(B-1)],w=d[2*(B-1)+1],v=d[2*B],y=d[2*B+1],t=d[2*(B+1)],z=d[2*(B+1)+1],A=-(w-y),B=u-v,x=Math.sqrt(Math.abs(A*A+B*B)),A/=x,B/=x,A*=k,B*=k,C=-(y-z),D=v-t,x=Math.sqrt(Math.abs(C*C+D*D)),C/=x,D/=x,C*=k,D*=k,x=-B+w-(-B+y),E=-A+v-(-A+u),u=(-A+u)*(-B+y)-(-A+v)*(-B+w),w=-D+z-(-D+y),F=-C+v-(-C+t),z=(-C+t)*(-D+y)-(-C+v)*(-D+z),G=x*F-w*E,0.1>Math.abs(G)?(c.push(v-A),c.push(y-B),c.push(q),c.push(r),c.push(l),c.push(a),c.push(v+A),c.push(y+B),c.push(q),c.push(r),c.push(l),c.push(a)):(t=(E*
z-F*u)/G,x=(w*u-x*z)/G,E=(t-v)*(t-v)+(x-y)+(x-y),19600<E?(A-=C,B-=D,x=Math.sqrt(Math.abs(A*A+B*B)),A/=x,B/=x,A*=k,B*=k,c.push(v-A),c.push(y-B),c.push(q),c.push(r),c.push(l),c.push(a),c.push(v+A),c.push(y+B),c.push(q),c.push(r),c.push(l),c.push(a),c.push(v-A),c.push(y-B),c.push(q),c.push(r),c.push(l),c.push(a),e++):(c.push(t),c.push(x),c.push(q),c.push(r),c.push(l),c.push(a),c.push(v-(t-v)),c.push(y-(x-y)),c.push(q),c.push(r),c.push(l),c.push(a)));u=d[2*(h-2)];w=d[2*(h-2)+1];v=d[2*(h-1)];y=d[2*(h-
1)+1];A=-(w-y);B=u-v;x=Math.sqrt(Math.abs(A*A+B*B));isFinite(x)||Ka.trace(A*A+B*B,{fileName:"GraphicsRenderer.hx",lineNumber:406,className:"openfl._internal.renderer.opengl.utils.GraphicsRenderer",methodName:"buildLine"});A/=x;B/=x;A*=k;B*=k;c.push(v-A);c.push(y-B);c.push(q);c.push(r);c.push(l);c.push(a);c.push(v+A);c.push(y+B);c.push(q);c.push(r);c.push(l);c.push(a);b.push(g);for(d=0;d<e;)d++,b.push(g++);b.push(g-1)}};K.buildRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=d[0],g=d[1],
h=d[2],d=d[3];c&&(e-=K.objectBounds.x,g-=K.objectBounds.y);b=K.prepareBucket(a,b);var k=b.getData(vb.Fill);if(null!=k){c=k.verts;var k=k.indices,l=c.length/2|0;c.push(e);c.push(g);c.push(e+h);c.push(g);c.push(e);c.push(g+d);c.push(e+h);c.push(g+d);k.push(l);k.push(l);k.push(l+1);k.push(l+2);k.push(l+3);k.push(l+3)}0<a.line.width&&(c=a.points,a.points=[e,g,e+h,g,e+h,g+d,e,g+d,e,g],K.buildLine(a,b),a.points=c)};K.buildRoundedRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points.slice(),e=d[0],g=
d[1],h=d[2],k=d[3],l=d[4],d=d[5];c&&(e-=K.objectBounds.x,g-=K.objectBounds.y);c=[];Ea.roundRectangle(c,e,g,h,k,l,d);b=K.prepareBucket(a,b);g=b.getData(vb.Fill);if(null!=g){e=g.verts;g=g.indices;h=e.length/2;k=[];Tc.triangulate(k,c);for(l=0;l<k.length;)g.push(k[l]+h|0),g.push(k[l]+h|0),g.push(k[l+1]+h|0),g.push(k[l+2]+h|0),g.push(k[l+2]+h|0),l+=3;for(l=0;l<c.length;)e.push(c[l]),e.push(c[++l]),l++}0<a.line.width&&(e=a.points,a.points=c,K.buildLine(a,b),a.points=e)};K.buildDrawTriangles=function(a,
b,c,d){null==d&&(d=!1);var e=a.type.slice(2),g=e[0],h=e[1],k=e[2],l=e[3],e=e[4],q,r,t,x,u;d?(q=1,t=r=0,x=1,b=u=0):(q=b.__worldTransform.a,r=b.__worldTransform.b,t=b.__worldTransform.c,x=b.__worldTransform.d,u=b.__worldTransform.tx,b=b.__worldTransform.ty);var v=null!=e&&0<e.length;c=K.prepareBucket(a,c).getData(vb.Fill);a=c.vertexArray.attributes[2];a.enabled=v;var w=[1,1,1,1],w=null!=w?new Float32Array(w):null;a.defaultValue=w;c.rawVerts=!0;c.glLength=h.length;c.stride=N["int"](c.vertexArray.get_stride()/
4);a=c.glLength*c.stride;null==c.glVerts||c.glVerts.length<a?(a=null!=a?new Float32Array(a):null,c.glVerts=a):a=c.glVerts;c=a.buffer;c=null!=c?new Uint32Array(c,0):null;for(var y=0,z=0,B=0,A=0,C=0,D=0,E=0,G=0,F=0,H=0,I=0,J=0,L=w=0,O=h.length/3|0;L<O;){D=L++;A=h.data[3*D];C=h.data[3*D+1];D=h.data[3*D+2];y=2*A;z=2*C;B=2*D;E=g.data[y];G=g.data[y+1];F=g.data[z];H=g.data[z+1];I=g.data[B];J=g.data[B+1];d&&(E-=K.objectBounds.x,G-=K.objectBounds.y,F-=K.objectBounds.x,H-=K.objectBounds.y,I-=K.objectBounds.x,
J-=K.objectBounds.y);switch(l[1]){case 2:if(!(0>(F-E)*(J-G)-(H-G)*(I-E)))continue;break;case 0:if(0>(F-E)*(J-G)-(H-G)*(I-E))continue}var M=w++;a[M]=q*E+t*G+u;M=w++;a[M]=r*E+x*G+b;E=w++;a[E]=k.data[y];E=w++;a[E]=k.data[y+1];v&&(y=w++,c[y]=e.data[A]);A=w++;a[A]=q*F+t*H+u;A=w++;a[A]=r*F+x*H+b;F=w++;a[F]=k.data[z];F=w++;a[F]=k.data[z+1];v&&(z=w++,c[z]=e.data[C]);C=w++;a[C]=q*I+t*J+u;C=w++;a[C]=r*I+x*J+b;I=w++;a[I]=k.data[B];I=w++;a[I]=k.data[B+1];v&&(B=w++,c[B]=e.data[D])}};K.render=function(a,b){var c=
a.__graphics,d=c.__bounds,e=c.__dirty;c.__visible&&0!=c.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height?(e&&K.updateGraphics(a,a.__graphics,b.gl,a.cacheAsBitmap),K.renderGraphics(a,b,!1)):c.__glStack.splice(0,c.__glStack.length)};K.renderGraphics=function(a,b,c){null==c&&(c=!1);var d=b.gl,e=a.__graphics.__glStack[cb.glContextId];if(null!=e){var g,h;h=c?ra.__identity:a.__worldTransform;for(var k=b.spriteBatch.clipRect,l=b.spriteBatch.drawing,q=0,r=e.buckets.length;q<r;){g=q++;(l=b.spriteBatch.drawing)&&
!c&&b.spriteBatch.finish();b.blendModeManager.setBlendMode(a.__blendMode);null!=k&&(d.enable(d.SCISSOR_TEST),d.scissor(Math.floor(k.x),Math.floor(k.y),Math.floor(k.width),Math.floor(k.height)));g=e.buckets[g];switch(g.mode[1]){case 1:case 2:b.stencilManager.pushBucket(g,b,h.toArray(!0));l=K.prepareShader(g,b,a,h.toArray(!0));K.renderFill(g,l,b);b.stencilManager.popBucket(a,g,b);break;case 5:l=K.prepareShader(g,b,a,null);K.renderDrawTriangles(g,l,b);break;case 6:l||b.spriteBatch.begin(b,k),l=g.graphicType.slice(2),
b.spriteBatch.renderTiles(a,l[0],l[1],l[2],l[3],l[4]),b.spriteBatch.finish()}var l=a.__worldColorTransform,t=0;for(g=g.lines;t<g.length;){var x=g[t];++t;if(null!=x&&0<x.verts.length){var u=b.shaderManager.primitiveShader;b.shaderManager.setShader(u);d.uniformMatrix3fv(u.getUniformLocation("uTranslationMatrix"),!1,h.toArray(!0));d.uniformMatrix3fv(u.getUniformLocation("uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));d.uniform1f(u.getUniformLocation("uAlpha"),1);d.uniform4f(u.getUniformLocation("uColorMultiplier"),
l.redMultiplier,l.greenMultiplier,l.blueMultiplier,l.alphaMultiplier);d.uniform4f(u.getUniformLocation("uColorOffset"),l.redOffset/255,l.greenOffset/255,l.blueOffset/255,l.alphaOffset/255);x.vertexArray.bind();u.bindVertexArray(x.vertexArray);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,x.indexBuffer);d.drawElements(d.TRIANGLE_STRIP,x.indices.length,d.UNSIGNED_SHORT,0)}}null!=k&&d.disable(d.SCISSOR_TEST);(l=b.spriteBatch.drawing)||c||b.spriteBatch.begin(b,k)}}};K.updateGraphics=function(a,b,c,d){null==d&&
(d=!1);K.objectPosition.setTo(a.get_x(),a.get_y());null==b.__bounds?K.objectBounds=new sa:K.objectBounds.copyFrom(b.__bounds);var e=null;b.__dirty&&(e=ta.getStack(b,c));b.set___dirty(!1);c=0;for(var g=e.buckets;c<g.length;){var h=g[c];++c;h.reset();K.bucketPool.push(h)}e.reset();c=e.lastIndex;for(g=b.__drawPaths.length;c<g;){var h=c++,h=b.__drawPaths[h],k=h.type;switch(k[1]){case 0:K.buildComplexPoly(h,e,d);break;case 1:k[2]?K.buildRoundedRectangle(h,e,d):K.buildRectangle(h,e,d);break;case 2:case 3:K.buildCircle(h,
e,d);break;case 4:K.buildDrawTriangles(h,a,e,d);break;case 5:K.prepareBucket(h,e);break;case 6:K.overrideMatrix=k[2]}e.lastIndex++}a=0;for(b=e.buckets;a<b.length;)d=b[a],++a,d.uploadTileBuffer&&d.uploadTile(Math.ceil(K.objectBounds.get_left()),Math.ceil(K.objectBounds.get_top()),Math.floor(K.objectBounds.get_right()),Math.floor(K.objectBounds.get_bottom())),d.optimize();e.upload()};K.prepareBucket=function(a,b){var c=null,c=a.fill;switch(c[1]){case 1:var d=c[3],e=c[2],c=K.switchBucket(a.fillIndex,
b,oa.Fill);c.color=null==e?[1,1,1]:[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255];c.color[3]=d;c.uploadTileBuffer=!0;break;case 2:var d=c[5],e=c[4],g=c[3],h=c[2],c=K.switchBucket(a.fillIndex,b,oa.PatternFill);c.bitmap=h;c.textureRepeat=e;c.textureSmooth=d;c.texture=h.getTexture(b.gl);c.uploadTileBuffer=!0;d=null==g?new ra:new ra(g.a,g.b,g.c,g.d,g.tx,g.ty);d.invert();d.scale(1/h.width,1/h.height);e=d.tx;g=d.ty;d.tx=0;d.ty=0;c.textureTL.x=e;c.textureTL.y=g;c.textureBR.x=e+1;c.textureBR.y=g+1;c.textureMatrix=
d;break;default:c=K.switchBucket(a.fillIndex,b,oa.Line),c.uploadTileBuffer=!1}switch(a.type[1]){case 4:c.mode=oa.DrawTriangles;c.uploadTileBuffer=!1;break;case 5:c.mode=oa.DrawTiles,c.uploadTileBuffer=!1}c.graphicType=a.type;c.overrideMatrix=K.overrideMatrix;return c};K.getBucket=function(a,b){var c=K.bucketPool.pop();null==c&&(c=new Te(a.gl));c.mode=b;a.buckets.push(c);return c};K.switchBucket=function(a,b,c){for(var d=null,e=0,g=b.buckets;e<g.length;){var h=g[e];++e;if(h.fillIndex==a){d=h;break}}null==
d&&(d=K.getBucket(b,c));d.dirty=!0;d.fillIndex=a;return d};K.prepareShader=function(a,b,c,d){var e=b.gl,g=null;switch(a.mode[1]){case 1:g=b.shaderManager.fillShader;break;case 2:g=b.shaderManager.patternFillShader;break;case 5:g=b.shaderManager.drawTrianglesShader;break;default:g=null}if(null==g)return null;b.shaderManager.setShader(g);e.uniform1f(g.getUniformLocation("uAlpha"),c.__worldAlpha);e.uniformMatrix3fv(g.getUniformLocation("uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));b=c.__worldColorTransform;
e.uniform4f(g.getUniformLocation("uColorMultiplier"),b.redMultiplier,b.greenMultiplier,b.blueMultiplier,b.alphaMultiplier);e.uniform4f(g.getUniformLocation("uColorOffset"),b.redOffset/255,b.greenOffset/255,b.blueOffset/255,b.alphaOffset/255);switch(a.mode[1]){case 1:e.uniformMatrix3fv(g.getUniformLocation("uTranslationMatrix"),!1,d);e.uniform4fv(g.getUniformLocation("uColor"),function(b){b=a.color;return null!=b?new Float32Array(b):null}(this));break;case 2:e.uniformMatrix3fv(g.getUniformLocation("uTranslationMatrix"),
!1,d);e.uniform2f(g.getUniformLocation("uPatternTL"),a.textureTL.x,a.textureTL.y);e.uniform2f(g.getUniformLocation("uPatternBR"),a.textureBR.x,a.textureBR.y);e.uniformMatrix3fv(g.getUniformLocation("uPatternMatrix"),!1,a.textureMatrix.toArray(!0));break;case 5:null!=a.texture?e.uniform1i(g.getUniformLocation("uUseTexture"),1):(e.uniform1i(g.getUniformLocation("uUseTexture"),0),e.uniform4fv(g.getUniformLocation("uColor"),function(b){b=a.color;return null!=b?new Float32Array(b):null}(this)))}return g};
K.renderFill=function(a,b,c){c=c.gl;a.mode==oa.PatternFill&&null!=a.texture&&K.bindTexture(c,a);c.bindBuffer(c.ARRAY_BUFFER,a.tileBuffer);c.vertexAttribPointer(b.getAttribLocation("aPosition"),4,c.SHORT,!1,0,0);c.drawArrays(c.TRIANGLE_STRIP,0,4)};K.renderDrawTriangles=function(a,b,c){c=c.gl;for(var d=0,e=a.fills;d<e.length;){var g=e[d];++d;g.available||(K.bindTexture(c,a),g.vertexArray.bind(),b.bindVertexArray(g.vertexArray),c.drawArrays(c.TRIANGLES,g.glStart,g.glLength))}};K.bindTexture=function(a,
b){a.bindTexture(a.TEXTURE_2D,b.texture);b.textureRepeat&&b.bitmap.image.get_powerOfTwo()?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));b.textureSmooth?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,
a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST))};K.hex2rgb=function(a){return null==a?[1,1,1]:[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};var Se=function(a){this.lastIndex=0;this.gl=a;this.buckets=[];this.lastIndex=0};q["openfl._internal.renderer.opengl.utils.GLStack"]=Se;Se.__name__=!0;Se.prototype={reset:function(){this.buckets=[];this.lastIndex=0},upload:function(){for(var a=0,b=this.buckets;a<b.length;){var c=b[a];++a;c.dirty&&c.upload()}},__class__:Se};var Te=function(a){this.textureSmooth=
this.uploadTileBuffer=!0;this.textureRepeat=!1;this.lines=[];this.fills=[];this.fillIndex=-1;this.gl=a;this.color=[0,0,0];this.lastIndex=0;this.alpha=1;this.dirty=!0;this.mode=oa.Fill;this.textureMatrix=new ra;this.textureTL=new la;this.textureBR=new la(1,1)};q["openfl._internal.renderer.opengl.utils.GLBucket"]=Te;Te.__name__=!0;Te.prototype={getData:function(a){var b;switch(a[1]){case 1:b=this.fills;break;default:b=this.lines}for(var c=null,d=!1,e=0;e<b.length;){var g=b[e];++e;if(g.available){c=
g;d=!0;break}}null==c&&(c=new Ue(this.gl));c.available=!1;c.parent=this;c.type=a;d&&G.remove(b,c);b.push(c);switch(a[1]){case 1:switch(this.mode[1]){case 1:case 2:c.vertexArray.attributes=K.fillVertexAttributes;break;case 5:c.vertexArray.attributes=K.drawTrianglesVertexAttributes.slice(),c.vertexArray.attributes[2]=c.vertexArray.attributes[2].copy()}break;case 0:c.vertexArray.attributes=K.primitiveVertexAttributes}return c},optimize:function(){var a=this.lines;if(1<a.length){for(var b=[],c=null,d=
null,e=0,g=0,h=0,k=0;k<a.length;){var l=a[k];++k;if(l.available||l.rawVerts||l.rawIndices)null!=c&&(b.push(c),c=null),b.push(l);else if(null==d||d.drawMode==l.drawMode){if(null==c)c=l;else{for(var g=c.verts.length,h=c.indices.length,d=0,q=l.verts.length;d<q;){var r=d++;c.verts[r+g]=l.verts[r]}g=0;for(d=l.indices.length;g<d;)q=g++,c.indices[q+h]=l.indices[q]+e}e=c.indices[c.indices.length-1]+1}else null!=c&&(b.push(c),c=null),b.push(l);d=l}0==b.length&&null!=c&&b.push(c);if(0<b.length)switch(vb.Line[1]){case 1:this.fills=
b;break;default:this.lines=b}}},reset:function(){for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.reset()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.reset();this.fillIndex=-1;this.uploadTileBuffer=!0;this.graphicType=da.Polygon},uploadTile:function(a,b,c,d){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer());a=this.tile=[a,b,0,0,c,b,1,0,a,d,0,1,c,d,1,1];this.glTile=null!=a?new Int16Array(a):null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,
this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=oa.Line)for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.available||c.upload()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.available||c.upload();this.dirty=!1},__class__:Te};var Ue=function(a){this.rawIndices=this.available=!1;this.stride=0;this.rawVerts=!1;this.glLength=this.glStart=this.lastVertsSize=0;this.gl=a;this.drawMode=a.TRIANGLE_STRIP;this.verts=[];this.indices=[];this.vertexArray=new Zd([])};q["openfl._internal.renderer.opengl.utils.GLBucketData"]=
Ue;Ue.__name__=!0;Ue.prototype={reset:function(){this.available=!0;this.verts=[];this.indices=[];this.stride=this.glStart=this.glLength=0;this.rawIndices=this.rawVerts=!1;this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&null!=this.glVerts&&0<this.glVerts.length||0<this.verts.length){if(!this.rawVerts){var a=this.verts;this.glVerts=null!=a?new Float32Array(a):null}this.vertexArray.buffer=this.glVerts.buffer;this.glVerts.length<=this.lastVertsSize?(this.vertexArray.bind(),a=
this.glLength*this.stride,0<this.glLength&&this.lastVertsSize>a?(a=this.glVerts.subarray(0,a),this.vertexArray.upload(a)):this.vertexArray.upload(this.glVerts)):(this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length)}0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&0<this.glIndices.length||0<this.indices.length)&&(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),this.rawIndices||(a=this.indices,this.glIndices=null!=a?new Uint16Array(a):
null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW))},__class__:Ue};var oa=q["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:!0,__constructs__:"None Fill PatternFill Line PatternLine DrawTriangles DrawTiles".split(" ")};oa.None=["None",0];oa.None.toString=l;oa.None.__enum__=oa;oa.Fill=["Fill",1];oa.Fill.toString=l;oa.Fill.__enum__=oa;oa.PatternFill=["PatternFill",2];oa.PatternFill.toString=
l;oa.PatternFill.__enum__=oa;oa.Line=["Line",3];oa.Line.toString=l;oa.Line.__enum__=oa;oa.PatternLine=["PatternLine",4];oa.PatternLine.toString=l;oa.PatternLine.__enum__=oa;oa.DrawTriangles=["DrawTriangles",5];oa.DrawTriangles.toString=l;oa.DrawTriangles.__enum__=oa;oa.DrawTiles=["DrawTiles",6];oa.DrawTiles.toString=l;oa.DrawTiles.__enum__=oa;var vb=q["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:!0,__constructs__:["Line","Fill"]};vb.Line=["Line",0];vb.Line.toString=l;vb.Line.__enum__=
vb;vb.Fill=["Fill",1];vb.Fill.toString=l;vb.Fill.__enum__=vb;var Ef=function(){};q["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=Ef;Ef.__name__=!0;var da=q["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:!0,__constructs__:"Polygon Rectangle Circle Ellipse DrawTriangles DrawTiles OverrideMatrix".split(" ")};da.Polygon=["Polygon",0];da.Polygon.toString=l;da.Polygon.__enum__=da;da.Rectangle=function(a){a=["Rectangle",1,a];a.__enum__=da;a.toString=l;return a};da.Circle=["Circle",
2];da.Circle.toString=l;da.Circle.__enum__=da;da.Ellipse=["Ellipse",3];da.Ellipse.toString=l;da.Ellipse.__enum__=da;da.DrawTriangles=function(a,b,c,d,e,g){a=["DrawTriangles",4,a,b,c,d,e,g];a.__enum__=da;a.toString=l;return a};da.DrawTiles=function(a,b,c,d,e){a=["DrawTiles",5,a,b,c,d,e];a.__enum__=da;a.toString=l;return a};da.OverrideMatrix=function(a){a=["OverrideMatrix",6,a];a.__enum__=da;a.toString=l;return a};var Ne=function(a){this.setContext(a)};q["openfl._internal.renderer.opengl.utils.ShaderManager"]=
Ne;Ne.__name__=!0;Ne.prototype={setContext:function(a){this.gl=a;this.defaultShader=new Ud(a);this.fillShader=new Wd(a);this.patternFillShader=new Xd(a);this.drawTrianglesShader=new Vd(a);this.primitiveShader=new Yd(a);this.setShader(this.defaultShader,!0)},setShader:function(a,b){null==b&&(b=!1);if(null==a)return this.currentShader=null,this.gl.useProgram(null),!0;if(null!=this.currentShader&&!b&&this.currentShader.ID==a.ID)return!1;this.currentShader=a;this.gl.useProgram(a.program);return!0},__class__:Ne};
var Oe=function(a,b){null==b&&(b=2E3);this.uvs=new $d;this.matrix=new ra;this.enableColor=this.lastEnableColor=!0;this.attributes=[];this.writtenVertexBytes=0;this.drawing=!1;this.dirty=!0;this.states=[];this.maxSprites=b;this.attributes.push(new Gb(2,5126,!1,"aPosition"));this.attributes.push(new Gb(2,5126,!1,"aTexCoord0"));this.attributes.push(new Gb(4,5121,!0,"aColor"));var c=[1,1,1,1],c=null!=c?new Float32Array(c):null;this.attributes[2].defaultValue=c;for(var c=this.maxElementsPerVertex=0,d=
this.attributes;c<d.length;){var e=d[c];++c;this.maxElementsPerVertex+=Math.floor(e.components*e.getElementsBytes()/4)}this.vertexArraySize=b*this.maxElementsPerVertex*16;this.indexArraySize=6*b;this.vertexArray=new Zd(this.attributes,this.vertexArraySize,!1);c=this.vertexArray.buffer;this.positions=null!=c?new Float32Array(c,0):null;c=this.vertexArray.buffer;this.colors=null!=c?new Uint32Array(c,0):null;c=this.indexArraySize;this.indices=null!=c?new Uint16Array(c):null;for(d=c=0;c<this.indexArraySize;)this.indices[c]=
d,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d,this.indices[c+4]=d+2,this.indices[c+5]=d+3,c+=6,d+=4;this.currentState=new ae;this.dirty=!0;this.drawing=!1;this.batchedSprites=0;this.setContext(a)};q["openfl._internal.renderer.opengl.utils.SpriteBatch"]=Oe;Oe.__name__=!0;Oe.prototype={begin:function(a,b){this.renderSession=a;this.shader=a.shaderManager.defaultShader;this.drawing=!0;this.start(b)},finish:function(){this.stop();this.clipRect=null;this.drawing=!1},start:function(a){this.drawing||
this.stop();this.dirty=!0;this.clipRect=a},stop:function(){this.flush()},renderBitmapData:function(a,b,c,d,e,g,h,k){null==e&&(e=1);if(null!=a){k=a.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var l=a.__uvData;null!=l&&(e=((255*e|0)&255)<<24|16777215,this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),this.fillVertices(4*
this.batchedSprites*this.elementsPerVertex,a.width,a.height,c,l,null,e,h),this.setState(this.batchedSprites,k,b,g,d,!0),this.batchedSprites++)}},renderTiles:function(a,b,c,d,e,g){null==g&&(g=-1);null==e&&(e=0);null==d&&(d=!1);var h=b.__bitmap.getTexture(this.gl);if(null!=h){var k=0<(e&1),l=0<(e&2),q=0<(e&16),r=0<(e&4),t=0<(e&8),u=0<(e&32),w=0<(e&64);switch(e&983040){case 65536:e=S.ADD;break;case 131072:e=S.MULTIPLY;break;case 262144:e=S.SCREEN;break;case 524288:e=S.SUBTRACT;break;default:switch(e&
15728640){case 1048576:e=S.DARKEN;break;case 2097152:e=S.LIGHTEN;break;case 4194304:e=S.OVERLAY;break;case 8388608:e=S.HARDLIGHT;break;default:switch(e&251658240){case 16777216:e=S.DIFFERENCE;break;case 33554432:e=S.INVERT;break;default:e=S.NORMAL}}}q&&(l=k=!1);var v=0,y=0,z=0,B=0,A=0,C=3;u&&(C=w?8:6);k&&(v=C,C++);l&&(y=C,C++);q&&(A=C,C+=4);r&&(z=C,C+=3);t&&(B=C,C++);var D=c.length;0<=g&&D>g&&(D=g);g=0;var E=-1,F=b.__rectTile,E=b.__rectUV,G=b.__point,I=0,H=0,J=1,L=16777215,J=-1,K=1,M=0,N=1,O=M=K=
N=M=0,Q=H=I=0,R=0;this.matrix.identity();var P=a.__worldTransform;this.uvs.reset();H=0;this.enableColor=!0;this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor);this.attributes[2].enabled=this.lastEnableColor;for(this.elementsPerVertex=this.getElementsPerVertex();g<D;)this.batchedSprites>=this.maxSprites&&this.flush(),I=c[g],H=c[g+1],u?(F.x=c[g+2],F.y=c[g+3],F.width=c[g+4],F.height=c[g+5],w?(G.x=c[g+6],G.y=c[g+7]):(G.x=0,G.y=0),E.setTo(F.get_left()/b.__bitmap.width,
F.get_top()/b.__bitmap.height,F.get_right()/b.__bitmap.width,F.get_bottom()/b.__bitmap.height)):(E=(null==c[g+2]?0:c[g+2])|0,F=b.__tileRects[E],G=b.__centerPoints[E],E=b.__tileUVs[E]),null!=F&&0<F.width&&0<F.height&&null!=G&&(L=16777215,N=K=1,M=0,this.matrix.identity(),J=t?c[g+B]*a.__worldAlpha:a.__worldAlpha,r&&(L=(255*c[g+z]|0)<<16|(255*c[g+z+1]|0)<<8|255*c[g+z+2]|0),k&&(K=c[g+v]),l&&(M=c[g+y],N=Math.cos(M),M=Math.sin(M)),q?(N=c[g+A],K=c[g+A+1],M=c[g+A+2],O=c[g+A+3]):(N*=K,K*=M,M=-K,O=N),Q=G.x*
N+G.y*M,R=G.x*K+G.y*O,I-=Q,H-=R,this.matrix.a=N*P.a+K*P.c,this.matrix.b=N*P.b+K*P.d,this.matrix.c=M*P.a+O*P.c,this.matrix.d=M*P.b+O*P.d,this.matrix.tx=I*P.a+H*P.c+P.tx,this.matrix.ty=I*P.b+H*P.d+P.ty,this.uvs.x0=E.x,this.uvs.y0=E.y,this.uvs.x1=E.width,this.uvs.y1=E.y,this.uvs.x2=E.width,this.uvs.y2=E.height,this.uvs.x3=E.x,this.uvs.y3=E.height,H=4*this.batchedSprites*this.elementsPerVertex,J=((255*J|0)&255)<<24|(L&255)<<16|(L>>8&255)<<8|L>>16&255,this.fillVertices(H,F.width,F.height,this.matrix,this.uvs,
null,J,fb.NEVER),this.setState(this.batchedSprites,h,d,e,a.__worldColorTransform,!1),this.batchedSprites++),g+=C}},fillVertices:function(a,b,c,d,e,g,h,k){null==h&&(h=-1);var l,q,r;null==g?(l=b,b=0,q=c,r=0):(l=b*(1-g.x),b*=-g.x,q=c*(1-g.y),r=c*-g.y);null==k&&(k=fb.NEVER);var t=k!=fb.NEVER;g=d.a;k=d.b;var u=d.c;c=d.d;var w=d.tx;d=d.ty;if(t){var v=a++,y=Math.round(g*b+u*r+w);this.positions[v]=y;v=a++;y=Math.round(c*r+k*b+d);this.positions[v]=y}else v=a++,this.positions[v]=g*b+u*r+w,v=a++,this.positions[v]=
c*r+k*b+d;v=a++;this.positions[v]=e.x0;v=a++;this.positions[v]=e.y0;this.enableColor&&(v=a++,this.colors[v]=h);t?(v=a++,y=Math.round(g*l+u*r+w),this.positions[v]=y,v=a++,r=Math.round(c*r+k*l+d),this.positions[v]=r):(v=a++,this.positions[v]=g*l+u*r+w,v=a++,this.positions[v]=c*r+k*l+d);r=a++;this.positions[r]=e.x1;r=a++;this.positions[r]=e.y1;this.enableColor&&(r=a++,this.colors[r]=h);t?(r=a++,v=Math.round(g*l+u*q+w),this.positions[r]=v,r=a++,l=Math.round(c*q+k*l+d),this.positions[r]=l):(r=a++,this.positions[r]=
g*l+u*q+w,r=a++,this.positions[r]=c*q+k*l+d);l=a++;this.positions[l]=e.x2;l=a++;this.positions[l]=e.y2;this.enableColor&&(l=a++,this.colors[l]=h);t?(l=a++,g=Math.round(g*b+u*q+w),this.positions[l]=g,g=a++,b=Math.round(c*q+k*b+d),this.positions[g]=b):(l=a++,this.positions[l]=g*b+u*q+w,g=a++,this.positions[g]=c*q+k*b+d);b=a++;this.positions[b]=e.x3;b=a++;this.positions[b]=e.y3;this.enableColor&&(e=a++,this.colors[e]=h);this.writtenVertexBytes=a},flush:function(){if(0!=this.batchedSprites){null!=this.clipRect&&
(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.ceil(this.clipRect.x),Math.ceil(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height)));this.dirty&&(this.dirty=!1,this.gl.activeTexture(this.gl.TEXTURE0),this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer));if(this.writtenVertexBytes>0.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var a=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(a)}var b=
0,c=0;this.currentState.shader=this.renderSession.shaderManager.defaultShader;this.currentState.texture=null;this.currentState.textureSmooth=!1;this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode;this.currentState.colorTransform=null;this.currentState.skipColorTransformAlpha=!1;for(var d=0,e=this.batchedSprites;d<e;){var g=d++,a=this.states[g];this.currentState.skipColorTransformAlpha=a.skipColorTransformAlpha;a.equals(this.currentState)||(this.renderBatch(this.currentState,
b,c),c=g,b=0,this.currentState.shader=a.shader,this.currentState.texture=a.texture,this.currentState.textureSmooth=a.textureSmooth,this.currentState.blendMode=a.blendMode,this.currentState.colorTransform=a.colorTransform);b++}this.renderBatch(this.currentState,b,c);this.writtenVertexBytes=this.batchedSprites=0;null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(a,b,c){if(0!=b&&null!=a.texture){var d;d=null==a.shader?this.renderSession.shaderManager.defaultShader:a.shader;
this.renderSession.shaderManager.setShader(d);d.bindVertexArray(this.vertexArray);this.gl.uniformMatrix3fv(d.getUniformLocation("uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0));if(null!=a.colorTransform){var e=a.colorTransform;this.gl.uniform4f(d.getUniformLocation("uColorMultiplier"),e.redMultiplier,e.greenMultiplier,e.blueMultiplier,a.skipColorTransformAlpha?1:e.alphaMultiplier);this.gl.uniform4f(d.getUniformLocation("uColorOffset"),e.redOffset/255,e.greenOffset/255,e.blueOffset/
255,e.alphaOffset/255)}else this.gl.uniform4f(d.getUniformLocation("uColorMultiplier"),1,1,1,1),this.gl.uniform4f(d.getUniformLocation("uColorOffset"),0,0,0,0);this.renderSession.blendModeManager.setBlendMode(a.blendMode);this.gl.bindTexture(this.gl.TEXTURE_2D,a.texture);a.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,
this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.drawElements(this.gl.TRIANGLES,6*b,this.gl.UNSIGNED_SHORT,12*c);this.renderSession.drawCount++}},setState:function(a,b,c,d,e,g){null==g&&(g=!1);null==c&&(c=!1);var h=this.states[a];null==h&&(h=this.states[a]=new ae);h.texture=b;h.textureSmooth=c;h.blendMode=d;h.colorTransform=e;h.skipColorTransformAlpha=g},setContext:function(a){this.gl=a;this.vertexArray.setContext(a,this.positions);this.indexBuffer=
a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)},getElementsPerVertex:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&(a+=Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:Oe};var ae=function(){this.skipColorTransformAlpha=!1;this.textureSmooth=!0};q["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=ae;ae.__name__=!0;ae.prototype={equals:function(a){return(null==
this.shader||null==a.shader||this.shader.ID==a.shader.ID)&&this.texture==a.texture&&this.textureSmooth==a.textureSmooth&&this.blendMode==a.blendMode&&null!=this.colorTransform&&this.colorTransform.__equals(a.colorTransform,this.skipColorTransformAlpha)},__class__:ae};var Qe=function(a){this.stencilMask=0;this.stencilStack=[];this.setContext(a);this.reverse=!0;this.count=0};q["openfl._internal.renderer.opengl.utils.StencilManager"]=Qe;Qe.__name__=!0;Qe.prototype={prepareGraphics:function(a,b,c){var d=
b.shaderManager.fillShader;b.shaderManager.setShader(d);this.gl.uniformMatrix3fv(d.getUniformLocation("uTranslationMatrix"),!1,c);this.gl.uniformMatrix3fv(d.getUniformLocation("uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));a.vertexArray.bind();d.bindVertexArray(a.vertexArray);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.indexBuffer)},pushBucket:function(a,b,c,d){null==d&&(d=!1);d||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),
this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));var e=0;for(a=a.fills;e<a.length;){var g=a[e];++e;g.available||(this.prepareGraphics(g,b,c),this.gl.drawElements(g.drawMode,g.glIndices.length,this.gl.UNSIGNED_SHORT,0))}d||(this.gl.colorMask(!0,!0,!0,b.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},
popBucket:function(a,b,c){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(a,b){var c=a.__maskGraphics;if(!(null==c||0>=c.__commands.get_length())){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));this.stencilMask++;c.__dirty&&K.updateGraphics(a,c,b.gl);var d;d=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var e=this.stencilMask,g=255-this.stencilMask;this.gl.stencilMask(255);this.gl.colorMask(!1,!1,!1,!1);this.gl.stencilFunc(d,e,g);this.gl.stencilOp(this.gl.REPLACE,
this.gl.KEEP,this.gl.KEEP);var c=c.__glStack[cb.glContextId],h=a.__worldTransform;d=0;for(e=c.buckets.length;d<e;)switch(g=d++,g=c.buckets[g],h=null!=g.overrideMatrix?g.overrideMatrix:a.__worldTransform,g.mode[1]){case 1:case 2:this.pushBucket(g,b,h.toArray(!0),!0)}this.gl.colorMask(!0,!0,!0,b.renderer.transparent);this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP);this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(a,b){this.stencilMask--;0>=this.stencilMask&&(this.gl.disable(this.gl.STENCIL_TEST),
this.stencilMask=0)},setContext:function(a){this.gl=a},__class__:Qe};var Zd=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.isStatic=!1;this.size=0;this.attributes=[];this.size=b;this.attributes=a;0<b&&(this.buffer=new he(b));this.isStatic=c};q["openfl._internal.renderer.opengl.utils.VertexArray"]=Zd;Zd.__name__=!0;Zd.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(a){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,a)},setContext:function(a,b){this.gl=
a;this.glBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.glBuffer);a.bufferData(a.ARRAY_BUFFER,b,this.isStatic?a.STATIC_DRAW:a.DYNAMIC_DRAW)},get_stride:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&(a+=4*Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:Zd,__properties__:{get_stride:"get_stride"}};var Fa=function(a){this.textField=a;this.height=this.width=100;this.text="";this.bounds=new sa(0,0,0,0);this.type=Mb.DYNAMIC;this.autoSize=
Va.NONE;this.embedFonts=this.displayAsPassword=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=mb.PIXEL;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=[];this.lineDescents=[];this.lineLeadings=[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];Fa.__canvas=window.document.createElement("canvas");Fa.__context=
Fa.__canvas.getContext("2d")};q["openfl._internal.text.TextEngine"]=Fa;Fa.__name__=!0;Fa.__canvas=null;Fa.__context=null;Fa.getFont=function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=a.size+"px";b+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return b+=""+a};Fa.prototype={getBounds:function(){var a;a=this.border?1:0;this.bounds.width=
this.width+a;this.bounds.height=this.height+a},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length);this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,this.lineHeights.length);this.lineWidths.splice(0,this.lineWidths.length);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var g=this.maxScrollH=this.bottomScrollV=0,h=this.layoutGroups;g<h.length;){var k=h[g];
for(++g;k.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,k.ascent);b=Math.max(b,k.descent);c=null==c?k.leading:N["int"](Math.max(c,k.leading));d=Math.max(d,k.height);e=k.offsetX-2+k.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=k.offsetY-2+k.ascent+k.descent}this.lineAscents.push(a);
this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var a=-1,b=null,c=tb.__defaultTextFormat.clone(),d=0,e=0,g=0,h,
k,l,q=0,r=0,t=0,u=this.text.indexOf(" "),w=this.text.indexOf("\n"),v=0,y=2,z=2,A=0,B=0,C=null;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Fa.__context.font=Fa.getFont(c),e=c.size,g=0.185*c.size,d=c.leading,q=e+g+d,-1<u&&(r=Fa.__context.measureText(" ").width));for(var C=b.format,D;A<this.text.length;)if(-1<w&&(-1==u||w<u)&&b.end>=w){h=new Uc(b.format,A,w);k=this.text;for(D=[];A<w;)l=A++,D.push(Fa.__context.measureText(k.charAt(l)).width);h.advances=D;h.offsetX=
y;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=B;h.offsetY=z;y=h.advances;for(k=A=0;k<y.length;)D=y[k],++k,A+=D;h.width=A;h.height=q;this.layoutGroups.push(h);z+=q;y=2;this.wordWrap&&h.offsetX+h.width>this.width-2&&(h.offsetY=z,h.offsetX=y,z+=q,B++);A=w+1;w=this.text.indexOf("\n",A);B++;b.end==w&&(a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Fa.__context.font=Fa.getFont(c),e=c.size,g=0.185*c.size,d=c.leading,q=e+g+d,-1<u&&(r=Fa.__context.measureText(" ").width)),
C=b.format)}else if(b.end>=u&&-1<u)for(h=null,D=!1;;){-1==u&&(u=b.end);k=this.text;l=[];for(var E=A;E<u;){var F=E++;l.push(Fa.__context.measureText(k.charAt(F)).width)}k=l;for(E=l=0;E<k.length;)F=k[E],++E,l+=F;this.wordWrap&&y+l>this.width-2&&(D=!0);if(D){z+=q;y=this.layoutGroups.length-1;for(v=0;;){h=this.layoutGroups[y];if(0<y&&h.startIndex>t)v++;else break;y--}B++;y=2;if(0<v)for(t=this.layoutGroups[this.layoutGroups.length-v].offsetX,v=this.layoutGroups.length-v,D=this.layoutGroups.length;v<D;)h=
v++,h=this.layoutGroups[h],h.offsetX-=t,h.offsetY=z,h.lineIndex=B,y+=h.width;h=new Uc(b.format,A,u);h.advances=k;h.offsetX=y;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=B;h.offsetY=z;h.width=l;h.height=q;this.layoutGroups.push(h);y=l+r;v=r;D=!1}else null!=h&&A==u?(b.format.align!=bb.JUSTIFY&&(h.endIndex=u),h.advances.push(r),v+=r):(null==h||C.align==bb.JUSTIFY?(h=new Uc(b.format,A,u),h.advances=k,h.offsetX=y,h.ascent=e,h.descent=g,h.leading=d,h.lineIndex=B,h.offsetY=z,h.width=l,h.height=q,this.layoutGroups.push(h)):
(h.endIndex=u,h.advances=h.advances.concat(k),h.width+=v+l),h.advances.push(r),v=r),y+=l+r;A=u+1;t=u;u=this.text.indexOf(" ",t+1);b.end<=t&&(h=null,a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Fa.__context.font=Fa.getFont(c),e=c.size,g=0.185*c.size,d=c.leading,q=e+g+d,-1<u&&(r=Fa.__context.measureText(" ").width)));if(u>w&&-1<w||A>this.text.length||u>b.end||-1==u&&-1<w)break}else{if(A>=b.end)break;h=new Uc(b.format,A,b.end);k=this.text;for(D=[];A<b.end;)l=
A++,D.push(Fa.__context.measureText(k.charAt(l)).width);h.advances=D;h.offsetX=y;h.ascent=e;h.descent=g;h.leading=d;h.lineIndex=B;h.offsetY=z;A=h.advances;for(D=k=0;D<A.length;)l=A[D],++D,k+=l;h.width=k;h.height=q;this.layoutGroups.push(h);y+=h.width;A=b.end;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),Fa.__context.font=Fa.getFont(c),e=c.size,g=0.185*c.size,d=c.leading,q=e+g+d,-1<u&&(r=Fa.__context.measureText(" ").width))}},setTextAlignment:function(){for(var a=
-1,b=0,c,d,e=0,g=this.layoutGroups.length;e<g;){var h=e++;c=this.layoutGroups[h];if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align[1]){case 3:b=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 1:b=this.lineWidths[a]<this.width-4?Math.round(this.width-4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var b=h+1,k=this.layoutGroups.length;b<k;){var l=b++;if(this.layoutGroups[l].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[h+
d-1],c.endIndex<this.text.length&&"\n"!=this.text.charAt(c.endIndex)))for(b=(this.width-4-this.lineWidths[a])/(d-1),k=1;k<d;)l=k++,this.layoutGroups[h+l].offsetX+=b*l}b=0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||""==W.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),
this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:Fa};var Vc=function(a,b,c){this.format=a;this.start=b;this.end=c};q["openfl._internal.text.TextFormatRange"]=Vc;Vc.__name__=!0;Vc.prototype=
{__class__:Vc};var Uc=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};q["openfl._internal.text.TextLayoutGroup"]=Uc;Uc.__name__=!0;Uc.prototype={__class__:Uc};var md=function(){kb.call(this);null==fa.application&&(fa.application=this)};q["openfl.display.Application"]=md;md.__name__=!0;md.__super__=kb;md.prototype=u(kb.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,
"windows"))for(a=a.windows;0<a.length;){a=new be(a[0]);this.createWindow(a);break}if(null==this.preloader||this.preloader.complete)this.onPreloadComplete()}},__class__:md});var Hc=function(a,b,c){null==c&&(c=!1);ba.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=fb.AUTO)};q["openfl.display.Bitmap"]=Hc;Hc.__name__=!0;Hc.__super__=ba;Hc.prototype=u(ba.prototype,{__getBounds:function(a,b){if(null!=this.bitmapData){var c=sa.__temp;c.setTo(0,0,this.bitmapData.width,
this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e){if(!this.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(this),!0):!1},__hitTestMask:function(a,b){if(null==
this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){jf.render(this,a)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){lf.render(this,a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){null!=
this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?Rd.renderImage(this,a):Rd.renderCanvas(this,a):(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null))},__renderGL:function(a){null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&
null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this);!this.__renderable||0>=this.__worldAlpha||null==this.bitmapData||!this.bitmapData.__isValid?null:a.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,this.__worldAlpha,this.__blendMode,this.pixelSnapping);null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask();null!=this.__scrollRect&&
a.maskManager.popRect()},__updateMask:function(a){a.__commands.overrideMatrix(this.__worldTransform);a.beginFill(0);a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height);null==a.__bounds&&(a.__bounds=new sa);this.__getBounds(a.__bounds,ra.__identity);ba.prototype.__updateMask.call(this,a)},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),
a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(a){return null!=this.bitmapData?(a!=this.bitmapData.width&&this.set_scaleX(a/this.bitmapData.width),a):0},__class__:Hc});var Ha=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.__usingFramebuffer=!1;this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new sa(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,
this.image=new Jb(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__createUVs();this.__worldTransform=new ra;this.__worldColorTransform=new pb};q["openfl.display.BitmapData"]=Ha;Ha.__name__=!0;Ha.__interfaces__=[ob];Ha.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new Ha(0,0,b);c.__fromImage(Jb.fromCanvas(a));c.image.set_transparent(b);return c};Ha.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new Ha(0,
0,b);c.__fromImage(a);c.image.set_transparent(b);return c};Ha.prototype={colorTransform:function(a,b){this.__isValid&&(this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix()),this.__usingFramebuffer=!1)},copyPixels:function(a,b,c,d,e,g){null==g&&(g=!1);this.__isValid&&null!=a&&(this.image.copyPixels(a.image,b.__toLimeRectangle(),c.__toLimeVector2(),null!=d?d.image:null,null!=e?e.__toLimeVector2():null,g),this.__usingFramebuffer=!1)},dispose:function(){this.image=null;this.height=
this.width=0;this.rect=null;this.__isValid=!1;if(null!=this.__texture){var a=fa.current.stage.__renderer;null!=a&&(a=a.renderSession.gl,null!=a&&(a.deleteTexture(this.__texture),this.__texture=null))}null!=this.__framebuffer&&(this.__framebuffer.destroy(),this.__framebuffer=null)},draw:function(a,b,c,d,e,g){null==g&&(g=!1);if(this.__isValid){null!=c&&(d=new Ha(X.getProperty(a,"width"),X.getProperty(a,"height"),!0,0),d.draw(a),d.colorTransform(d.rect,c),a=d);U.convertToCanvas(this.image);U.sync(this.image,
!0);c=this.image.buffer;d=new Dc;d.context=c.__srcContext;d.roundPixels=!0;d.maskManager=new jd(d);g||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1);null!=e&&d.maskManager.pushRect(e,new ra);var h=a.__worldTransform;a.__worldTransform=null!=b?b:new ra;a.__updateChildren(!1);a.__renderCanvas(d);a.__worldTransform=h;a.__updateChildren(!0);g||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=
!0,c.__srcContext.imageSmoothingEnabled=!0);null!=e&&d.maskManager.popMask();c.__srcContext.setTransform(1,0,0,1,0,0);c.__srcImageData=null;c.data=null}},fillRect:function(a,b){this.__isValid&&null!=a&&(this.image.fillRect(a.__toLimeRectangle(),b,1),this.__usingFramebuffer=!1)},getPixel:function(a,b){return this.__isValid?this.image.getPixel(a,b,1):0},getPixel32:function(a,b){return this.__isValid?this.image.getPixel32(a,b,1):0},getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&
(this.__surface=gf.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;if(this.__usingFramebuffer&&null!=this.__framebuffer)return this.__framebuffer.texture;null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MIN_FILTER,a.NEAREST),this.image.dirty=!0);if(null!=this.image&&this.image.dirty){var b,c;null!=this.__surface&&hf.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;if(!d.get_premultiplied()&&d.get_transparent()||0!=d.get_format())d=d.clone(),d.set_format(0),d.set_premultiplied(!0);a.texImage2D(a.TEXTURE_2D,0,b,this.width,this.height,0,c,a.UNSIGNED_BYTE,d.get_data());a.bindTexture(a.TEXTURE_2D,null);this.image.dirty=
!1}return this.__texture},lock:function(){},setPixel32:function(a,b,c){this.__isValid&&(this.image.setPixel32(a,b,c,1),this.__usingFramebuffer=!1)},unlock:function(a){},__createUVs:function(){null==this.__uvData&&(this.__uvData=new $d);this.__uvData.x0=0;this.__uvData.y0=0;this.__uvData.x1=1;this.__uvData.y1=0;this.__uvData.x2=1;this.__uvData.y2=1;this.__uvData.x3=0;this.__uvData.y3=1},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=
new sa(0,0,a.width,a.height),this.__isValid=!0)},__renderCanvas:function(a){if(this.__isValid){U.sync(this.image,!1);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new ra);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__sync:function(){U.sync(this.image,!1)},__updateChildren:function(a){},__class__:Ha};var $d=function(){this.x0=this.x1=this.x2=
this.x3=this.y0=this.y1=this.y2=this.y3=0};q["openfl.display.TextureUvs"]=$d;$d.__name__=!0;$d.prototype={reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:$d};var S=q["openfl.display.BlendMode"]={__ename__:!0,__constructs__:"ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")};S.ADD=["ADD",0];S.ADD.toString=l;S.ADD.__enum__=S;S.ALPHA=["ALPHA",1];S.ALPHA.toString=l;S.ALPHA.__enum__=S;S.DARKEN=
["DARKEN",2];S.DARKEN.toString=l;S.DARKEN.__enum__=S;S.DIFFERENCE=["DIFFERENCE",3];S.DIFFERENCE.toString=l;S.DIFFERENCE.__enum__=S;S.ERASE=["ERASE",4];S.ERASE.toString=l;S.ERASE.__enum__=S;S.HARDLIGHT=["HARDLIGHT",5];S.HARDLIGHT.toString=l;S.HARDLIGHT.__enum__=S;S.INVERT=["INVERT",6];S.INVERT.toString=l;S.INVERT.__enum__=S;S.LAYER=["LAYER",7];S.LAYER.toString=l;S.LAYER.__enum__=S;S.LIGHTEN=["LIGHTEN",8];S.LIGHTEN.toString=l;S.LIGHTEN.__enum__=S;S.MULTIPLY=["MULTIPLY",9];S.MULTIPLY.toString=l;S.MULTIPLY.__enum__=
S;S.NORMAL=["NORMAL",10];S.NORMAL.toString=l;S.NORMAL.__enum__=S;S.OVERLAY=["OVERLAY",11];S.OVERLAY.toString=l;S.OVERLAY.__enum__=S;S.SCREEN=["SCREEN",12];S.SCREEN.toString=l;S.SCREEN.__enum__=S;S.SUBTRACT=["SUBTRACT",13];S.SUBTRACT.toString=l;S.SUBTRACT.__enum__=S;var Eb=q["openfl.display.CapsStyle"]={__ename__:!0,__constructs__:["NONE","ROUND","SQUARE"]};Eb.NONE=["NONE",0];Eb.NONE.toString=l;Eb.NONE.__enum__=Eb;Eb.ROUND=["ROUND",1];Eb.ROUND.toString=l;Eb.ROUND.__enum__=Eb;Eb.SQUARE=["SQUARE",2];
Eb.SQUARE.toString=l;Eb.SQUARE.__enum__=Eb;var Ve=function(){};q["openfl.display.FrameLabel"]=Ve;Ve.__name__=!0;Ve.__super__=ea;Ve.prototype=u(ea.prototype,{__class__:Ve});var Wc=q["openfl.display.GradientType"]={__ename__:!0,__constructs__:["RADIAL","LINEAR"]};Wc.RADIAL=["RADIAL",0];Wc.RADIAL.toString=l;Wc.RADIAL.__enum__=Wc;Wc.LINEAR=["LINEAR",1];Wc.LINEAR.toString=l;Wc.LINEAR.__enum__=Wc;var sc=function(){this.__glStack=[];this.__dirty=!0;this.__commands=new hd;this.__positionY=this.__positionX=
this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,0)};q["openfl.display.Graphics"]=sc;sc.__name__=!0;sc.prototype={beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-
this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineTo:function(a,b){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);this.__positionX=a;this.__positionY=b;this.__inflateBounds(this.__positionX-
this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding);this.__commands.lineTo(a,b);this.__hardware=!1;this.set___dirty(!0)},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__getBounds:function(a,b){if(null!=this.__bounds){var c=sa.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;
var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?v.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new sa(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&
(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:sc,__properties__:{set___dirty:"set___dirty"}};var qc=q["openfl.display.GraphicsPathWinding"]={__ename__:!0,__constructs__:["EVEN_ODD","NON_ZERO"]};qc.EVEN_ODD=["EVEN_ODD",0];qc.EVEN_ODD.toString=l;qc.EVEN_ODD.__enum__=qc;qc.NON_ZERO=["NON_ZERO",1];qc.NON_ZERO.toString=
l;qc.NON_ZERO.__enum__=qc;var Xc=q["openfl.display.InterpolationMethod"]={__ename__:!0,__constructs__:["RGB","LINEAR_RGB"]};Xc.RGB=["RGB",0];Xc.RGB.toString=l;Xc.RGB.__enum__=Xc;Xc.LINEAR_RGB=["LINEAR_RGB",1];Xc.LINEAR_RGB.toString=l;Xc.LINEAR_RGB.__enum__=Xc;var Fb=q["openfl.display.JointStyle"]={__ename__:!0,__constructs__:["MITER","ROUND","BEVEL"]};Fb.MITER=["MITER",0];Fb.MITER.toString=l;Fb.MITER.__enum__=Fb;Fb.ROUND=["ROUND",1];Fb.ROUND.toString=l;Fb.ROUND.__enum__=Fb;Fb.BEVEL=["BEVEL",2];Fb.BEVEL.toString=
l;Fb.BEVEL.__enum__=Fb;var gb=q["openfl.display.LineScaleMode"]={__ename__:!0,__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};gb.HORIZONTAL=["HORIZONTAL",0];gb.HORIZONTAL.toString=l;gb.HORIZONTAL.__enum__=gb;gb.NONE=["NONE",1];gb.NONE.toString=l;gb.NONE.__enum__=gb;gb.NORMAL=["NORMAL",2];gb.NORMAL.toString=l;gb.NORMAL.__enum__=gb;gb.VERTICAL=["VERTICAL",3];gb.VERTICAL.toString=l;gb.VERTICAL.__enum__=gb;var We=function(){};q["openfl.display.Loader"]=We;We.__name__=!0;We.__super__=Ma;We.prototype=
u(Ma.prototype,{__class__:We});var fb=q["openfl.display.PixelSnapping"]={__ename__:!0,__constructs__:["NEVER","AUTO","ALWAYS"]};fb.NEVER=["NEVER",0];fb.NEVER.toString=l;fb.NEVER.__enum__=fb;fb.AUTO=["AUTO",1];fb.AUTO.toString=l;fb.AUTO.__enum__=fb;fb.ALWAYS=["ALWAYS",2];fb.ALWAYS.toString=l;fb.ALWAYS.__enum__=fb;var nd=function(a){Qa.call(this);if(null!=a&&(this.display=a,fa.current.addChild(a),T.__instanceof(a,db)))T.__cast(a,db).onInit()};q["openfl.display.Preloader"]=nd;nd.__name__=!0;nd.__super__=
Qa;nd.prototype=u(Qa.prototype,{load:function(a,b){for(var c=[],d=null,e=0,g=a.length;e<g;){var h=e++,d=a[h];switch(b[h]){case "MUSIC":case "SOUND":d=Lc.withoutExtension(d),G.remove(c,d)||this.total++,c.push(d)}}for(e=0;e<c.length;)g=c[e],++e,d=new Ec,d.addEventListener(J.COMPLETE,z(this,this.sound_onComplete)),d.addEventListener(Ub.IO_ERROR,z(this,this.sound_onIOError)),d.load(new ad(g+".ogg"));Qa.prototype.load.call(this,a,b)},start:function(){null!=this.display&&T.__instanceof(this.display,db)?
(this.display.addEventListener(J.COMPLETE,z(this,this.display_onComplete)),T.__cast(this.display,db).onLoaded()):Qa.prototype.start.call(this)},update:function(a,b){if(null!=this.display&&T.__instanceof(this.display,db))T.__cast(this.display,db).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener(J.COMPLETE,z(this,this.display_onComplete));fa.current.removeChild(this.display);fa.current.stage.set_focus(null);this.display=null;Qa.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;
this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:nd});var bc=q["openfl.display.SpreadMethod"]={__ename__:!0,__constructs__:["REPEAT","REFLECT","PAD"]};bc.REPEAT=["REPEAT",0];bc.REPEAT.toString=l;bc.REPEAT.__enum__=bc;bc.REFLECT=["REFLECT",1];bc.REFLECT.toString=l;bc.REFLECT.__enum__=bc;bc.PAD=["PAD",2];bc.PAD.toString=l;
bc.PAD.__enum__=bc;var ld=function(a,b){Ja.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=sb.NORMAL;this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.stageWidth=a.__width;this.stageHeight=a.__height;this.stage=this;this.align=wa.TOP_LEFT;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=eb.HIGH;this.scaleMode=$a.NO_SCALE;this.stageFocusRect=
!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new Sc;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new ce;if(!c.fixed){c.length++;if(c.data.length<c.length){var e;e=Array(c.data.length+10);xc.blit(c.data,0,e,0,c.data.length);c.data=e}c.data[c.length-1]=d}c.length;null==fa.current.stage&&this.stage.addChild(fa.current)};q["openfl.display.Stage"]=
ld;ld.__name__=!0;ld.__interfaces__=[zd];ld.__super__=Ja;ld.prototype=u(Ja.prototype,{globalToLocal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){ua.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){ua.__onGamepadButtonDown(a,b)},onGamepadButtonUp:function(a,b){ua.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){ua.__onGamepadConnect(a)},onGamepadDisconnect:function(a){ua.__onGamepadDisconnect(a)},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,
b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey(Cb.KEY_DOWN,b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey(Cb.KEY_UP,b,c)},onModuleExit:function(a){null!=this.window&&(a=new J(J.DEACTIVATE),this.__broadcast(a,!0))},onMouseDown:function(a,b,c,d){if(null!=this.window&&
this.window==a){switch(d){case 1:a=O.MIDDLE_MOUSE_DOWN;break;case 2:a=O.RIGHT_MOUSE_DOWN;break;default:a=O.MOUSE_DOWN}this.__onMouse(a,b,c,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse(O.MOUSE_MOVE,b,c,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){switch(d){case 1:a=O.MIDDLE_MOUSE_UP;break;case 2:a=O.RIGHT_MOUSE_UP;break;default:a=O.MOUSE_UP}this.__onMouse(a,b,c,d)}},onMouseWheel:function(a,b,c){null!=
this.window&&this.window==a&&this.__onMouseWheel(b,c)},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new fc(fc.TEXT_INPUT,!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,!0)}},onTouchMove:function(a){this.__onTouch("touchMove",
a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&this.window==a&&(a=new J(J.ACTIVATE),this.__broadcast(a,!0))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 0:this.__renderer=new cb(this.stageWidth,this.stageHeight,a[2]);break;case 1:this.__renderer=new Pd(this.stageWidth,
this.stageHeight,a[2]);break;case 2:this.__renderer=new nb(this.stageWidth,this.stageHeight,a[2]);break;case 4:this.__renderer=new id(this.stageWidth,this.stageHeight,a[2]);break;case 5:this.__renderer=new Qd(this.stageWidth,this.stageHeight,a[2])}},onWindowDeactivate:function(a){null!=this.window&&this.window==a&&(a=new J(J.DEACTIVATE),this.__broadcast(a,!0))},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&(a=new wb(wb.FOCUS_IN,!0,!1,null,!1,0),this.__broadcast(a,
!0))},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=new wb(wb.FOCUS_OUT,!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFullscreen:function(a){},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new J(J.MOUSE_LEAVE))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(this.stageWidth=b,this.stageHeight=c,null!=this.__renderer&&this.__renderer.resize(b,c),a=new J(J.RESIZE),
this.__broadcast(a,!1))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++),this.__renderDirty||(this.__renderDirty=!0,ba.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new J(J.ENTER_FRAME),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new J(J.RENDER),!0));this.__renderable=
!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){a=a.context;switch(a[1]){case 4:a=a[2],T.__cast(this.__renderer,id).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:
b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=Xa.AT_TARGET,a.target.__broadcast(a,!1);else{a.eventPhase=Xa.CAPTURING_PHASE;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var g=d++;b[g].__broadcast(a,!1);if(a.__isCancelled)return}a.eventPhase=Xa.AT_TARGET;
a.target.__broadcast(a,!1);if(!a.__isCancelled&&a.bubbles)for(a.eventPhase=Xa.BUBBLING_PHASE,c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCancelled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,b,c){O.__altKey=Sa.get_altKey(c);O.__commandKey=Sa.get_metaKey(c);O.__ctrlKey=Sa.get_ctrlKey(c);O.__shiftKey=Sa.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=
1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=
222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=
187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;
case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=
121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;
case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=
110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var g=pf.__getCharCode(b,Sa.get_shiftKey(c));a=new Cb(a,!0,!1,g,b,e,this.__macKeyboard?Sa.get_ctrlKey(c)||Sa.get_metaKey(c):Sa.get_ctrlKey(c),Sa.get_altKey(c),Sa.get_shiftKey(c),Sa.get_ctrlKey(c),Sa.get_metaKey(c));d.reverse();this.__fireEvent(a,d)}},__onMouse:function(a,b,c,
d){if(!(2<d)){this.__mouseX=b;this.__mouseY=c;var e=[],g=null,h=new la(b,c);this.__hitTest(b,c,!0,e,!0)?g=e[e.length-1]:(g=this,e=[this]);null==g&&(g=this);a==O.MOUSE_DOWN&&(g.get_tabEnabled()?this.set_focus(g):this.set_focus(null));this.__fireEvent(O.__create(a,d,this.__mouseX,this.__mouseY,g==this?h:g.globalToLocal(h),g),e);switch(a){case "mouseUp":b=O.CLICK;break;case "middleMouseUp":b=O.MIDDLE_CLICK;break;case "rightMouseUp":b=O.RIGHT_CLICK;break;default:b=null}null!=b&&(this.__fireEvent(O.__create(b,
d,this.__mouseX,this.__mouseY,g==this?h:g.globalToLocal(h),g),e),a==O.MOUSE_UP&&T.__cast(g,ya).doubleClickEnabled&&(a=fa.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(O.__create(O.DOUBLE_CLICK,d,this.__mouseX,this.__mouseY,g==this?h:g.globalToLocal(h),g),e),this.__lastClickTime=0):this.__lastClickTime=a));g=null;for(d=0;d<e.length;)if(g=e[d],++d,g=g.__getCursor(),null!=g){Kd.set_cursor(g);break}null==g&&Kd.set_cursor(Z.ARROW);d=0;for(g=this.__mouseOutStack;d<g.length;)a=g[d],++d,-1==G.indexOf(e,
a,0)&&(G.remove(this.__mouseOutStack,a),b=a.globalToLocal(h),a.__dispatchEvent(new O(O.MOUSE_OUT,!1,!1,b.x,b.y,a)));for(d=0;d<e.length;)g=e[d],++d,-1==G.indexOf(this.__mouseOutStack,g,0)&&(g.hasEventListener(O.MOUSE_OVER)&&(a=g.globalToLocal(h),g.__dispatchEvent(new O(O.MOUSE_OVER,!1,!1,a.x,a.y,g))),g.hasEventListener(O.MOUSE_OUT)&&this.__mouseOutStack.push(g));null!=this.__dragObject&&this.__drag(h)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[];this.__hitTest(c,d,!1,e,!0)||
(e=[this]);var g=e[e.length-1],c=new la(c,d),d=b|0;this.__fireEvent(O.__create(O.MOUSE_WHEEL,0,this.__mouseX,this.__mouseY,g==this?c:g.globalToLocal(c),g,d),e)},__onTouch:function(a,b){var c=new la(b.x*this.stageWidth,b.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(b.x,b.y,!1,d,!0)){var e=d[d.length-1];null==e&&(e=this);c=e.globalToLocal(c);e=Fc.__create(a,null,this.__mouseX,this.__mouseY,c,e);e.touchPointID=b.id;e.isPrimaryTouchPoint=!0;this.__fireEvent(e,d)}else d=
Fc.__create(a,null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=b.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__update:function(a,b,c){if(a)0<ba.__worldTransformDirty&&(Ja.prototype.__update.call(this,!0,b,c),b&&(ba.__worldTransformDirty=0,this.__dirty=!0));else if(0<ba.__worldTransformDirty||this.__dirty||0<ba.__worldRenderDirty)Ja.prototype.__update.call(this,!1,b,c),b&&(ba.__worldTransformDirty=0,ba.__worldRenderDirty=0,this.__dirty=!1)},get_mouseX:function(){return this.__mouseX},
get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+W.hex(a,6);return this.__color=a},set_displayState:function(a){if(null!=this.window)switch(a[1]){case 0:this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.dispatchEvent(new Nb(Nb.FULL_SCREEN,!1,!1,!1,!0)));break;default:this.window.__fullscreen||(this.window.set_fullscreen(!0),this.dispatchEvent(new Nb(Nb.FULL_SCREEN,!1,!1,
!0,!0)))}return this.__displayState=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__focus=a;if(null!=b){var c=new wb(wb.FOCUS_OUT,!0,!1,this.__focus,!1,0);this.__stack=[];b.__getInteractive(this.__stack);this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(b=new wb(wb.FOCUS_IN,!0,!1,b,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack))}return this.__focus},
__class__:ld,__properties__:u(Ja.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",set_color:"set_color"})});var ce=function(){ea.call(this)};q["openfl.display.Stage3D"]=ce;ce.__name__=!0;ce.__super__=ea;ce.prototype=u(ea.prototype,{__class__:ce});var wa=q["openfl.display.StageAlign"]={__ename__:!0,__constructs__:"TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")};wa.TOP_RIGHT=["TOP_RIGHT",0];wa.TOP_RIGHT.toString=
l;wa.TOP_RIGHT.__enum__=wa;wa.TOP_LEFT=["TOP_LEFT",1];wa.TOP_LEFT.toString=l;wa.TOP_LEFT.__enum__=wa;wa.TOP=["TOP",2];wa.TOP.toString=l;wa.TOP.__enum__=wa;wa.RIGHT=["RIGHT",3];wa.RIGHT.toString=l;wa.RIGHT.__enum__=wa;wa.LEFT=["LEFT",4];wa.LEFT.toString=l;wa.LEFT.__enum__=wa;wa.BOTTOM_RIGHT=["BOTTOM_RIGHT",5];wa.BOTTOM_RIGHT.toString=l;wa.BOTTOM_RIGHT.__enum__=wa;wa.BOTTOM_LEFT=["BOTTOM_LEFT",6];wa.BOTTOM_LEFT.toString=l;wa.BOTTOM_LEFT.__enum__=wa;wa.BOTTOM=["BOTTOM",7];wa.BOTTOM.toString=l;wa.BOTTOM.__enum__=
wa;var sb=q["openfl.display.StageDisplayState"]={__ename__:!0,__constructs__:["NORMAL","FULL_SCREEN","FULL_SCREEN_INTERACTIVE"]};sb.NORMAL=["NORMAL",0];sb.NORMAL.toString=l;sb.NORMAL.__enum__=sb;sb.FULL_SCREEN=["FULL_SCREEN",1];sb.FULL_SCREEN.toString=l;sb.FULL_SCREEN.__enum__=sb;sb.FULL_SCREEN_INTERACTIVE=["FULL_SCREEN_INTERACTIVE",2];sb.FULL_SCREEN_INTERACTIVE.toString=l;sb.FULL_SCREEN_INTERACTIVE.__enum__=sb;var eb=q["openfl.display.StageQuality"]={__ename__:!0,__constructs__:["BEST","HIGH","MEDIUM",
"LOW"]};eb.BEST=["BEST",0];eb.BEST.toString=l;eb.BEST.__enum__=eb;eb.HIGH=["HIGH",1];eb.HIGH.toString=l;eb.HIGH.__enum__=eb;eb.MEDIUM=["MEDIUM",2];eb.MEDIUM.toString=l;eb.MEDIUM.__enum__=eb;eb.LOW=["LOW",3];eb.LOW.toString=l;eb.LOW.__enum__=eb;var $a=q["openfl.display.StageScaleMode"]={__ename__:!0,__constructs__:["SHOW_ALL","NO_SCALE","NO_BORDER","EXACT_FIT"]};$a.SHOW_ALL=["SHOW_ALL",0];$a.SHOW_ALL.toString=l;$a.SHOW_ALL.__enum__=$a;$a.NO_SCALE=["NO_SCALE",1];$a.NO_SCALE.toString=l;$a.NO_SCALE.__enum__=
$a;$a.NO_BORDER=["NO_BORDER",2];$a.NO_BORDER.toString=l;$a.NO_BORDER.__enum__=$a;$a.EXACT_FIT=["EXACT_FIT",3];$a.EXACT_FIT.toString=l;$a.EXACT_FIT.__enum__=$a;var Ff=function(){};q["openfl.display.Tileset"]=Ff;Ff.__name__=!0;var qf=function(){};q["openfl.display.Tilesheet"]=qf;qf.__name__=!0;qf.prototype={__class__:qf};var cc=q["openfl.display.TriangleCulling"]={__ename__:!0,__constructs__:["NEGATIVE","NONE","POSITIVE"]};cc.NEGATIVE=["NEGATIVE",0];cc.NEGATIVE.toString=l;cc.NEGATIVE.__enum__=cc;cc.NONE=
["NONE",1];cc.NONE.toString=l;cc.NONE.__enum__=cc;cc.POSITIVE=["POSITIVE",2];cc.POSITIVE.toString=l;cc.POSITIVE.__enum__=cc;var be=function(a){Qc.call(this,a)};q["openfl.display.Window"]=be;be.__name__=!0;be.__super__=Qc;be.prototype=u(Qc.prototype,{create:function(a){Qc.prototype.create.call(this,a);this.stage=new ld(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);a.addModule(this.stage)},__class__:be});var J=function(a,b,c){null==c&&(c=!1);null==
b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=Xa.AT_TARGET};q["openfl.events.Event"]=J;J.__name__=!0;J.prototype={__class__:J};var fc=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.text=d};q["openfl.events.TextEvent"]=fc;fc.__name__=!0;fc.__super__=J;fc.prototype=u(J.prototype,{__class__:fc});var gc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);fc.call(this,a,b,c,d);this.errorID=e};q["openfl.events.ErrorEvent"]=
gc;gc.__name__=!0;gc.__super__=fc;gc.prototype=u(fc.prototype,{__class__:gc});var od=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};q["openfl.events._EventDispatcher.Listener"]=od;od.__name__=!0;od.prototype={match:function(a,b){return X.compareMethods(this.callback,a)&&this.useCapture==b},__class__:od};var Xa=q["openfl.events.EventPhase"]={__ename__:!0,__constructs__:["CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"]};Xa.CAPTURING_PHASE=["CAPTURING_PHASE",0];Xa.CAPTURING_PHASE.toString=
l;Xa.CAPTURING_PHASE.__enum__=Xa;Xa.AT_TARGET=["AT_TARGET",1];Xa.AT_TARGET.toString=l;Xa.AT_TARGET.__enum__=Xa;Xa.BUBBLING_PHASE=["BUBBLING_PHASE",2];Xa.BUBBLING_PHASE.toString=l;Xa.BUBBLING_PHASE.__enum__=Xa;var wb=function(a,b,c,d,e,g){null==g&&(g=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.keyCode=g;this.shiftKey=e;this.relatedObject=d};q["openfl.events.FocusEvent"]=wb;wb.__name__=!0;wb.__super__=J;wb.prototype=u(J.prototype,{__class__:wb});var Nb=function(a,b,c,
d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.fullScreen=d;this.interactive=e};q["openfl.events.FullScreenEvent"]=Nb;Nb.__name__=!0;Nb.__super__=J;Nb.prototype=u(J.prototype,{__class__:Nb});var hc=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.device=d};q["openfl.events.GameInputEvent"]=hc;hc.__name__=!0;hc.__super__=J;hc.prototype=u(J.prototype,{__class__:hc});var Yc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!1);null==b&&
(b=!1);this.status=d;J.call(this,a,b,c)};q["openfl.events.HTTPStatusEvent"]=Yc;Yc.__name__=!0;Yc.__super__=J;Yc.prototype=u(J.prototype,{__class__:Yc});var Ub=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);gc.call(this,a,b,c,d,e)};q["openfl.events.IOErrorEvent"]=Ub;Ub.__name__=!0;Ub.__super__=gc;Ub.prototype=u(gc.prototype,{__class__:Ub});var Cb=function(a,b,c,d,e,g,h,k,l,q,r){null==r&&(r=!1);null==q&&(q=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==
e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=g?g:0;this.ctrlKey=h;this.altKey=k;this.shiftKey=l;this.controlKey=q;this.commandKey=r};q["openfl.events.KeyboardEvent"]=Cb;Cb.__name__=!0;Cb.__super__=J;Cb.prototype=u(J.prototype,{__class__:Cb});var O=function(a,b,c,d,e,g,h,k,l,q,r,t,u){null==u&&(u=0);null==t&&(t=!1);null==r&&(r=0);null==q&&(q=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==e&&(e=0);null==d&&
(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.shiftKey=l;this.altKey=k;this.ctrlKey=h;this.bubbles=b;this.relatedObject=g;this.delta=r;this.localX=d;this.localY=e;this.buttonDown=q;this.commandKey=t;this.clickCount=u};q["openfl.events.MouseEvent"]=O;O.__name__=!0;O.__altKey=null;O.__buttonDown=null;O.__commandKey=null;O.__ctrlKey=null;O.__shiftKey=null;O.__create=function(a,b,c,d,e,g,h){null==h&&(h=0);switch(a){case "mouseDown":O.__buttonDown=!0;break;case "mouseUp":O.__buttonDown=
!1}a=new O(a,!0,!1,e.x,e.y,null,O.__ctrlKey,O.__altKey,O.__shiftKey,O.__buttonDown,h,O.__commandKey);a.stageX=c;a.stageY=d;a.target=g;return a};O.__super__=J;O.prototype=u(J.prototype,{__class__:O});var Zc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);J.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};q["openfl.events.ProgressEvent"]=Zc;Zc.__name__=!0;Zc.__super__=J;Zc.prototype=u(J.prototype,{__class__:Zc});var $c=function(a,b,c,d,e){null==e&&(e=0);null==
d&&(d="");null==c&&(c=!1);null==b&&(b=!1);gc.call(this,a,b,c,d,e)};q["openfl.events.SecurityErrorEvent"]=$c;$c.__name__=!0;$c.__super__=gc;$c.prototype=u(gc.prototype,{__class__:$c});var Fc=function(a,b,c,d,e,g,h,k,l,q,r,t,u,v,w){null==v&&(v=!1);null==u&&(u=0);null==t&&(t=!1);null==r&&(r=!1);null==q&&(q=!1);null==l&&(l=!1);null==h&&(h=1);null==g&&(g=1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);J.call(this,a,b,c);this.shiftKey=r;this.altKey=q;this.ctrlKey=l;this.bubbles=b;this.relatedObject=
k;this.delta=u;this.localX=d;this.localY=e;this.sizeX=g;this.sizeY=h;this.buttonDown=t;this.commandKey=v;this.pressure=1;this.touchPointID=0;this.isPrimaryTouchPoint=!0};q["openfl.events.TouchEvent"]=Fc;Fc.__name__=!0;Fc.__create=function(a,b,c,d,e,g){a=new Fc(a,!0,!1,e.x,e.y,1,1,null,!1,!1,!1,!1,0,!1,0);a.stageX=c;a.stageY=d;a.target=g;return a};Fc.__super__=J;Fc.prototype=u(J.prototype,{__class__:Fc});var Oa=function(){};q["openfl.external.ExternalInterface"]=Oa;Oa.__name__=!0;Oa.call=function(a,
b,c,d,e,g){var h=null,h=a.split(".").slice(0,-1).join(".");0<h.length&&(a+=".bind("+h+")");return h=null==b?eval(a)():null==c?eval(a)(b):null==d?eval(a)(b,c):null==e?eval(a)(b,c,d):null==g?eval(a)(b,c,d,e):eval(a)(b,c,d,e,g)};var Gf=function(){};q["openfl.filters.BitmapFilter"]=Gf;Gf.__name__=!0;var rf=function(){};q["openfl.geom.Matrix3D"]=rf;rf.__name__=!0;rf.prototype={__class__:rf};var de=function(a){this.__colorTransform=new pb;this.concatenatedColorTransform=new pb;this.pixelBounds=new sa;this.__displayObject=
a;this.__hasMatrix=!0};q["openfl.geom.Transform"]=de;de.__name__=!0;de.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:de,__properties__:{get_colorTransform:"get_colorTransform"}};var Hf=function(){};q["openfl.geom.Vector3D"]=Hf;Hf.__name__=!0;var If=function(){};q["openfl.media.ID3Info"]=If;If.__name__=!0;var Ec=function(a,b){ea.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};q["openfl.media.Sound"]=
Ec;Ec.__name__=!0;Ec.__super__=ea;Ec.prototype=u(ea.prototype,{load:function(a,b){this.url=a.url;this.__soundID=Lc.withoutExtension(a.url);Ec.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new J(J.COMPLETE)):(Ec.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",z(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",z(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},SoundJS_onFileLoad:function(a){a.id==
this.__soundID&&(createjs.Sound.removeEventListener("fileload",z(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",z(this,this.SoundJS_onFileError)),this.dispatchEvent(new J(J.COMPLETE)))},SoundJS_onFileError:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",z(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",z(this,this.SoundJS_onFileError)),this.dispatchEvent(new Ub(Ub.IO_ERROR)))},__class__:Ec});var Jf=function(){};
q["openfl.media.SoundLoaderContext"]=Jf;Jf.__name__=!0;var Kf=function(){};q["openfl.media.SoundTransform"]=Kf;Kf.__name__=!0;var pd=function(a){ea.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(xb.TEXT);null!=a&&this.load(a)};q["openfl.net.URLLoader"]=pd;pd.__name__=!0;pd.__super__=ea;pd.prototype=u(ea.prototype,{getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&
a.addEventListener("progress",z(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){d instanceof F&&(d=d.val),c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");else if(12029==c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),
b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);var g="";if(T.__instanceof(c,qb))switch(this.dataFormat[1]){case 0:g=c.data.buffer;break;default:g=c.readUTFBytes(c.length)}else if(T.__instanceof(c,vf))for(var h=0,k=X.fields(c);h<k.length;){var l=k[h];++h;0!=g.length&&(g+="&");g+=encodeURIComponent(l)+"="+W.urlEncode(X.field(c,l))}else null!=
c&&(g=c.toString());try{if("GET"==b&&null!=g&&""!=g){var q=1>=a.split("?").length;e.open(b,a+(q?"?":"&")+N.string(g),!0);g=""}else e.open(b,a,!0)}catch(r){r instanceof F&&(r=r.val);this.onError(r.toString());return}switch(this.dataFormat[1]){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(g);this.onOpen();this.getData=function(){return null!=e.response?e.response:e.responseText}},onData:function(a){a=this.getData();switch(this.dataFormat[1]){case 0:this.data=
qb.__ofBuffer(a);break;default:this.data=N.string(a)}a=new J(J.COMPLETE);a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new Ub(Ub.IO_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onOpen:function(){var a=new J(J.OPEN);a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new Zc(Zc.PROGRESS);b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new $c($c.SECURITY_ERROR);b.text=
a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new Yc(Yc.HTTP_STATUS,!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){a!=xb.BINARY||X.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=xb.TEXT;return this.dataFormat},__class__:pd,__properties__:{set_dataFormat:"set_dataFormat"}});var xb=q["openfl.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};xb.BINARY=["BINARY",0];xb.BINARY.toString=l;xb.BINARY.__enum__=
xb;xb.TEXT=["TEXT",1];xb.TEXT.toString=l;xb.TEXT.__enum__=xb;xb.VARIABLES=["VARIABLES",2];xb.VARIABLES.toString=l;xb.VARIABLES.__enum__=xb;var ad=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};q["openfl.net.URLRequest"]=ad;ad.__name__=!0;ad.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;if("string"==typeof this.data||T.__instanceof(this.data,qb))a=a.slice(),a.push(new Xe("Content-Type",
null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:ad};var Xe=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};q["openfl.net.URLRequestHeader"]=Xe;Xe.__name__=!0;Xe.prototype={__class__:Xe};var vf=function(){};q["openfl.net.URLVariables"]=vf;vf.__name__=!0;var cd=function(){};q["openfl.system.Capabilities"]=cd;cd.__name__=!0;cd.__properties__={get_screenResolutionY:"get_screenResolutionY",get_screenResolutionX:"get_screenResolutionX"};
cd.get_screenResolutionX=function(){var a=fa.application.windows[0];return null!=a&&(a=a.get_display(),null!=a)?a.currentMode.width:0};cd.get_screenResolutionY=function(){var a=fa.application.windows[0];return null!=a&&(a=a.get_display(),null!=a)?a.currentMode.height:0};var Wb=q["openfl.text.AntiAliasType"]={__ename__:!0,__constructs__:["ADVANCED","NORMAL"]};Wb.ADVANCED=["ADVANCED",0];Wb.ADVANCED.toString=l;Wb.ADVANCED.__enum__=Wb;Wb.NORMAL=["NORMAL",1];Wb.NORMAL.toString=l;Wb.NORMAL.__enum__=Wb;
var Cc=function(a){Gc.call(this,a)};q["openfl.text.Font"]=Cc;Cc.__name__=!0;Cc.__fromLimeFont=function(a){var b=new Cc;b.name=a.name;b.src=a.src;return b};Cc.__super__=Gc;Cc.prototype=u(Gc.prototype,{__class__:Cc});var mb=q["openfl.text.GridFitType"]={__ename__:!0,__constructs__:["NONE","PIXEL","SUBPIXEL"]};mb.NONE=["NONE",0];mb.NONE.toString=l;mb.NONE.__enum__=mb;mb.PIXEL=["PIXEL",1];mb.PIXEL.toString=l;mb.PIXEL.__enum__=mb;mb.SUBPIXEL=["SUBPIXEL",2];mb.SUBPIXEL.toString=l;mb.SUBPIXEL.__enum__=mb;
var tb=function(){ya.call(this);this.__caretIndex=-1;this.__graphics=new sc;this.__textEngine=new Fa(this);this.__tabEnabled=this.__layoutDirty=!0;null==tb.__defaultTextFormat&&(tb.__defaultTextFormat=new dd("Times New Roman",12,0,!1,!1,!1,"","",bb.LEFT,0,0,0,0),tb.__defaultTextFormat.blockIndent=0,tb.__defaultTextFormat.bullet=!1,tb.__defaultTextFormat.letterSpacing=0,tb.__defaultTextFormat.kerning=!1);this.__textFormat=tb.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new Vc(this.__textFormat,
0,0));this.addEventListener(O.MOUSE_DOWN,z(this,this.this_onMouseDown))};q["openfl.text.TextField"]=tb;tb.__name__=!0;tb.__defaultTextFormat=null;tb.__super__=ya;tb.prototype=u(ya.prototype,{getCharBoundaries:function(a){if(0>a||a>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.length;){var d=c[b];++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var g=c++,b=b+d.advances[g];return new sa(b,d.offsetY,
d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b;b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);this.__selectionIndex=this.__caretIndex=b+a.length}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__textEngine.text.length||null==c)){this.__textEngine.text=this.__textEngine.text.substring(0,
a)+c+this.__textEngine.text.substring(b);c=c.length-(b-a);for(var d=0,e;d<this.__textEngine.textFormatRanges.length;)e=this.__textEngine.textFormatRanges[d],e.start<=a&&e.end>=b?(e.end+=c,d++):e.start>=a&&e.end<=b?(this.__textEngine.textFormatRanges.splice(d,1),c-=e.end-e.start):(e.start>a&&e.start<=b&&(e.start+=c),d++);this.__layoutDirty=this.__dirty=!0}},__getBounds:function(a,b){this.__updateLayout();var c=sa.__temp;this.__textEngine.bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},
__getCursor:function(){return this.__textEngine.selectable?Z.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights[e]}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,g,e=0,h=this.__textEngine.layoutGroups.length;e<h;)if(g=e++,c=this.__textEngine.layoutGroups[g],g=g<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[g+1]:null,d&&(b<c.offsetY&&
(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==g)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==g||g.lineIndex!=c.lineIndex){e=d=0;for(h=c.advances.length;e<h;)if(g=e++,d+=c.advances[g],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[g])+c.advances[g]/2)return c.startIndex+g;if(c.startIndex+g<c.endIndex)return c.startIndex+g+1;break}return c.endIndex}return this.__textEngine.text.length},__hitTest:function(a,b,c,d,e){if(!this.get_visible()||this.__isMask||e&&
!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();this.__updateLayout();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,a)?(null!=d&&d.push(this),!0):!1},__hitTestMask:function(a,b){this.__getWorldTransform();this.__updateLayout();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,
d)?!0:!1},__renderCairo:function(a){kf.render(this,a);ya.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){Ba.render(this,a);if(this.__textEngine.antiAliasType==Wb.ADVANCED&&this.__textEngine.gridFitType==mb.PIXEL){var b=a.context.imageSmoothingEnabled;b&&(a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1);ya.prototype.__renderCanvas.call(this,a);b&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,
a.context.imageSmoothingEnabled=!0)}else ya.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){mf.render(this,a)},__renderGL:function(a){null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this);Ba.render(this,a);cb.renderBitmap(this,a,this.__textEngine.antiAliasType!=Wb.ADVANCED||this.__textEngine.gridFitType!=mb.PIXEL);null!=this.__mask&&
null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask();null!=this.__scrollRect&&a.maskManager.popRect()},__startCursorTimer:function(){this.__cursorTimer=tc.delay(z(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__textEngine.text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||
(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(z(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(z(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(z(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&
null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(z(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(z(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){this.__textEngine.update();if(this.__textEngine.autoSize!=Va.NONE){var a=this.__textEngine.width;switch(this.__textEngine.autoSize[1]){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=
this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize[1]){case 3:this.set_x(this.get_x()+(a-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=!1}},set_antiAliasType:function(a){return this.__textEngine.antiAliasType=a},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=
!0;return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},set_height:function(a){if(1!=this.get_scaleY()||a!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=a},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(a){this.__isHTML&&this.__textEngine.text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==
this.__div){a=(new Ob("<br>","g")).replace(a,"\n");a=(new Ob("<br/>","g")).replace(a,"\n");var b=a.split("<font");if(1==b.length)a=(new Ob("<.*?>","g")).replace(a,""),1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1),b=this.__textEngine.textFormatRanges[0],b.format=this.__textFormat,b.start=0,b.end=a.length;else{this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length);a="";for(var c=0;c<
b.length;){var d=b[c];++c;if(""!=d){var e=d.indexOf("</font>");if(-1<e){var g=d.indexOf(">")+1,h=e,k=this.__textFormat.clone(),l=d.indexOf("face="),q=d.indexOf("color="),r=d.indexOf("size=");if(-1<l&&l<g){var t=d.indexOf('"',l);k.font=G.substr(d,l+6,t)}-1<q&&q<g&&(k.color=N.parseInt("0x"+G.substr(d,q+8,6)));-1<r&&r<g&&(k.size=N.parseInt(function(a){a=d.indexOf('"',r);return G.substr(d,r+6,a)}(this)));g=d.substring(g,h);g=(new Ob("<.*?>","g")).replace(g,"");this.__textEngine.textFormatRanges.push(new Vc(k,
a.length,a.length+g.length));a+=g;e+7<d.length&&(g=G.substr(d,e+7,null),this.__textEngine.textFormatRanges.push(new Vc(this.__textFormat,a.length,a.length+g.length)),a+=g)}else this.__textEngine.textFormatRanges.push(new Vc(this.__textFormat,a.length,a.length+d.length)),a+=d}}}}return this.__textEngine.text=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=
this.__textEngine.selectable&&this.get_type()==Mb.INPUT&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},set_text:function(a){if(this.__isHTML||this.__textEngine.text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var b=this.__textEngine.textFormatRanges[0];b.format=this.__textFormat;
b.start=0;b.end=a.length;this.__isHTML=!1;return this.__textEngine.text=a},get_textWidth:function(){this.__updateLayout();return this.__textEngine.textWidth},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},get_width:function(){this.__updateLayout();return this.__textEngine.width},set_width:function(a){if(1!=this.get_scaleX()||this.__textEngine.width!=a)this.__transformDirty||(this.__transformDirty=!0,ba.__worldTransformDirty++),
this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener(O.MOUSE_MOVE,z(this,this.stage_onMouseMove)),this.stage.removeEventListener(O.MOUSE_UP,
z(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=N["int"](Math.min(this.__selectionIndex,b));b=N["int"](Math.max(this.__selectionIndex,b));this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),
this.__startCursorTimer())}},this_onFocusIn:function(a){this.get_selectable()&&this.get_type()==Mb.INPUT&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener(O.MOUSE_MOVE,z(this,this.stage_onMouseMove)),this.stage.addEventListener(O.MOUSE_UP,z(this,this.stage_onMouseUp)))},
window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new J(J.CHANGE,!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),
this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new J(J.CHANGE,!0)));break;case 1073741904:Sa.get_shiftKey(b)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=N["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:Sa.get_shiftKey(b)?this.__caretIndex<this.__textEngine.text.length&&
this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=N["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 99:64!=b&&128!=b||Pc.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:if(64==b||128==b)Pc.set_text(this.__textEngine.text.substring(this.__caretIndex,
this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new J(J.CHANGE,!0)));break;case 118:if(64==b||128==b){var c=Pc.get_text();null!=c?this.replaceSelectedText(c):this.replaceSelectedText("");this.dispatchEvent(new J(J.CHANGE,!0))}}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new J(J.CHANGE,!0))},__class__:tb,__properties__:u(ya.prototype.__properties__,{get_textHeight:"get_textHeight",get_textWidth:"get_textWidth",
get_type:"get_type",set_text:"set_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",set_antiAliasType:"set_antiAliasType"})});var Va=q["openfl.text.TextFieldAutoSize"]={__ename__:!0,__constructs__:["CENTER","LEFT","NONE","RIGHT"]};Va.CENTER=["CENTER",0];Va.CENTER.toString=l;Va.CENTER.__enum__=Va;
Va.LEFT=["LEFT",1];Va.LEFT.toString=l;Va.LEFT.__enum__=Va;Va.NONE=["NONE",2];Va.NONE.toString=l;Va.NONE.__enum__=Va;Va.RIGHT=["RIGHT",3];Va.RIGHT.toString=l;Va.RIGHT.__enum__=Va;var Mb=q["openfl.text.TextFieldType"]={__ename__:!0,__constructs__:["DYNAMIC","INPUT"]};Mb.DYNAMIC=["DYNAMIC",0];Mb.DYNAMIC.toString=l;Mb.DYNAMIC.__enum__=Mb;Mb.INPUT=["INPUT",1];Mb.INPUT.toString=l;Mb.INPUT.__enum__=Mb;var dd=function(a,b,c,d,e,g,h,k,l,q,r,t,u){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=
e;this.underline=g;this.url=h;this.target=k;this.align=l;this.leftMargin=q;this.rightMargin=r;this.indent=t;this.leading=u};q["openfl.text.TextFormat"]=dd;dd.__name__=!0;dd.prototype={clone:function(){var a=new dd(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;
a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=
a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:dd};var bb=q["openfl.text.TextFormatAlign"]={__ename__:!0,__constructs__:["LEFT","RIGHT","JUSTIFY","CENTER"]};bb.LEFT=["LEFT",0];bb.LEFT.toString=l;bb.LEFT.__enum__=
bb;bb.RIGHT=["RIGHT",1];bb.RIGHT.toString=l;bb.RIGHT.__enum__=bb;bb.JUSTIFY=["JUSTIFY",2];bb.JUSTIFY.toString=l;bb.JUSTIFY.__enum__=bb;bb.CENTER=["CENTER",3];bb.CENTER.toString=l;bb.CENTER.__enum__=bb;var ua=function(){};q["openfl.ui.GameInput"]=ua;ua.__name__=!0;ua.__getDevice=function(a){if(null==a)return null;if(null==ua.__devices.h.__keys__[a.__id__]){var b=new Ye(null==a.id?"null":""+a.id,null);ua.__devices.set(a,b);ua.numDevices=Tb.count(ua.__devices)}return ua.__devices.h[a.__id__]};ua.__onGamepadAxisMove=
function(a,b,c){a=ua.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new rc(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new J(J.CHANGE))}};ua.__onGamepadButtonDown=function(a,b){var c=ua.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new rc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=
1;c.dispatchEvent(new J(J.CHANGE))}};ua.__onGamepadButtonUp=function(a,b){var c=ua.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d=
"DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new rc(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new J(J.CHANGE))}};ua.__onGamepadConnect=function(a){a=ua.__getDevice(a);if(null!=a)for(var b=0,c=ua.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new hc(hc.DEVICE_ADDED,null,null,a))}};ua.__onGamepadDisconnect=function(a){var b=ua.__devices.h[a.__id__];if(null!=b){ua.__devices.remove(a);ua.numDevices=Tb.count(ua.__devices);
a=0;for(var c=ua.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new hc(hc.DEVICE_REMOVED,null,null,b))}}};ua.__super__=ea;ua.prototype=u(ea.prototype,{__class__:ua});var rc=function(a,b,c,d,e){null==e&&(e=0);ea.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};q["openfl.ui.GameInputControl"]=rc;rc.__name__=!0;rc.__super__=ea;rc.prototype=u(ea.prototype,{__class__:rc});var Ye=function(a,b){this.__controls=[];this.__button=new Kb;this.__axis=new Kb;this.id=a;
this.name=b;for(var c,d=0;6>d;){var e=d++;c=new rc(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=0;15>d;)e=d++,c=new rc(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};q["openfl.ui.GameInputDevice"]=Ye;Ye.__name__=!0;Ye.prototype={__class__:Ye};var pf=function(){};q["openfl.ui.Keyboard"]=pf;pf.__name__=!0;pf.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;
case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;
case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var sf,Sf=0;Array.prototype.indexOf&&(G.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});
q.Math=Math;String.prototype.__class__=q.String=String;String.__name__=!0;q.Array=Array;Array.__name__=!0;Date.prototype.__class__=q.Date=Date;Date.__name__=["Date"];var Tf=q.Int={__name__:["Int"]},Uf=q.Dynamic={__name__:["Dynamic"]},Mc=q.Float=Number;Mc.__name__=["Float"];var wf=q.Bool=Boolean;wf.__ename__=["Bool"];var Vf=q.Class={__name__:["Class"]},Wf={},Rb={},he=r.ArrayBuffer||Yb;null==he.prototype.slice&&(he.prototype.slice=Yb.sliceImpl);var Df=r.DataView||te,jb=r.Uint8Array||oc._new,Lf;Lf=new Uint32Array(256);
D.__alpha16=Lf;for(var Mf=0;256>Mf;){var Nf=Mf++,Xf=Math.ceil(257.00392156862745*Nf);D.__alpha16[Nf]=Xf}var Of;Of=new jb(510);D.__clamp=Of;for(var Pf=0;255>Pf;){var Qf=Pf++;D.__clamp[Qf]=Qf}for(var Rf=255;511>Rf;){var Yf=Rf++;D.__clamp[Yf]=255}null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);ba.__instanceCount=0;ba.__worldRenderDirty=0;ba.__worldTransformDirty=0;L.PRE_BRACKETMISMATCH=0;L.PRE_MISSINGUPDATE=1;L.PARSER_INIT=2;L.PARSER_NEW=3;L.RUNTIME_INIT=4;L.RUNTIME_UPDATE=
5;L.dumpstack=!1;$._title="haxegon game";$._homepage="http://www.zeedonk.net";$._background=0;$._foreground=16777215;H.vol=1;H.musicLoop=!0;H.playing=!1;H.playTick=0;H.selectedSequence=0;H.maxVol=9;H.B62="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\u00e0\u00e1\u00e2\u00e4\u00e6\u00e3\u00e5\u0101\u00e8\u00e9".split("");ga.ZERO4B11="04b11";ga.C64="c64";ga.COMIC="comic";ga.CRYPT="crypt";ga.DEFAULT="default";ga.DOS="dos";ga.GANON="ganon";ga.NOKIA="nokia";ga.OLDENGLISH="oldenglish";ga.PIXEL="pixel";
ga.PRESSSTART="pressstart";ga.RETROFUTURE="retrofuture";ga.ROMAN="roman";ga.SPECIAL="special";ga.THIN="thin";ga.TINY="tiny";ga.YOSTER="yoster";B.skipnextloadscript=!1;B.readytogo=!1;B.loadwhenready=!1;B.donkeyhop=0;B.zebrahop=0;B.counter=0;B.oldfont="";B.oldfontsize=0;Q.Element=0;Q.PCData=1;Q.CData=2;Q.Comment=3;Q.DocType=4;Q.ProcessingInstruction=5;Q.Document=6;Jc.count=0;Vb.i64tmp=new fe(0,0);nc.escapes=function(a){a=new aa;null!=Rb.lt?a.setReserved("lt","<"):a.h.lt="<";null!=Rb.gt?a.setReserved("gt",
">"):a.h.gt=">";null!=Rb.amp?a.setReserved("amp","&"):a.h.amp="&";null!=Rb.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=Rb.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);ma.BLACK=0;ma.GREY=10329501;ma.GRAY=10329501;ma.WHITE=16777215;ma.RED=12461619;ma.PINK=14708619;ma.DARKBROWN=4799531;ma.BROWN=10773538;ma.ORANGE=15436081;ma.YELLOW=16245355;ma.DARKGREEN=3098702;ma.GREEN=4491546;ma.LIGHTGREEN=10735143;ma.NIGHTBLUE=1779250;ma.DARKBLUE=22404;ma.BLUE=3252978;ma.LIGHTBLUE=11721967;ma.MAGENTA=
16711935;ma.TRANSPARENT=1;qa.debuglog=[];ra.__temp=new ra;ra.__identity=new ra;e.LEFT=-1E4;e.RIGHT=-2E4;e.TOP=-1E4;e.BOTTOM=-2E4;e.CENTER=-15E3;e.render_fps_max=-1;e.update_fps_max=-1;e.BASE64="abcdefghijklmnopqrstuvwxyz0123456789$=ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.KEEPCOL=-1;e.bresx1=[];e.bresy1=[];e.bresx2=[];e.bresy2=[];e.fillcirclepoints=[];e.tiles=[];e.tilesetindex=new aa;e.currenttileset=-1;e.animations=[];e.animationindex=new aa;e.images=[];e.tl=new la(0,0);e.imageindex=new aa;e.tempshape=new xd;
e.shapematrix=new ra;e.hslval=[];y.keymap=new Ic;y.lookup=new Kb;y.current=[];y.last=[];y.keydelay=[];y.keyheld=[];y.numletters=256;y.keybuffer="";C.mousewheel=0;C.gotosite="";P.seed=0;k.cachedtextindex=new aa;k.cachedtext=[];k.fontfile=[];k.fontfileindex=new aa;k.typeface=[];k.typefaceindex=new aa;k.fontmatrix=new ra;k.currentindex=-1;k.currentfont="null";k.currentsize=-1;k.LEFT=-1E4;k.RIGHT=-2E4;k.TOP=-1E4;k.BOTTOM=-2E4;k.CENTER=-15E3;ca.spaceCode=32;ca.tabCode=9;ca.newLineCode=10;ca.defaultFontKey=
"defaultFontKey";ca.defaultFontData=" 36000000000000000000!26101010001000\"46101010100000000000000000#66010100111110010100111110010100000000$56001000111011000001101110000100%66100100000100001000010000010010000000&66011000100000011010100100011010000000'26101000000000(36010100100100010000)36100010010010100000*46000010100100101000000000+46000001001110010000000000,36000000000000010100-46000000001110000000000000.26000000001000/66000010000100001000010000100000000000056011001001010010100100110000000156011000010000100001000010000000256111000001001100100001111000000356111000001001100000101110000000456100101001010010011100001000000556111101000011100000101110000000656011001000011100100100110000000756111000001000010001100001000000856011001001001100100100110000000956011001001010010011100001000000:26001000100000;26001000101000<46001001001000010000100000=46000011100000111000000000>46100001000010010010000000?56111000001001100000000100000000@66011100100010101110101010011100000000A56011001001010010111101001000000B56111001001011100100101110000000C56011001001010000100100110000000D56111001001010010100101110000000E56111101000011000100001111000000F56111101000010000110001000000000G56011001000010110100100111000000H56100101001011110100101001000000I26101010101000J56000100001000010100100110000000K56100101001010010111001001000000L46100010001000100011100000M66100010100010110110101010100010000000N56100101001011010101101001000000O56011001001010010100100110000000P56111001001010010111001000000000Q56011001001010010100100110000010R56111001001010010111001001000000S56011101000001100000101110000000T46111001000100010001000000U56100101001010010100100110000000V56100101001010010101000100000000W66100010100010101010110110100010000000X56100101001001100100101001000000Y56100101001010010011100001001100Z56111100001001100100001111000000[36110100100100110000}46110001000010010011000000]36110010010010110000^46010010100000000000000000_46000000000000000011110000'26101000000000a56000000111010010100100111000000b56100001110010010100101110000000c46000001101000100001100000d56000100111010010100100111000000e56000000110010110110000110000000f46011010001000110010000000g5700000011001001010010011100001001100h56100001110010010100101001000000i26100010101000j37010000010010010010100k56100001001010010111001001000000l26101010101000m66000000111100101010101010101010000000n56000001110010010100101001000000o56000000110010010100100110000000p5700000111001001010010111001000010000q5700000011101001010010011100001000010r46000010101100100010000000s56000000111011000001101110000000t46100011001000100001100000u56000001001010010100100111000000v56000001001010010101000100000000w66000000101010101010101010011110000000x56000001001010010011001001000000y5700000100101001010010011100001001100z56000001111000100010001111000000{46011001001000010001100000|26101010101000}46110001000010010011000000~56010101010000000000000000000000\\46111010101010101011100000";
ca.fonts=new aa;ca.DEFAULT_GLYPHS=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";ca.POINT=new la;ca.MATRIX=new ra;ca.COLOR_TRANSFORM=new pb;T.__toStr={}.toString;oc.BYTES_PER_ELEMENT=1;Y.cache=new ue;Y.libraries=new aa;Y.onChange=new Pa;Y.initialized=!1;ia.windowID=0;Qa.images=new aa;Qa.loaders=new aa;Ad.onConnect=new Fe;Bd.onConnect=new Ge;Db.onEnd=new fd;Db.onMove=new fd;Db.onStart=new fd;pa.cache=new Ld;jc.__rootURL=window.document.URL;Rc.currentDomain=
new Rc(null);fa.current=new Md;Ea.SIN45=0.7071067811865476;Ea.TAN22=0.41421356237309503;va.SIN45=0.7071067811865476;va.TAN22=0.41421356237309503;v.SIN45=0.7071067811865476;v.TAN22=0.41421356237309503;v.fillCommands=new hd;v.strokeCommands=new hd;cb.glContextId=0;cb.glContexts=[];Ca.UID=0;w.__currentWinding=0;w.__fillIndex=0;sa.__temp=new sa;K.fillVertexAttributes=[new Gb(2,5126,!1,"aPosition")];K.drawTrianglesVertexAttributes=[new Gb(2,5126,!1,"aPosition"),new Gb(2,5126,!1,"aTexCoord0"),new Gb(4,
5121,!0,"aColor")];K.primitiveVertexAttributes=[new Gb(2,5126,!1,"aPosition"),new Gb(4,5126,!1,"aColor")];K.bucketPool=[];K.objectPosition=new la;K.objectBounds=new sa;J.ACTIVATE="activate";J.ADDED="added";J.ADDED_TO_STAGE="addedToStage";J.CHANGE="change";J.COMPLETE="complete";J.DEACTIVATE="deactivate";J.ENTER_FRAME="enterFrame";J.MOUSE_LEAVE="mouseLeave";J.OPEN="open";J.REMOVED="removed";J.REMOVED_FROM_STAGE="removedFromStage";J.RENDER="render";J.RESIZE="resize";fc.TEXT_INPUT="textInput";wb.FOCUS_IN=
"focusIn";wb.FOCUS_OUT="focusOut";Nb.FULL_SCREEN="fullScreen";hc.DEVICE_ADDED="deviceAdded";hc.DEVICE_REMOVED="deviceRemoved";Yc.HTTP_STATUS="httpStatus";Ub.IO_ERROR="ioError";Cb.KEY_DOWN="keyDown";Cb.KEY_UP="keyUp";O.CLICK="click";O.DOUBLE_CLICK="doubleClick";O.MIDDLE_CLICK="middleClick";O.MIDDLE_MOUSE_DOWN="middleMouseDown";O.MIDDLE_MOUSE_UP="middleMouseUp";O.MOUSE_DOWN="mouseDown";O.MOUSE_MOVE="mouseMove";O.MOUSE_OUT="mouseOut";O.MOUSE_OVER="mouseOver";O.MOUSE_UP="mouseUp";O.MOUSE_WHEEL="mouseWheel";
O.RIGHT_CLICK="rightClick";O.RIGHT_MOUSE_DOWN="rightMouseDown";O.RIGHT_MOUSE_UP="rightMouseUp";Zc.PROGRESS="progress";$c.SECURITY_ERROR="securityError";Ec.__registeredSounds=new aa;ua.numDevices=0;ua.__devices=new Jc;ua.__instances=[];R.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var unitTesting=!1,curlevel=0,curlevelTarget=null,levelEditorOpened=!1,compiling=!1,errorStrings=[],errorCount=0,gameScript=null;function getScript(){return gameScript}document.oncontextmenu=function(d){"CANVAS"==d.target.tagName&&d.preventDefault()};function isIDE(){return IDE}function bodyIsTargetted(){return"BODY"==document.activeElement.nodeName}function saveKey_terryhasntupgraded(d,h){localStorage.setItem(window.document.URL.toString()+d,h)}
function loadKey_terryhasntupgraded(d){return localStorage.getItem(window.document.URL.toString()+d)}function onBackspace(d,h){var r;"undefined"!==typeof d.keyIdentifier?r=d.keyIdentifier:"undefined"!==typeof d.keyCode&&(r=d.keyCode);if("U+0008"===r||"Backspace"===r||8===r){if("codemirror-search-field"==d.target.className.toLowerCase())return!1;"function"===typeof h&&h();return!0}return!1}
document.onkeydown=function(d){switch(d.target.tagName.toLowerCase()){case "canvas":d.preventDefault()}if(IDE){onBackspace(d,function(){d.preventDefault()});if(83==d.keyCode&&(navigator.platform.match("Mac")?d.metaKey:d.ctrlKey))return saveClick(),d.preventDefault(),!1;if(13==d.keyCode&&(navigator.platform.match("Mac")?d.metaKey:d.ctrlKey))return runClick(d),d.preventDefault(),!1;if(70==d.keyCode&&(navigator.platform.match("Mac")?d.metaKey:d.ctrlKey)){if("INPUT"===d.target.nodeName)return d.target.blur(),
editor.execCommand("find"),d.preventDefault(),!1;if("BODY"===d.target.nodeName)return editor.execCommand("find"),d.preventDefault(),!1}}};try{if(window.localStorage&&void 0!==localStorage[document.URL]){if(void 0!==localStorage[document.URL+"_checkpoint"]){var curlevelTarget=JSON.parse(localStorage[document.URL+"_checkpoint"]),arr=[],p;for(p in Object.getOwnPropertyNames(curlevelTarget.dat))arr[p]=curlevelTarget.dat[p];curlevelTarget.dat=new Int32Array(arr)}curlevel=localStorage[document.URL]}}catch(ex$$1){}
var verbose_logging=!1,throttle_movement=!1,cache_console_messages=!1,quittingTitleScreen=!1,quittingMessageScreen=!1,deltatime=17,timer=0,repeatinterval=150,autotick=0,autotickinterval=0,winning=!1,againing=!1,againinterval=150,norepeat_action=!1,oldflickscreendat=[],keybuffer=[],messageselected=!1,textImages={},initLevel={width:5,height:5,layerCount:2,dat:[1,3,3,1,1,2,2,3,3,1,2,1,2,2,3,3,1,1,2,2,3,2,1,3,2,1,3,2,1,3,1,3,3,1,1,2,2,3,3,1,2,1,2,2,3,3,1,1,2,2],movementMask:[1,3,3,1,1,2,2,3,3,1,2,1,2,
2,3,3,1,1,2,2,3,2,1,3,2,1,3,2,1,3,1,3,3,1,1,2,2,3,3,1,2,1,2,2,3,3,1,1,2,2],rigidGroupIndexMask:[],rigidMovementAppliedMask:[],bannedGroup:[],colCellContents:[],rowCellContents:[]},level=initLevel;function getTitle(){""==metaData.title&&(metaData.title="Zeedonk game");return metaData.title}var metaData={title:"Zeedonk game",homepage:"",bgCol:"#000000"};function settitle(d){window.console.log("setting title to "+d);metaData.title=d;document.title=d}
function strip_http(d){d=d.replace(/^https?:\/\//,"");return d=d.replace(/\/*$/,"")}function qualifyURL(d){var h=document.createElement("a");h.href=d;return h.href}function qualifyURL2(d){/^(f|ht)tps?:\/\//i.test(d)||(d="http://"+d);return d}
function sethomepage(d){metaData.homepage=d;if(canSetHTMLColors){var h=document.getElementById("homepagelink"),r=document.getElementById("separator");""==d?(r.style.display="none",h.textContent?h.textContent="":line.innerText&&(h.innerText="")):(r.style.display="default",h.href=qualifyURL2(metaData.homepage),h.textContent?h.textContent=strip_http(h.href):line.innerText&&(h.innerText=strip_http(h.href)))}}function decimalToHex(d){d=Number(d).toString(16);return d="000000".substr(0,6-d.length)+d}
function setbackgroundcolor(d){metaData.bgCol="#"+decimalToHex(d);canSetHTMLColors?(d=document.getElementById("openfl-content"),d.style.backgroundColor=metaData.bgCol,document.body.style.backgroundColor=metaData.bgCol):(d=document.getElementById("openfl-content"),d.style.backgroundColor=metaData.bgCol)}
function setforegroundcolor(d){metaData.fgCol="#"+decimalToHex(d);canSetHTMLColors&&(d=document.getElementById("hacklink"),d.style.color=metaData.fgCol,d=document.getElementById("separator"),d.style.color=metaData.fgCol,d=document.getElementById("homepagelink"),d.style.color=metaData.fgCol)};var canSetHTMLColors=!0,canDump=!1,canOpenEditor=!1,canYoutube=!0,IDE=!1;function stripTags(d){var h=document.createElement("div");h.innerHTML=d;return h.textContent||h.innerText||""}function consolePrint(d){window.console.log(d)}function consolePrintWithLines(d,h,r){window.console.log(d+","+h)}function consolePrintWithLinesArray(d,h,r){window.console.log(d+","+h)}function consoleCacheDump(d){window.console.log(d)}
function logError(d,h,r,u){h=document.getElementById("errormessage");d=stripTags(d);h.innerHTML+=d+"<br>"}function consoleError(d,h){var r=document.getElementById("errormessage");d=stripTags(d);r.innerHTML+=d+"<br>"}function logErrorNoLine(d){var h=document.getElementById("errormessage");d=stripTags(d);h.innerHTML+=d+"<br>"}function logBetaMessage(d){var h=document.getElementById("errormessage");d=stripTags(d);h.innerHTML+=d+"<br>"}function clearInputHistory(){}function pushInput(d){};/*
 Public Domain

 @example
 var rng = new RNG('Example');
 rng.random(40, 50);  // =>  42
 rng.uniform();       // =>  0.7972798995050903
 rng.normal();        // => -0.6698504543216376
 rng.exponential();   // =>  1.0547367609131555
 rng.poisson(4);      // =>  2
 rng.gamma(4);        // =>  2.781724687386858
*/
String.prototype.getBytes=function(){for(var d=[],h=0;h<this.length;h++){var r=this.charCodeAt(h),u=[];do u.push(r&255),r>>=8;while(0<r);d=d.concat(u.reverse())}return d};function RC4(d){this.s=Array(256);for(var h=this.j=this.i=0;256>h;h++)this.s[h]=h;d&&this.mix(d)}RC4.prototype._swap=function(d,h){var r=this.s[d];this.s[d]=this.s[h];this.s[h]=r};RC4.prototype.mix=function(d){d=d.getBytes();for(var h=0,r=0;r<this.s.length;r++)h+=this.s[r]+d[r%d.length],h%=256,this._swap(r,h)};
RC4.prototype.next=function(){this.i=(this.i+1)%256;this.j=(this.j+this.s[this.i])%256;this._swap(this.i,this.j);return this.s[(this.s[this.i]+this.s[this.j])%256]};function print_call_stack(){console.log(Error().stack)}
function RNG(d){this.seed=d;null==d?d=(Math.random()+Date.now()).toString():"function"===typeof d?(this.uniform=d,this.nextByte=function(){return~~(256*this.uniform())},d=null):"[object String]"!==Object.prototype.toString.call(d)&&(d=JSON.stringify(d));this._normal=null;this._state=d?new RC4(d):null}RNG.prototype.nextByte=function(){return this._state.next()};RNG.prototype.uniform=function(){for(var d=0,h=0;7>h;h++)d*=256,d+=this.nextByte();return d/(Math.pow(2,56)-1)};
RNG.prototype.random=function(d,h){if(null==d)return this.uniform();null==h&&(h=d,d=0);return d+Math.floor(this.uniform()*(h-d))};RNG.prototype.normal=function(){if(null!==this._normal){var d=this._normal;this._normal=null;return d}var d=this.uniform()||Math.pow(2,-53),h=this.uniform();this._normal=Math.sqrt(-2*Math.log(d))*Math.sin(2*Math.PI*h);return Math.sqrt(-2*Math.log(d))*Math.cos(2*Math.PI*h)};RNG.prototype.exponential=function(){return-Math.log(this.uniform()||Math.pow(2,-53))};
RNG.prototype.poisson=function(d){d=Math.exp(-(d||1));var h=0,r=1;do h++,r*=this.uniform();while(r>d);return h-1};RNG.prototype.gamma=function(d){var h=(1>d?1+d:d)-1/3,r=1/Math.sqrt(9*h);do{do var u=this.normal(),M=Math.pow(r*u+1,3);while(0>=M);var z=this.uniform(),u=Math.pow(u,2)}while(z>=1-0.0331*u*u&&Math.log(z)>=0.5*u+h*(1-M+Math.log(M)));return 1>d?h*M*Math.exp(this.exponential()/-d):h*M};
RNG.roller=function(d,h){var r=d.split(/(\d+)?d(\d+)([+-]\d+)?/).slice(1),u=parseFloat(r[0])||1,M=parseFloat(r[1]),z=parseFloat(r[2])||0;h=h||new RNG;return function(){for(var d=u+z,l=0;l<u;l++)d+=h.random(M);return d}};var FastBase64_chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",FastBase64_encLookup=[];function FastBase64_Init(){for(var d=0;4096>d;d++)FastBase64_encLookup[d]=FastBase64_chars[d>>6]+FastBase64_chars[d&63]}
function FastBase64_Encode(d){for(var h=d.length,r="",u=0;2<h;)n=d[u]<<16|d[u+1]<<8|d[u+2],r+=FastBase64_encLookup[n>>12]+FastBase64_encLookup[n&4095],h-=3,u+=3;if(0<h){var M=(d[u]&252)>>2,z=(d[u]&3)<<4;1<h&&(z|=(d[++u]&240)>>4);r+=FastBase64_chars[M];r+=FastBase64_chars[z];2==h&&(M=(d[u++]&15)<<2,M|=(d[u]&192)>>6,r+=FastBase64_chars[M]);1==h&&(r+="=");r+="="}return r}FastBase64_Init();function u32ToArray(d){return[d&255,d>>8&255,d>>16&255,d>>24&255]}
function u16ToArray(d){return[d&255,d>>8&255]}
function MakeRiff(d,h,r){var u=[],M=[];d={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:d,byteRate:0,blockAlign:0,bitsPerSample:h,subChunk2Id:[100,97,116,97],subChunk2Size:0};d.byteRate=d.sampleRate*d.numChannels*d.bitsPerSample>>3;d.blockAlign=d.numChannels*d.bitsPerSample>>3;d.subChunk2Size=r.length;d.chunkSize=36+d.subChunk2Size;u=d.chunkId.concat(u32ToArray(d.chunkSize),d.format,d.subChunk1Id,u32ToArray(d.subChunk1Size),
u16ToArray(d.audioFormat),u16ToArray(d.numChannels),u32ToArray(d.sampleRate),u32ToArray(d.byteRate),u16ToArray(d.blockAlign),u16ToArray(d.bitsPerSample),d.subChunk2Id,u32ToArray(d.subChunk2Size),r);M="data:audio/wav;base64,"+FastBase64_Encode(u);return{dat:[],wav:u,header:d,dataURI:M}}"undefined"!=typeof exports&&(exports.RIFFWAVE=RIFFWAVE);var SOUND_VOL=0.25,SAMPLE_RATE=5512,BIT_DEPTH=8,SQUARE=0,SAWTOOTH=1,SINE=2,NOISE=3,TRIANGLE=4,BREAKER=5,SHAPES="square sawtooth sine noise triangle breaker".split(" "),AUDIO_CONTEXT;"undefined"!=typeof AudioContext?AUDIO_CONTEXT=new AudioContext:"undefined"!=typeof webkitAudioContext&&(AUDIO_CONTEXT=new webkitAudioContext);var masterVolume=1;
function Params(){var d={};d.wave_type=SQUARE;d.p_env_attack=0;d.p_env_sustain=0.3;d.p_env_punch=0;d.p_env_decay=0.4;d.p_base_freq=0.3;d.p_freq_limit=0;d.p_freq_ramp=0;d.p_freq_dramp=0;d.p_vib_strength=0;d.p_vib_speed=0;d.p_arp_mod=0;d.p_arp_speed=0;d.p_duty=0;d.p_duty_ramp=0;d.p_repeat_speed=0;d.p_pha_offset=0;d.p_pha_ramp=0;d.p_lpf_freq=1;d.p_lpf_ramp=0;d.p_lpf_resonance=0;d.p_hpf_freq=0;d.p_hpf_ramp=0;d.sound_vol=0.5;d.sample_rate=SAMPLE_RATE;d.bit_depth=BIT_DEPTH;return d}var rng,seeded=!1;
function frnd(d){return seeded?rng.uniform()*d:Math.random()*d}function rnd(d){return seeded?Math.floor(rng.uniform()*(d+1)):Math.floor(Math.random()*(d+1))}pickupCoin=function(){var d=Params();d.wave_type=Math.floor(frnd(SHAPES.length));3===d.wave_type&&(d.wave_type=0);d.p_base_freq=0.4+frnd(0.5);d.p_env_attack=0;d.p_env_sustain=frnd(0.1);d.p_env_decay=0.1+frnd(0.4);d.p_env_punch=0.3+frnd(0.3);if(rnd(1)){d.p_arp_speed=0.5+frnd(0.2);var h=(frnd(7)|1)+1,r=h+(frnd(7)|1)+2;d.p_arp_mod=+h/+r}return d};
laserShoot=function(){var d=Params();d.wave_type=rnd(2);d.wave_type===SINE&&rnd(1)&&(d.wave_type=rnd(1));d.wave_type=Math.floor(frnd(SHAPES.length));3===d.wave_type&&(d.wave_type=SQUARE);d.p_base_freq=0.5+frnd(0.5);d.p_freq_limit=d.p_base_freq-0.2-frnd(0.6);0.2>d.p_freq_limit&&(d.p_freq_limit=0.2);d.p_freq_ramp=-0.15-frnd(0.2);0===rnd(2)&&(d.p_base_freq=0.3+frnd(0.6),d.p_freq_limit=frnd(0.1),d.p_freq_ramp=-0.35-frnd(0.3));rnd(1)?(d.p_duty=frnd(0.5),d.p_duty_ramp=frnd(0.2)):(d.p_duty=0.4+frnd(0.5),
d.p_duty_ramp=-frnd(0.7));d.p_env_attack=0;d.p_env_sustain=0.1+frnd(0.2);d.p_env_decay=frnd(0.4);rnd(1)&&(d.p_env_punch=frnd(0.3));0===rnd(2)&&(d.p_pha_offset=frnd(0.2),d.p_pha_ramp=-frnd(0.2));rnd(1)&&(d.p_hpf_freq=frnd(0.3));return d};
explosion=function(){var d=Params();rnd(1)?(d.p_base_freq=0.1+frnd(0.4),d.p_freq_ramp=-0.1+frnd(0.4)):(d.p_base_freq=0.2+frnd(0.7),d.p_freq_ramp=-0.2-frnd(0.2));d.p_base_freq*=d.p_base_freq;0===rnd(4)&&(d.p_freq_ramp=0);0===rnd(2)&&(d.p_repeat_speed=0.3+frnd(0.5));d.p_env_attack=0;d.p_env_sustain=0.1+frnd(0.3);d.p_env_decay=frnd(0.5);0===rnd(1)&&(d.p_pha_offset=-0.3+frnd(0.9),d.p_pha_ramp=-frnd(0.3));d.p_env_punch=0.2+frnd(0.6);rnd(1)&&(d.p_vib_strength=frnd(0.7),d.p_vib_speed=frnd(0.6));0===rnd(2)&&
(d.p_arp_speed=0.6+frnd(0.3),d.p_arp_mod=0.8-frnd(1.6));return d};
birdSound=function(){var d=Params();if(1>frnd(10))return d.wave_type=Math.floor(frnd(SHAPES.length)),3===d.wave_type&&(d.wave_type=SQUARE),d.p_env_attack=0.4304400932967592+frnd(0.2)-0.1,d.p_env_sustain=0.15739346034252394+frnd(0.2)-0.1,d.p_env_punch=0.004488201744871758+frnd(0.2)-0.1,d.p_env_decay=0.07478075528212291+frnd(0.2)-0.1,d.p_base_freq=0.9865265720147687+frnd(0.2)-0.1,d.p_freq_limit=0+frnd(0.2)-0.1,d.p_freq_ramp=-0.2995018224359539+frnd(0.2)-0.1,0.5>frnd(1)&&(d.p_freq_ramp=0.1+frnd(0.15)),
d.p_freq_dramp=0.004598608156964473+frnd(0.1)-0.05,d.p_vib_strength=-0.2202799497929496+frnd(0.2)-0.1,d.p_vib_speed=0.8084998703158364+frnd(0.2)-0.1,d.p_arp_mod=0,d.p_arp_speed=0,d.p_duty=-0.9031808754347107+frnd(0.2)-0.1,d.p_duty_ramp=-0.8128699999808343+frnd(0.2)-0.1,d.p_repeat_speed=0.601486018931999+frnd(0.2)-0.1,d.p_pha_offset=-0.9424902314367765+frnd(0.2)-0.1,d.p_pha_ramp=-0.1055482222272056+frnd(0.2)-0.1,d.p_lpf_freq=0.9989765717851521+frnd(0.2)-0.1,d.p_lpf_ramp=-0.25051720626043017+frnd(0.2)-
0.1,d.p_lpf_resonance=0.32777871505494693+frnd(0.2)-0.1,d.p_hpf_freq=0.0023548750981756753+frnd(0.2)-0.1,d.p_hpf_ramp=-0.002375673204842568+frnd(0.2)-0.1,d;if(1>frnd(10))return d.wave_type=Math.floor(frnd(SHAPES.length)),3===d.wave_type&&(d.wave_type=SQUARE),d.p_env_attack=0.5277795946672003+frnd(0.2)-0.1,d.p_env_sustain=0.18243733568468432+frnd(0.2)-0.1,d.p_env_punch=-0.020159754546840117+frnd(0.2)-0.1,d.p_env_decay=0.1561353422051903+frnd(0.2)-0.1,d.p_base_freq=0.9028855606533718+frnd(0.2)-0.1,
d.p_freq_limit=-0.008842787837148716,d.p_freq_ramp=-0.1,d.p_freq_dramp=-0.012891241489551925,d.p_vib_strength=-0.17923136138403065+frnd(0.2)-0.1,d.p_vib_speed=0.908263385610142+frnd(0.2)-0.1,d.p_arp_mod=0.41690153355414894+frnd(0.2)-0.1,d.p_arp_speed=0.0010766233195860704+frnd(0.2)-0.1,d.p_duty=-0.8735363011184684+frnd(0.2)-0.1,d.p_duty_ramp=-0.7397985366747507+frnd(0.2)-0.1,d.p_repeat_speed=0.0591789344172107+frnd(0.2)-0.1,d.p_pha_offset=-0.9961184222777699+frnd(0.2)-0.1,d.p_pha_ramp=-0.08234769395850523+
frnd(0.2)-0.1,d.p_lpf_freq=0.9412475115697335+frnd(0.2)-0.1,d.p_lpf_ramp=-0.18261358925834958+frnd(0.2)-0.1,d.p_lpf_resonance=0.24541438107389477+frnd(0.2)-0.1,d.p_hpf_freq=-0.01831940280978611+frnd(0.2)-0.1,d.p_hpf_ramp=-0.03857383633171346+frnd(0.2)-0.1,d;if(1>frnd(10))return d.wave_type=Math.floor(frnd(SHAPES.length)),3===d.wave_type&&(d.wave_type=SQUARE),d.p_env_attack=0.4304400932967592+frnd(0.2)-0.1,d.p_env_sustain=0.15739346034252394+frnd(0.2)-0.1,d.p_env_punch=0.004488201744871758+frnd(0.2)-
0.1,d.p_env_decay=0.07478075528212291+frnd(0.2)-0.1,d.p_base_freq=0.9865265720147687+frnd(0.2)-0.1,d.p_freq_limit=0+frnd(0.2)-0.1,d.p_freq_ramp=-0.2995018224359539+frnd(0.2)-0.1,d.p_freq_dramp=0.004598608156964473+frnd(0.2)-0.1,d.p_vib_strength=-0.2202799497929496+frnd(0.2)-0.1,d.p_vib_speed=0.8084998703158364+frnd(0.2)-0.1,d.p_arp_mod=-0.46410459213693644+frnd(0.2)-0.1,d.p_arp_speed=-0.10955361249587248+frnd(0.2)-0.1,d.p_duty=-0.9031808754347107+frnd(0.2)-0.1,d.p_duty_ramp=-0.8128699999808343+frnd(0.2)-
0.1,d.p_repeat_speed=0.7014860189319991+frnd(0.2)-0.1,d.p_pha_offset=-0.9424902314367765+frnd(0.2)-0.1,d.p_pha_ramp=-0.1055482222272056+frnd(0.2)-0.1,d.p_lpf_freq=0.9989765717851521+frnd(0.2)-0.1,d.p_lpf_ramp=-0.25051720626043017+frnd(0.2)-0.1,d.p_lpf_resonance=0.32777871505494693+frnd(0.2)-0.1,d.p_hpf_freq=0.0023548750981756753+frnd(0.2)-0.1,d.p_hpf_ramp=-0.002375673204842568+frnd(0.2)-0.1,d;if(1<frnd(5))return d.wave_type=Math.floor(frnd(SHAPES.length)),3===d.wave_type&&(d.wave_type=SQUARE),rnd(1)?
(d.p_arp_mod=0.2697849293151393+frnd(0.2)-0.1,d.p_arp_speed=-0.3131172257760948+frnd(0.2)-0.1,d.p_base_freq=0.8090588299313949+frnd(0.2)-0.1,d.p_duty=-0.6210022920964955+frnd(0.2)-0.1,d.p_duty_ramp=-4.3441813553182567E-4+frnd(0.2)-0.1,d.p_env_attack=0.004321877246874195+frnd(0.2)-0.1,d.p_env_decay=0.1+frnd(0.2)-0.1,d.p_env_punch=0.061737781504416146+frnd(0.2)-0.1,d.p_env_sustain=0.4987252564798832+frnd(0.2)-0.1,d.p_freq_dramp=0.31700340314222614+frnd(0.2)-0.1,d.p_freq_limit=0+frnd(0.2)-0.1,d.p_freq_ramp=
-0.163380391341416+frnd(0.2)-0.1,d.p_hpf_freq=0.4709005021145149+frnd(0.2)-0.1,d.p_hpf_ramp=0.6924667290539194+frnd(0.2)-0.1,d.p_lpf_freq=0.8351398631384511+frnd(0.2)-0.1,d.p_lpf_ramp=0.36616557192873134+frnd(0.2)-0.1,d.p_lpf_resonance=-0.08685777111664439+frnd(0.2)-0.1,d.p_pha_offset=-0.036084571580025544+frnd(0.2)-0.1,d.p_pha_ramp=-0.014806445085568108+frnd(0.2)-0.1,d.p_repeat_speed=-0.8094368475518489+frnd(0.2)-0.1,d.p_vib_speed=0.4496665457171294+frnd(0.2)-0.1,d.p_vib_strength=0.23413762515532424+
frnd(0.2)-0.1):(d.p_arp_mod=-0.35697118026766184+frnd(0.2)-0.1,d.p_arp_speed=0.3581140690559588+frnd(0.2)-0.1,d.p_base_freq=1.3260897696157528+frnd(0.2)-0.1,d.p_duty=-0.30984900436710694+frnd(0.2)-0.1,d.p_duty_ramp=-0.0014374759133411626+frnd(0.2)-0.1,d.p_env_attack=0.3160357835682254+frnd(0.2)-0.1,d.p_env_decay=0.1+frnd(0.2)-0.1,d.p_env_punch=0.24323114016870148+frnd(0.2)-0.1,d.p_env_sustain=0.4+frnd(0.2)-0.1,d.p_freq_dramp=0.2866475886237244+frnd(0.2)-0.1,d.p_freq_limit=0+frnd(0.2)-0.1,d.p_freq_ramp=
-0.10956352368742976+frnd(0.2)-0.1,d.p_hpf_freq=0.20772718017889846+frnd(0.2)-0.1,d.p_hpf_ramp=0.1564090637378835+frnd(0.2)-0.1,d.p_lpf_freq=0.6021372770637031+frnd(0.2)-0.1,d.p_lpf_ramp=0.24016227139979027+frnd(0.2)-0.1,d.p_lpf_resonance=-0.08787383821160144+frnd(0.2)-0.1,d.p_pha_offset=-0.381597686151701+frnd(0.2)-0.1,d.p_pha_ramp=-2.481687661373495E-4+frnd(0.2)-0.1,d.p_repeat_speed=0.07812112809425686+frnd(0.2)-0.1,d.p_vib_speed=-0.13648848579133943+frnd(0.2)-0.1,d.p_vib_strength=0.0018874158972302657+
frnd(0.2)-0.1),d;d.wave_type=Math.floor(frnd(SHAPES.length));if(1===d.wave_type||3===d.wave_type)d.wave_type=2;d.p_base_freq=0.85+frnd(0.15);d.p_freq_ramp=0.3+frnd(0.15);d.p_env_attack=0+frnd(0.09);d.p_env_sustain=0.2+frnd(0.3);d.p_env_decay=0+frnd(0.1);d.p_duty=frnd(2)-1;d.p_duty_ramp=Math.pow(frnd(2)-1,3);d.p_repeat_speed=0.5+frnd(0.1);d.p_pha_offset=-0.3+frnd(0.9);d.p_pha_ramp=-frnd(0.3);d.p_arp_speed=0.4+frnd(0.6);d.p_arp_mod=0.8+frnd(0.1);d.p_lpf_resonance=frnd(2)-1;d.p_lpf_freq=1-Math.pow(frnd(1),
3);d.p_lpf_ramp=Math.pow(frnd(2)-1,3);0.1>d.p_lpf_freq&&-0.05>d.p_lpf_ramp&&(d.p_lpf_ramp=-d.p_lpf_ramp);d.p_hpf_freq=Math.pow(frnd(1),5);d.p_hpf_ramp=Math.pow(frnd(2)-1,5);return d};
pushSound=function(){var d=Params();d.wave_type=Math.floor(frnd(SHAPES.length));2===d.wave_type&&d.wave_type++;0===d.wave_type&&(d.wave_type=NOISE);d.p_base_freq=0.1+frnd(0.4);d.p_freq_ramp=0.05+frnd(0.2);d.p_env_attack=0.01+frnd(0.09);d.p_env_sustain=0.01+frnd(0.09);d.p_env_decay=0.01+frnd(0.09);d.p_repeat_speed=0.3+frnd(0.5);d.p_pha_offset=-0.3+frnd(0.9);d.p_pha_ramp=-frnd(0.3);d.p_arp_speed=0.6+frnd(0.3);d.p_arp_mod=0.8-frnd(1.6);return d};
powerUp=function(){var d=Params();rnd(1)?d.wave_type=SAWTOOTH:d.p_duty=frnd(0.6);d.wave_type=Math.floor(frnd(SHAPES.length));3===d.wave_type&&(d.wave_type=SQUARE);rnd(1)?(d.p_base_freq=0.2+frnd(0.3),d.p_freq_ramp=0.1+frnd(0.4),d.p_repeat_speed=0.4+frnd(0.4)):(d.p_base_freq=0.2+frnd(0.3),d.p_freq_ramp=0.05+frnd(0.2),rnd(1)&&(d.p_vib_strength=frnd(0.7),d.p_vib_speed=frnd(0.6)));d.p_env_attack=0;d.p_env_sustain=frnd(0.4);d.p_env_decay=0.1+frnd(0.4);return d};
hitHurt=function(){result=Params();result.wave_type=rnd(2);result.wave_type===SINE&&(result.wave_type=NOISE);result.wave_type===SQUARE&&(result.p_duty=frnd(0.6));result.wave_type=Math.floor(frnd(SHAPES.length));result.p_base_freq=0.2+frnd(0.6);result.p_freq_ramp=-0.3-frnd(0.4);result.p_env_attack=0;result.p_env_sustain=frnd(0.1);result.p_env_decay=0.1+frnd(0.2);rnd(1)&&(result.p_hpf_freq=frnd(0.3));return result};
jump=function(){result=Params();result.wave_type=SQUARE;result.wave_type=Math.floor(frnd(SHAPES.length));3===result.wave_type&&(result.wave_type=SQUARE);result.p_duty=frnd(0.6);result.p_base_freq=0.3+frnd(0.3);result.p_freq_ramp=0.1+frnd(0.2);result.p_env_attack=0;result.p_env_sustain=0.1+frnd(0.3);result.p_env_decay=0.1+frnd(0.2);rnd(1)&&(result.p_hpf_freq=frnd(0.3));rnd(1)&&(result.p_lpf_freq=1-frnd(0.6));return result};
blipSelect=function(){result=Params();result.wave_type=rnd(1);result.wave_type=Math.floor(frnd(SHAPES.length));3===result.wave_type&&(result.wave_type=rnd(1));result.wave_type===SQUARE&&(result.p_duty=frnd(0.6));result.p_base_freq=0.2+frnd(0.4);result.p_env_attack=0;result.p_env_sustain=0.1+frnd(0.1);result.p_env_decay=frnd(0.2);result.p_hpf_freq=0.1;return result};
random=function(){result=Params();result.wave_type=Math.floor(frnd(SHAPES.length));result.p_base_freq=Math.pow(frnd(2)-1,2);rnd(1)&&(result.p_base_freq=Math.pow(frnd(2)-1,3)+0.5);result.p_freq_limit=0;result.p_freq_ramp=Math.pow(frnd(2)-1,5);0.7<result.p_base_freq&&0.2<result.p_freq_ramp&&(result.p_freq_ramp=-result.p_freq_ramp);0.2>result.p_base_freq&&-0.05>result.p_freq_ramp&&(result.p_freq_ramp=-result.p_freq_ramp);result.p_freq_dramp=Math.pow(frnd(2)-1,3);result.p_duty=frnd(2)-1;result.p_duty_ramp=
Math.pow(frnd(2)-1,3);result.p_vib_strength=Math.pow(frnd(2)-1,3);result.p_vib_speed=frnd(2)-1;result.p_env_attack=Math.pow(frnd(2)-1,3);result.p_env_sustain=Math.pow(frnd(2)-1,2);result.p_env_decay=frnd(2)-1;result.p_env_punch=Math.pow(frnd(0.8),2);0.2>result.p_env_attack+result.p_env_sustain+result.p_env_decay&&(result.p_env_sustain+=0.2+frnd(0.3),result.p_env_decay+=0.2+frnd(0.3));result.p_lpf_resonance=frnd(2)-1;result.p_lpf_freq=1-Math.pow(frnd(1),3);result.p_lpf_ramp=Math.pow(frnd(2)-1,3);0.1>
result.p_lpf_freq&&-0.05>result.p_lpf_ramp&&(result.p_lpf_ramp=-result.p_lpf_ramp);result.p_hpf_freq=Math.pow(frnd(1),5);result.p_hpf_ramp=Math.pow(frnd(2)-1,5);result.p_pha_offset=Math.pow(frnd(2)-1,3);result.p_pha_ramp=Math.pow(frnd(2)-1,3);result.p_repeat_speed=frnd(2)-1;result.p_arp_speed=frnd(2)-1;result.p_arp_mod=frnd(2)-1;return result};var generators=[pickupCoin,laserShoot,explosion,powerUp,hitHurt,jump,blipSelect,pushSound,random,birdSound],generatorNames="pickupCoin laserShoot explosion powerUp hitHurt jump blipSelect pushSound random birdSound".split(" ");
generateFromSeed=function(d){rng=new RNG(d/100|0);var h=generators[d%100%generators.length];seeded=!0;h=h();h.seed=d;seeded=!1;return h};function SoundEffect(d,h){this._buffer=AUDIO_CONTEXT.createBuffer(1,d,h)}SoundEffect.prototype.getBuffer=function(){return this._buffer.getChannelData(0)};
SoundEffect.prototype.play=function(){var d=AUDIO_CONTEXT.createBufferSource();d.buffer=this._buffer;d.connect(AUDIO_CONTEXT.destination);var h=AUDIO_CONTEXT.currentTime;"undefined"!=typeof d.start?d.start(h):d.noteOn(h)};SoundEffect.MIN_SAMPLE_RATE=22050;
"undefined"==typeof AUDIO_CONTEXT&&(SoundEffect=function(d,h){this._sample_rate=h;this._buffer=Array(d);this._audioElement=null},SoundEffect.prototype.getBuffer=function(){this._audioElement=null;return this._buffer},SoundEffect.prototype.play=function(){if(this._audioElement)this._audioElement.cloneNode(!1).play();else{for(var d=0;d<this._buffer.length;d++)this._buffer[d]=255&Math.floor(128*Math.max(0,Math.min(this._buffer[d]+1,2)));d=MakeRiff(this._sample_rate,BIT_DEPTH,this._buffer);this._audioElement=
new Audio;this._audioElement.src=d.dataURI;this._audioElement.play()}},SoundEffect.MIN_SAMPLE_RATE=1);
SoundEffect.generate=function(d){function h(){r=0;u=100/(d.p_base_freq*d.p_base_freq+0.001);M=Math.floor(u);z=100/(d.p_freq_limit*d.p_freq_limit+0.001);q=1-0.01*Math.pow(d.p_freq_ramp,3);l=1E-6*-Math.pow(d.p_freq_dramp,3);R=0.5-0.5*d.p_duty;xa=5E-5*-d.p_duty_ramp;ea=0<=d.p_arp_mod?1-0.9*Math.pow(d.p_arp_mod,2):1+10*Math.pow(d.p_arp_mod,2);ob=Math.floor(2E4*Math.pow(1-d.p_arp_speed,2)+32);1==d.p_arp_speed&&(ob=0)}var r,u,M,z,q,l,R,xa,ea,ob;h();var ba=0,ya=0,Ja=0.1*Math.pow(d.p_lpf_freq,3),Ma=1+1E-4*
d.p_lpf_ramp,Hb=5/(1+20*Math.pow(d.p_lpf_resonance,2))*(0.01+Ja);0.8<Hb&&(Hb=0.8);var Ib=0,yb=0.1*Math.pow(d.p_hpf_freq,2),uc=1+3E-4*d.p_hpf_ramp,lc=0,Ob=0.01*Math.pow(d.p_vib_speed,2),L=0.5*d.p_vib_strength,$=0,G=0,Qb=0,Ya=[Math.floor(d.p_env_attack*d.p_env_attack*1E5),Math.floor(d.p_env_sustain*d.p_env_sustain*1E5),Math.floor(d.p_env_decay*d.p_env_decay*1E5)];2E3>Ya[0]&&(Ya[0]=2E3);2E3>Ya[2]&&(Ya[2]=2E3);var Sb=Ya[0]+Ya[1]+Ya[2],Tb=0,zb=1020*Math.pow(d.p_pha_offset,2);0>d.p_pha_offset&&(zb=-zb);
var vc=1*Math.pow(d.p_pha_ramp,2);0>d.p_pha_ramp&&(vc=-vc);for(var La=Math.abs(Math.floor(zb)),kc=0,wc=[],H=0;1024>H;++H)wc[H]=0;for(var db=[],H=0;32>H;++H)db[H]=2*Math.random()-1;var ic=Math.floor(2E4*Math.pow(1-d.p_repeat_speed,2)+32);0==d.p_repeat_speed&&(ic=0);var X=2*d.sound_vol,X=Math.exp(d.sound_vol)-1,Ga=0,N=0,Ab=Math.floor(44100/d.sample_rate),W=0,Sb=Math.ceil(Sb/Ab),Aa=!1,rb;rb=d.sample_rate<SoundEffect.MIN_SAMPLE_RATE?new SoundEffect(4*Sb,SoundEffect.MIN_SAMPLE_RATE):new SoundEffect(Sb,
d.sample_rate);for(var ha=rb.getBuffer(),ga=0;;++ga){0!=ic&&++r>=ic&&h();0!=ob&&ga>=ob&&(ob=0,u*=ea);q+=l;u*=q;u>z&&(u=z,0<d.p_freq_limit&&(Aa=!0));La=u;0<L&&(lc+=Ob,La=u*(1+Math.sin(lc)*L));M=Math.floor(La);8>M&&(M=8);R+=xa;0>R&&(R=0);0.5<R&&(R=0.5);Qb++;Qb>Ya[G]&&(Qb=0,G++,3===G&&(Aa=!0));$=0===G?Qb/Ya[0]:1===G?1+2*Math.pow(1-Qb/Ya[1],1)*d.p_env_punch:1-Qb/Ya[2];zb+=vc;La=Math.abs(Math.floor(zb));1023<La&&(La=1023);0!=uc&&(yb*=uc,1E-5>yb&&(yb=1E-5),0.1<yb&&(yb=0.1));for(var ka=0,B=0;8>B;++B){H=
0;Tb++;if(Tb>=M&&(Tb%=M,d.wave_type===NOISE))for(H=0;32>H;++H)db[H]=2*Math.random()-1;H=Tb/M;if(d.wave_type===SQUARE)H=H<R?0.5:-0.5;else if(d.wave_type===SAWTOOTH)H=1-2*H;else if(d.wave_type===SINE)H=Math.sin(2*H*Math.PI);else if(d.wave_type===NOISE)H=db[Math.floor(32*Tb/M)];else if(d.wave_type===TRIANGLE)H=Math.abs(1-2*H)-1;else if(d.wave_type===BREAKER)H=Math.abs(1-H*H*2)-1;else throw new Exception("bad wave type! "+d.wave_type);var Q=ba,Ja=Ja*Ma;0>Ja&&(Ja=0);0.1<Ja&&(Ja=0.1);1!=d.p_lpf_freq?(ya+=
(H-ba)*Ja,ya-=ya*Hb):(ba=H,ya=0);ba+=ya;Ib+=ba-Q;H=Ib-=Ib*yb;wc[kc&1023]=H;H+=wc[kc-La+1024&1023];kc=kc+1&1023;ka+=H*$}Ga+=ka;if(++N>=Ab&&(N=0,ka=Ga/Ab,Ga=0,ka=ka/8*masterVolume,ka*=X,La=0.1,ka=0<W?ka*La+ha[W-1]*(1-La):0,ha[W++]=ka,d.sample_rate<SoundEffect.MIN_SAMPLE_RATE&&(ka=ka*La+ha[W-1]*(1-La),ha[W++]=ka,ka=ka*La+ha[W-1]*(1-La),ha[W++]=ka,ka=ka*La+ha[W-1]*(1-La),ha[W++]=ka),La=0,Aa)){for(;W<Sb;W++)d.sample_rate<SoundEffect.MIN_SAMPLE_RATE&&(ha[W++]=ha[W-1]*(1-La),ha[W++]=ha[W-1]*(1-La),ha[W++]=
ha[W-1]*(1-La)),ha[W]=ha[W-1]*(1-La);break}}return rb};if("undefined"!=typeof exports){var RIFFWAVE=require("./riffwave").RIFFWAVE;exports.Params=Params;exports.generate=generate}var sfxCache={},noteCache={},cachedSeeds=[],cachedNotes=[],CACHE_MAX=50,NOTE_CACHE_MAX=200;
function cacheNote(d,h,r,u){var M=d.toString()+h.toString()+r.toString()+u.toString();h=Math.sqrt(h);if(M in noteCache)return noteCache[M];d=generateFromSeed(d);var z=[Math.floor(d.p_env_attack*d.p_env_attack*1E5),Math.floor(d.p_env_sustain*d.p_env_sustain*1E5),Math.floor(d.p_env_decay*d.p_env_decay*1E5)];r=44100*r/(z[0]+z[1]+z[2]);r=Math.sqrt(r);d.p_env_attack*=r;d.p_env_sustain*=r;d.p_env_punch*=r;d.p_env_decay*=r;d.p_base_freq=0.4*h;1<u&&(u=1);0>u&&(u=0);d.sound_vol=SOUND_VOL*u;d.sample_rate=SAMPLE_RATE;
d.bit_depth=BIT_DEPTH;h=SoundEffect.generate(d);noteCache[M]=h;for(cachedNotes.push(M);cachedNotes.length>NOTE_CACHE_MAX;)M=cachedNotes[0],cachedNotes=cachedNotes.slice(1),delete noteCache[M];return h}
function cacheSeed(d,h){var r=d+"_"+h;if(r in sfxCache)return sfxCache[r];var u=generateFromSeed(d);u.sound_vol=SOUND_VOL*h;u.sample_rate=SAMPLE_RATE;u.bit_depth=BIT_DEPTH;u=SoundEffect.generate(u);sfxCache[r]=u;for(cachedSeeds.push(r);cachedSeeds.length>CACHE_MAX;)r=cachedSeeds[0],cachedSeeds=cachedSeeds.slice(1),delete sfxCache[r];return u}function playNote(d,h,r,u){unitTesting||cacheNote(d,h,r,u).play()}
function playSound(d,h){"undefined"===typeof h&&(h=1);1<h&&(h=1);0>h&&(h=0);unitTesting||cacheSeed(d,h).play()};var keyRepeatTimer=0,keyRepeatIndex=0,input_throttle_timer=0,lastinput=-100,dragging=!1,rightdragging=!1,columnAdded=!1,selectableint=0,anyEditsSinceMouseDown=!1;function rightClickCanvas(d){return prevent(d)}function relMouseCoords(d){var h=0,r=0,u=0,M=0,u=this;do h+=u.offsetLeft-u.scrollLeft,r+=u.offsetTop-u.scrollTop;while(u=u.offsetParent);u=d.pageX-h;M=d.pageY-r;return{x:u,y:M}}HTMLCanvasElement.prototype.relMouseCoords=relMouseCoords;
function onMyFocus(d){keybuffer=[];keyRepeatTimer=keyRepeatIndex=0}function onMyBlur(d){keybuffer=[];keyRepeatTimer=keyRepeatIndex=0}var mouseCoordX=0,mouseCoordY=0;window.addEventListener("focus",onMyFocus,!1);window.addEventListener("blur",onMyBlur,!1);function prevent(d){d.preventDefault&&d.preventDefault();d.stopImmediatePropagation&&d.stopImmediatePropagation();d.stopPropagation&&d.stopPropagation();return d.returnValue=!1};function displayError(d){document.getElementById("errormessage").innerHTML="ERROR "+d+"<br>"}function getParameterByName(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");d=RegExp("[\\?&]"+d+"=([^&#]*)").exec(location.search);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))}function qualifyURL(d){var h=document.createElement("a");h.href=d;return h.href}var interpreter;function terryRun(d){null==interpreter&&(interpreter=new Webbridge);interpreter.runScript(d)}
function tryLoadFile(d){var h=new XMLHttpRequest;h.open("GET",d+".hx");h.setRequestHeader("Content-type","text/plain ; charset=utf-8");h.onreadystatechange=function(){if(4==h.readyState){var r=h.responseText;terryRun(r);gameScript=r;var r=document.getElementById("hacklink"),u="editor.html?demo=../"+d,u=qualifyURL(u);r.href=u}};h.send()}function loadDefault(){tryLoadFile("default")}
function getData(){var d=getParameterByName("demo");if(null!==d&&0<d.length)tryLoadFile("demo/"+d);else{var h=getParameterByName("p").replace(/[\\\/]/,"");if(null===h||0===h.length)loadDefault();else{var r=new XMLHttpRequest;r.open("GET","https://api.github.com/gists/"+h);r.onreadystatechange=function(){if(4==r.readyState){var d=JSON.parse(r.responseText);403===r.status?displayError(d.message):200!==r.status&&201!==r.status&&displayError("HTTP Error "+r.status+" - "+r.statusText);d=JSON.parse(r.responseText);
d=null==d.files["script.hx"]?d.files["script.txt"].content:d.files["script.hx"].content;terryRun(d);gameScript=d;var d=document.getElementById("hacklink"),M="editor.html?hack="+h,M=qualifyURL(M);d.href=M}};r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.send()}}}getData();window.addEventListener("keydown",function(d){-1<[32,37,38,39,40].indexOf(d.keyCode)&&d.preventDefault()},!1);
function onresize(d){var h=window.devicePixelRatio;d=Math.round(window.innerWidth*h);var r=Math.round((window.innerHeight-20)*h),u=document.getElementById("openfl-content");u.style.width=d+"px";u.style.height=r+"px";u.style.transform="scale("+1/h+","+1/h+")";u.style.transformOrigin="0 0";h=document.getElementById("openfl-content").childNodes[0];h.width=d;h.height=r;h.getContext("2d").width=d;h.height=r}lime.embed("openfl-content",0,0,"000000");setTimeout(onresize,100);
window.addEventListener("resize",onresize,!1);
